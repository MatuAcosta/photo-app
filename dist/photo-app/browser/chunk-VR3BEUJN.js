var hR=Object.create;var oh=Object.defineProperty,fR=Object.defineProperties,pR=Object.getOwnPropertyDescriptor,gR=Object.getOwnPropertyDescriptors,mR=Object.getOwnPropertyNames,rc=Object.getOwnPropertySymbols,tw=Object.getPrototypeOf,ah=Object.prototype.hasOwnProperty,nw=Object.prototype.propertyIsEnumerable,yR=Reflect.get;var ew=(t,e,n)=>e in t?oh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})ah.call(e,n)&&ew(t,n,e[n]);if(rc)for(var n of rc(e))nw.call(e,n)&&ew(t,n,e[n]);return t},ue=(t,e)=>fR(t,gR(e));var rw=(t,e)=>{var n={};for(var r in t)ah.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rc)for(var r of rc(t))e.indexOf(r)<0&&nw.call(t,r)&&(n[r]=t[r]);return n};var LH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mR(e))!ah.call(t,i)&&i!==n&&oh(t,i,{get:()=>e[i],enumerable:!(r=pR(e,i))||r.enumerable});return t};var VH=(t,e,n)=>(n=t!=null?hR(tw(t)):{},vR(e||!t||!t.__esModule?oh(n,"default",{value:t,enumerable:!0}):n,t));var Pn=(t,e,n)=>yR(tw(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function L(t){return typeof t=="function"}function _i(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ic=_i(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ir(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof ic?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{iw(s)}catch(o){e=e??[],o instanceof ic?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)iw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ir(n,e)}remove(e){let{_finalizers:n}=this;n&&Ir(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();var ch=ve.EMPTY;function sc(t){return t instanceof ve||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function iw(t){L(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(t,e,...n){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=wi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oc(t){wi.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Er(){}var sw=(()=>uh("C",void 0,void 0))();function ow(t){return uh("E",void 0,t)}function aw(t){return uh("N",t,void 0)}function uh(t,e,n){return{kind:t,value:e,error:n}}var Tr=null;function Ii(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!Tr;if(e&&(Tr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Tr;if(Tr=null,n)throw r}}else t()}function cw(t){St.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=t)}var Dr=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sc(e)&&e.add(this)):this.destination=IR}static create(e,n,r){return new At(e,n,r)}next(e){this.isStopped?dh(aw(e),this):this._next(e)}error(e){this.isStopped?dh(ow(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dh(sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_R=Function.prototype.bind;function lh(t,e){return _R.call(t,e)}var hh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ac(r)}else ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ac(n)}}},At=class extends Dr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lh(e.next,s),error:e.error&&lh(e.error,s),complete:e.complete&&lh(e.complete,s)}):i=e}this.destination=new hh(i)}};function ac(t){St.useDeprecatedSynchronousErrorHandling?cw(t):oc(t)}function wR(t){throw t}function dh(t,e){let{onStoppedNotification:n}=St;n&&wi.setTimeout(()=>n(t,e))}var IR={closed:!0,next:Er,error:wR,complete:Er};var Ei=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Pe(t){return t}function fh(...t){return ph(t)}function ph(t){return t.length===0?Pe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=TR(n)?n:new At(n,r,i);return Ii(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=uw(r),new r((i,s)=>{let o=new At({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ei](){return this}pipe(...n){return ph(n)(this)}toPromise(n){return n=uw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function uw(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function ER(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function TR(t){return t&&t instanceof Dr||ER(t)&&sc(t)}var lw=_i(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lw}next(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ch:(this.currentObservers=null,s.push(n),new ve(()=>{this.currentObservers=null,Ir(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new cc(e,n),t})(),cc=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ch}};var Rt=_i(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function DR(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new At({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Rt)}});t.subscribe(s)})}function gh(t){return L(t?.lift)}function U(t){return e=>{if(gh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(t,e,n,r,i){return new mh(t,e,n,r,i)}var mh=class extends Dr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(t){return this instanceof Cr?(this.v=t,this):new Cr(t)}function fw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Cr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dw=="function"?dw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function lc(t){return L(t?.then)}function dc(t){return L(t[Ei])}function hc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function fc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pc=CR();function gc(t){return L(t?.[pc])}function mc(t){return fw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Cr(n.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{n.releaseLock()}})}function yc(t){return L(t?.getReader)}function ae(t){if(t instanceof Q)return t;if(t!=null){if(dc(t))return bR(t);if(uc(t))return SR(t);if(lc(t))return AR(t);if(hc(t))return gw(t);if(gc(t))return RR(t);if(yc(t))return xR(t)}throw fc(t)}function bR(t){return new Q(e=>{let n=t[Ei]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SR(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AR(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oc)})}function RR(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gw(t){return new Q(e=>{MR(t,e).catch(n=>e.error(n))})}function xR(t){return gw(mc(t))}function MR(t,e){var n,r,i,s;return hw(this,void 0,void 0,function*(){try{for(n=pw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function vc(t){return U((e,n)=>{ae(t).subscribe(V(n,()=>n.complete(),Er)),!n.closed&&e.subscribe(n)})}function Ti(){return U((t,e)=>{let n=null;t._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Di=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ve;let n=this.getSubject();e.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ve.EMPTY)}return e}refCount(){return Ti()(this)}};var Oe=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vh={now(){return(vh.delegate||Date).now()},delegate:void 0};var _c=class extends ve{constructor(e,n){super()}schedule(e,n=0){return this}};var $s={setInterval(t,e,...n){let{delegate:r}=$s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=$s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ci=class extends _c{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return $s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&$s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=vh.now;var Si=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hs=new Si(Ci);var wc=class extends Ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ic=class extends Si{};var _h=new Ic(wc);var vt=new Q(t=>t.complete());function mw(t){return t&&L(t.schedule)}function yw(t){return t[t.length-1]}function Ai(t){return L(yw(t))?t.pop():void 0}function On(t){return mw(yw(t))?t.pop():void 0}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kn(t,e=0){return U((n,r)=>{n.subscribe(V(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function Fn(t,e=0){return U((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vw(t,e){return ae(t).pipe(Fn(e),kn(e))}function _w(t,e){return ae(t).pipe(Fn(e),kn(e))}function ww(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Iw(t,e){return new Q(n=>{let r;return tt(n,e,()=>{r=t[pc](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Ec(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ew(t,e){return Ec(mc(t),e)}function Tw(t,e){if(t!=null){if(dc(t))return vw(t,e);if(uc(t))return ww(t,e);if(lc(t))return _w(t,e);if(hc(t))return Ec(t,e);if(gc(t))return Iw(t,e);if(yc(t))return Ew(t,e)}throw fc(t)}function he(t,e){return e?Tw(t,e):ae(t)}function x(...t){let e=On(t);return he(t,e)}function Ri(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function wh(t){return!!t&&(t instanceof Q||L(t.lift)&&L(t.subscribe))}function H(t,e){return U((n,r)=>{let i=0;n.subscribe(V(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:NR}=Array;function PR(t,e){return NR(e)?t(...e):t(e)}function Tc(t){return H(e=>PR(t,e))}var{isArray:OR}=Array,{getPrototypeOf:kR,prototype:FR,keys:LR}=Object;function Dc(t){if(t.length===1){let e=t[0];if(OR(e))return{args:e,keys:null};if(VR(e)){let n=LR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function VR(t){return t&&typeof t=="object"&&kR(t)===FR}function Cc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zs(...t){let e=On(t),n=Ai(t),{args:r,keys:i}=Dc(t);if(r.length===0)return he([],e);let s=new Q(UR(r,e,i?o=>Cc(i,o):Pe));return n?s.pipe(Tc(n)):s}function UR(t,e,n=Pe){return r=>{Dw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Dw(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(V(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Dw(t,e,n){t?tt(n,t,e):e()}function Cw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let v=!1;ae(n(y,l++)).subscribe(V(e,E=>{i?.(E),s?f(E):e.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let E=c.shift();o?tt(e,o,()=>g(E)):g(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(V(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return L(e)?_e((r,i)=>H((s,o)=>e(r,s,i,o))(ae(t(r,i))),n):(typeof e=="number"&&(n=e),U((r,i)=>Cw(r,i,t,n)))}function xi(t=1/0){return _e(Pe,t)}function bw(){return xi(1)}function Mi(...t){return bw()(he(t,On(t)))}function bc(t){return new Q(e=>{ae(t()).subscribe(e)})}function jR(...t){let e=Ai(t),{args:n,keys:r}=Dc(t),i=new Q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ae(n[l]).subscribe(V(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Cc(r,a):a),s.complete())}))}});return e?i.pipe(Tc(e)):i}function Be(t,e){return U((n,r)=>{let i=0;n.subscribe(V(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ln(t){return U((e,n)=>{let r=null,i=!1,s;r=e.subscribe(V(n,void 0,void 0,o=>{s=ae(t(o,Ln(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Sw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(V(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function dn(t,e){return L(e)?_e(t,e,1):_e(t,1)}function BR(t,e=Hs){return U((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(V(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Vn(t){return U((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>vt:U((e,n)=>{let r=0;e.subscribe(V(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ih(t){return H(()=>t)}function $R(t,e=Pe){return t=t??HR,U((n,r)=>{let i,s=!0;n.subscribe(V(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function HR(t,e){return t===e}function Sc(t=zR){return U((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zR(){return new Rt}function Ni(t){return U((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):Pe,hn(1),n?Vn(e):Sc(()=>new Rt))}function Pi(t){return t<=0?()=>vt:U((e,n)=>{let r=[];e.subscribe(V(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Eh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):Pe,Pi(1),n?Vn(e):Sc(()=>new Rt))}function qR(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return H(n=>{let r=n;for(let i=0;i<e;i++){let s=r?.[t[i]];if(typeof s<"u")r=s;else return}return r})}function Th(t,e){return U(Sw(t,e,arguments.length>=2,!0))}function GR(t={}){let{connector:e=()=>new je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let y=o;f(),y?.unsubscribe()};return U((y,v)=>{u++,!d&&!l&&h();let E=c=c??e();v.add(()=>{u--,u===0&&!d&&!l&&(a=Dh(g,i))}),E.subscribe(v),!o&&u>0&&(o=new At({next:O=>E.next(O),error:O=>{d=!0,h(),a=Dh(f,n,O),E.error(O)},complete:()=>{l=!0,h(),a=Dh(f,r),E.complete()}}),ae(y).subscribe(o))})(s)}}function Dh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new At({next:()=>{r.unsubscribe(),t()}});return ae(e(...n)).subscribe(r)}function WR(t){return Be((e,n)=>t<=n)}function Ch(...t){let e=On(t);return U((n,r)=>{(e?Mi(t,n,e):Mi(t,n)).subscribe(r)})}function ot(t,e){return U((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(V(r,c=>{i?.unsubscribe();let u=0,l=s++;ae(t(c,l)).subscribe(i=V(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fe(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?U((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(V(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Pe}function KR(...t){let e=Ai(t);return U((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)ae(t[c]).subscribe(V(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Pe))&&(o=null))},Er));n.subscribe(V(r,c=>{if(a){let u=[c,...s];r.next(e?e(...u):u)}}))})}function Aw(t,e){return Object.is(t,e)}var Se=null,Ac=!1,Rc=1,br=Symbol("SIGNAL");function De(t){let e=Se;return Se=t,e}var Mc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rw(t){if(Ac)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(t);let e=Se.nextProducerIndex++;if(Oi(Se),e<Se.producerNode.length&&Se.producerNode[e]!==t&&qs(Se)){let n=Se.producerNode[e];Nc(n,Se.producerIndexOfThis[e])}Se.producerNode[e]!==t&&(Se.producerNode[e]=t,Se.producerIndexOfThis[e]=qs(Se)?Ow(t,Se,e):0),Se.producerLastReadVersion[e]=t.version}function QR(){Rc++}function xw(t){if(!(qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rc)){if(!t.producerMustRecompute(t)&&!xh(t)){t.dirty=!1,t.lastCleanEpoch=Rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rc}}function Mw(t){if(t.liveConsumerNode===void 0)return;let e=Ac;Ac=!0;try{for(let n of t.liveConsumerNode)n.dirty||YR(n)}finally{Ac=e}}function Nw(){return Se?.consumerAllowSignalWrites!==!1}function YR(t){t.dirty=!0,Mw(t),t.consumerMarkedDirty?.(t)}function Ah(t){return t&&(t.nextProducerIndex=0),De(t)}function Rh(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Nc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xh(t){Oi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xw(n),r!==n.version))return!0}return!1}function Pw(t){if(Oi(t),qs(t))for(let e=0;e<t.producerNode.length;e++)Nc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ow(t,e,n){if(kw(t),Oi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ow(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Nc(t,e){if(kw(t),Oi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Nc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oi(i),i.producerIndexOfThis[r]=e}}function qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Fw(t){let e=Object.create(JR);e.computation=t;let n=()=>{if(xw(e),Rw(e),e.value===xc)throw e.error;return e.value};return n[br]=e,n}var bh=Symbol("UNSET"),Sh=Symbol("COMPUTING"),xc=Symbol("ERRORED"),JR=(()=>ue(D({},Mc),{value:bh,dirty:!0,error:null,equal:Aw,producerMustRecompute(t){return t.value===bh||t.value===Sh},producerRecomputeValue(t){if(t.value===Sh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Sh;let n=Ah(t),r;try{r=t.computation()}catch(i){r=xc,t.error=i}finally{Rh(t,n)}if(e!==bh&&e!==xc&&r!==xc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}}))();function ZR(){throw new Error}var Lw=ZR;function Vw(){Lw()}function Uw(t){Lw=t}var XR=null;function jw(t){let e=Object.create(ex);e.value=t;let n=()=>(Rw(e),e.value);return n[br]=e,n}function Mh(t,e){Nw()||Vw(),t.equal(t.value,e)||(t.value=e,tx(t))}function Bw(t,e){Nw()||Vw(),Mh(t,e(t.value))}var ex=(()=>ue(D({},Mc),{equal:Aw,value:void 0}))();function tx(t){t.version++,QR(),Mw(t),XR?.()}function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function Pc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $w(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var nx=se({__forward_ref__:se});function AI(t){return t.__forward_ref__=AI,t.toString=function(){return Je(this())},t}function Ye(t){return RI(t)?t():t}function RI(t){return typeof t=="function"&&t.hasOwnProperty(nx)&&t.__forward_ref__===AI}function xI(t){return t&&!!t.\u0275providers}var MI="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(gu(e,n)),this.code=e}};function gu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var rx=se({\u0275cmp:se}),ix=se({\u0275dir:se}),sx=se({\u0275pipe:se}),ox=se({\u0275mod:se}),Wc=se({\u0275fac:se}),Ws=se({__NG_ELEMENT_ID__:se}),Hw=se({__NG_ENV_ID__:se});function mu(t){return typeof t=="string"?t:t==null?"":String(t)}function ax(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mu(t)}function cx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}function ep(t,e){let n=e?` in ${e}`:"";throw new b(-201,!1)}function ux(t,e){t==null&&lx(e,t,null,"!=")}function lx(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function yu(t){return zw(t,PI)||zw(t,OI)}function NI(t){return yu(t)!==null}function zw(t,e){return t.hasOwnProperty(e)?t[e]:null}function dx(t){let e=t&&(t[PI]||t[OI]);return e||null}function qw(t){return t&&(t.hasOwnProperty(Gw)||t.hasOwnProperty(hx))?t[Gw]:null}var PI=se({\u0275prov:se}),Gw=se({\u0275inj:se}),OI=se({ngInjectableDef:se}),hx=se({ngInjectorDef:se}),G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),Yh;function kI(){return Yh}function nt(t){let e=Yh;return Yh=t,e}function FI(t,e,n){let r=yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;ep(Je(t),"Injector")}var fn=globalThis;var M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var fx={},Ks=fx,Jh="__NG_DI_FLAG__",Kc="ngTempTokenPath",px="ngTokenPath",gx=/\n/gm,mx="\u0275",Ww="__source",Ui;function yx(){return Ui}function Un(t){let e=Ui;return Ui=t,e}function vx(t,e=G.Default){if(Ui===void 0)throw new b(-203,!1);return Ui===null?FI(t,void 0,e):Ui.get(t,e&G.Optional?null:void 0,e)}function S(t,e=G.Default){return(kI()||vx)(Ye(t),e)}function w(t,e=G.Default){return S(t,vu(e))}function vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],c=_x(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function tp(t,e){return t[Jh]=e,t.prototype[Jh]=e,t}function _x(t){return t[Jh]}function wx(t,e,n,r){let i=t[Kc];throw e[Ww]&&i.unshift(e[Ww]),t.message=Ix(`
`+t.message,i,n,r),t[px]=i,t[Kc]=null,t}function Ix(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mx?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gx,`
  `)}`}function co(t){return{toString:t}.toString()}var LI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(LI||{}),qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qt||{}),Bi={},at=[];function VI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Ex(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function UI(t){return t===3||t===4||t===6}function Ex(t){return t.charCodeAt(0)===64}function Qs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Kw(t,n,i,null,e[++r]):Kw(t,n,i,null,null))}}return t}function Kw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var jI="ng-template";function Tx(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&VI(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function BI(t){return t.type===4&&t.value!==jI}function Dx(t,e,n){let r=t.type===4&&!n?jI:t.value;return e===r}function Cx(t,e,n){let r=4,i=t.attrs||[],s=Ax(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Dx(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Tx(t.attrs,u,n)){if(Mt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=bx(l,i,BI(t),n);if(d===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&VI(f,u,0)!==-1||r&2&&u!==h){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function bx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Rx(e,t)}function $I(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cx(t,e[r],n))return!0;return!1}function Sx(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Ax(t){for(let e=0;e<t.length;e++){let n=t[e];if(UI(n))return e}return t.length}function Rx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xx(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Qw(t,e){return t?":not("+e.trim()+")":e}function Mx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=Qw(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=Qw(s,i)),e}function Nx(t){return t.map(Mx).join(",")}function Px(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function HI(t){return co(()=>{let e=KI(t),n=ue(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===LI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});QI(n);let r=t.dependencies;return n.directiveDefs=Jw(r,!1),n.pipeDefs=Jw(r,!0),n.id=Fx(n),n})}function Ox(t){return Bn(t)||zI(t)}function kx(t){return t!==null}function It(t){return co(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yw(t,e){if(t==null)return Bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function _u(t){return co(()=>{let e=KI(t);return QI(e),e})}function np(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Bn(t){return t[rx]||null}function zI(t){return t[ix]||null}function qI(t){return t[sx]||null}function GI(t){let e=Bn(t)||zI(t)||qI(t);return e!==null?e.standalone:!1}function WI(t,e){let n=t[ox]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function KI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yw(t.inputs,e),outputs:Yw(t.outputs),debugInfo:null}}function QI(t){t.features?.forEach(e=>e(t))}function Jw(t,e){if(!t)return null;let n=e?qI:Ox;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kx)}function Fx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var ct=0,j=1,N=2,we=3,Pt=4,ut=5,Ot=6,Ys=7,$e=8,$i=9,pn=10,le=11,Js=12,Zw=13,Qi=14,rt=15,wu=16,ki=17,Zs=18,Iu=19,YI=20,jn=21,Nh=22,Ar=23,Ce=25,JI=1,Xs=6,gn=7,Qc=8,Yc=9,He=10,Hi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Hi||{});function zt(t){return Array.isArray(t)&&typeof t[JI]=="object"}function _t(t){return Array.isArray(t)&&t[JI]===!0}function ZI(t){return(t.flags&4)!==0}function uo(t){return t.componentOffset>-1}function rp(t){return(t.flags&1)===1}function $n(t){return!!t.template}function XI(t){return(t[N]&512)!==0}function Rr(t,e){let n=t.hasOwnProperty(Wc);return n?t[Wc]:null}var ef=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lo(){return eE}function eE(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vx),Lx}lo.ngInherit=!0;function Lx(){let t=nE(this),e=t?.current;if(e){let n=t.previous;if(n===Bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Vx(t,e,n,r){let i=this.declaredInputs[n],s=nE(t)||Ux(t,{previous:Bi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new ef(c&&c.currentValue,e,a===Bi),t[r]=e}var tE="__ngSimpleChanges__";function nE(t){return t[tE]||null}function Ux(t,e){return t[tE]=e}var Xw=null;var $t=function(t,e,n){Xw?.(t,e,n)},rE="svg",jx="math",Bx=!1;function $x(){return Bx}function kt(t){for(;Array.isArray(t);)t=t[ct];return t}function iE(t,e){return kt(e[t])}function lt(t,e){return kt(e[t.index])}function ip(t,e){return t.data[e]}function Hx(t,e){return t[e]}function qn(t,e){let n=e[t];return zt(n)?n:n[ct]}function sp(t){return(t[N]&128)===128}function zx(t){return _t(t[we])}function Jc(t,e){return e==null?null:t[e]}function sE(t){t[ki]=0}function qx(t){t[N]&1024||(t[N]|=1024,sp(t)&&eo(t))}function Gx(t,e){for(;t>0;)e=e[Qi],t--;return e}function oE(t){return t[N]&9216||t[Ar]?.dirty}function tf(t){oE(t)?eo(t):t[N]&64&&($x()?(t[N]|=1024,eo(t)):t[pn].changeDetectionScheduler?.notify())}function eo(t){t[pn].changeDetectionScheduler?.notify();let e=t[we];for(;e!==null&&!(_t(e)&&e[N]&Hi.HasChildViewsToRefresh||zt(e)&&e[N]&8192);){if(_t(e))e[N]|=Hi.HasChildViewsToRefresh;else if(e[N]|=8192,!sp(e))break;e=e[we]}}function aE(t,e){if((t[N]&256)===256)throw new b(911,!1);t[jn]===null&&(t[jn]=[]),t[jn].push(e)}function Wx(t,e){if(t[jn]===null)return;let n=t[jn].indexOf(e);n!==-1&&t[jn].splice(n,1)}var q={lFrame:gE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kx(){return q.lFrame.elementDepthCount}function Qx(){q.lFrame.elementDepthCount++}function Yx(){q.lFrame.elementDepthCount--}function cE(){return q.bindingsEnabled}function Yi(){return q.skipHydrationRootTNode!==null}function Jx(t){return q.skipHydrationRootTNode===t}function Zx(t){q.skipHydrationRootTNode=t}function Xx(){q.skipHydrationRootTNode=null}function te(){return q.lFrame.lView}function dt(){return q.lFrame.tView}function V3(t){return q.lFrame.contextLView=t,t[$e]}function U3(t){return q.lFrame.contextLView=null,t}function Et(){let t=uE();for(;t!==null&&t.type===64;)t=t.parent;return t}function uE(){return q.lFrame.currentTNode}function eM(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ho(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function lE(){return q.lFrame.isParent}function dE(){q.lFrame.isParent=!1}function tM(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nM(t){return q.lFrame.bindingIndex=t}function fo(){return q.lFrame.bindingIndex++}function rM(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iM(){return q.lFrame.inI18n}function sM(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,nf(e)}function oM(){return q.lFrame.currentDirectiveIndex}function nf(t){q.lFrame.currentDirectiveIndex=t}function aM(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hE(t){q.lFrame.currentQueryIndex=t}function cM(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[ut]:null}function fE(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=cM(s),i===null||(s=s[Qi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=q.lFrame=pE();return r.currentTNode=e,r.lView=t,!0}function op(t){let e=pE(),n=t[j];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pE(){let t=q.lFrame,e=t===null?null:t.child;return e===null?gE(t):e}function gE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mE(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yE=mE;function ap(){let t=mE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uM(t){return(q.lFrame.contextLView=Gx(t,q.lFrame.contextLView))[$e]}function kr(){return q.lFrame.selectedIndex}function xr(t){q.lFrame.selectedIndex=t}function vE(){let t=q.lFrame;return ip(t.tView,t.selectedIndex)}function j3(){q.lFrame.currentNamespace=rE}function B3(){lM()}function lM(){q.lFrame.currentNamespace=null}function _E(){return q.lFrame.currentNamespace}var wE=!0;function cp(){return wE}function Gn(t){wE=t}function dM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=eE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function up(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function $c(t,e,n){IE(t,e,3,n)}function Hc(t,e,n,r){(t[N]&3)===n&&IE(t,e,n,r)}function Ph(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function IE(t,e,n,r){let i=r!==void 0?t[ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ki]+=65536),(a<s||s==-1)&&(hM(t,n,e,c),t[ki]=(t[ki]&4294901760)+c+2),c++}function eI(t,e){$t(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),$t(5,t,e)}}function hM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[N]>>14<t[ki]>>16&&(t[N]&3)===e&&(t[N]+=16384,eI(a,s)):eI(a,s)}var ji=-1,Mr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fM(t){return t instanceof Mr}function pM(t){return(t.flags&8)!==0}function gM(t){return(t.flags&16)!==0}function EE(t){return t!==ji}function Zc(t){let e=t&32767;return t&32767}function mM(t){return t>>16}function Xc(t,e){let n=mM(t),r=e;for(;n>0;)r=r[Qi],n--;return r}var rf=!0;function eu(t){let e=rf;return rf=t,e}var yM=256,TE=yM-1,DE=5,vM=0,Ht={};function _M(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ws)&&(r=n[Ws]),r==null&&(r=n[Ws]=vM++);let i=r&TE,s=1<<i;e.data[t+(i>>DE)]|=s}function tu(t,e){let n=CE(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,Oh(r.data,t),Oh(e,null),Oh(r.blueprint,null));let i=lp(t,e),s=t.injectorIndex;if(EE(i)){let o=Zc(i),a=Xc(i,e),c=a[j].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Oh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function lp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xE(i),r===null)return ji;if(n++,i=i[Qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ji}function sf(t,e,n){_M(t,e,n)}function wM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(UI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function bE(t,e,n){if(n&G.Optional||t!==void 0)return t;ep(e,"NodeInjector")}function SE(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[$i],s=nt(void 0);try{return i?i.get(e,r,n&G.Optional):FI(e,r,n&G.Optional)}finally{nt(s)}}return bE(r,e,n)}function AE(t,e,n,r=G.Default,i){if(t!==null){if(e[N]&2048&&!(r&G.Self)){let o=CM(t,e,n,r,Ht);if(o!==Ht)return o}let s=RE(t,e,n,r,Ht);if(s!==Ht)return s}return SE(e,n,r,i)}function RE(t,e,n,r,i){let s=TM(n);if(typeof s=="function"){if(!fE(e,t,r))return r&G.Host?bE(i,n,r):SE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))ep(n);else return o}finally{yE()}}else if(typeof s=="number"){let o=null,a=CE(t,e),c=ji,u=r&G.Host?e[rt][ut]:null;for((a===-1||r&G.SkipSelf)&&(c=a===-1?lp(t,e):e[a+8],c===ji||!nI(r,!1)?a=-1:(o=e[j],a=Zc(c),e=Xc(c,e)));a!==-1;){let l=e[j];if(tI(s,a,l.data)){let d=IM(a,e,n,o,r,u);if(d!==Ht)return d}c=e[a+8],c!==ji&&nI(r,e[j].data[a+8]===u)&&tI(s,a,e)?(o=l,a=Zc(c),e=Xc(c,e)):a=-1}}return i}function IM(t,e,n,r,i,s){let o=e[j],a=o.data[t+8],c=r==null?uo(a)&&rf:r!=o&&(a.type&3)!==0,u=i&G.Host&&s===a,l=EM(a,o,n,c,u);return l!==null?zi(e,o,l,a):Ht}function EM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&$n(f)&&f.type===n)return c}return null}function zi(t,e,n,r){let i=t[n],s=e.data;if(fM(i)){let o=i;o.resolving&&cx(ax(s[n]));let a=eu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?nt(o.injectImpl):null,l=fE(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dM(n,s[n],e)}finally{u!==null&&nt(u),eu(a),o.resolving=!1,yE()}}return i}function TM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ws)?t[Ws]:void 0;return typeof e=="number"?e>=0?e&TE:DM:e}function tI(t,e,n){let r=1<<t;return!!(n[e+(t>>DE)]&r)}function nI(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var Sr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return AE(this._tNode,this._lView,e,vu(r),n)}};function DM(){return new Sr(Et(),te())}function dp(t){return co(()=>{let e=t.prototype.constructor,n=e[Wc]||of(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Wc]||of(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function of(t){return RI(t)?()=>{let e=of(Ye(t));return e&&e()}:Rr(t)}function CM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[N]&2048&&!(o[N]&512);){let a=RE(s,o,n,r|G.Self,Ht);if(a!==Ht)return a;let c=s.parent;if(!c){let u=o[YI];if(u){let l=u.get(n,Ht,r);if(l!==Ht)return l}c=xE(o),o=o[Qi]}s=c}return i}function xE(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[ut]:null}function hp(t){return wM(Et(),t)}var Oc="__parameters__";function bM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function fp(t,e,n){return co(()=>{let r=bM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Oc)?c[Oc]:Object.defineProperty(c,Oc,{value:[]})[Oc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function SM(t){return typeof t=="function"}function pp(t,e){t.forEach(n=>Array.isArray(n)?pp(n,e):e(n))}function ME(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function NE(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function AM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function RM(t,e,n){let r=po(t,e);return r>=0?t[r|1]=n:(r=~r,AM(t,r,e,n)),r}function kh(t,e){let n=po(t,e);if(n>=0)return t[n|1]}function po(t,e){return xM(t,e,1)}function xM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var $3=tp(fp("Inject",t=>({token:t})),-1),ze=tp(fp("Optional"),8);var gp=tp(fp("SkipSelf"),4);var Nr=new M("ENVIRONMENT_INITIALIZER"),PE=new M("INJECTOR",-1),OE=new M("INJECTOR_DEF_TYPES"),ru=class{get(e,n=Ks){if(n===Ks){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}};function Fr(t){return{\u0275providers:t}}function MM(...t){return{\u0275providers:kE(!0,t),\u0275fromNgModule:!0}}function kE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return pp(e,o=>{let a=o;af(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FE(i,s),n}function FE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mp(i,s=>{e(s,r)})}}function af(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,s=qw(t),o=!s&&Bn(t);if(!s&&!o){let c=t.ngModule;if(s=qw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)af(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{pp(s.imports,l=>{af(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&FE(u,e)}if(!a){let u=Rr(i)||(()=>new i);e({provide:i,useFactory:u,deps:at},i),e({provide:OE,useValue:i,multi:!0},i),e({provide:Nr,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;mp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function mp(t,e){for(let n of t)xI(n)&&(n=n.\u0275providers),Array.isArray(n)?mp(n,e):e(n)}var NM=se({provide:String,useValue:se});function LE(t){return t!==null&&typeof t=="object"&&NM in t}function PM(t){return!!(t&&t.useExisting)}function OM(t){return!!(t&&t.useFactory)}function qi(t){return typeof t=="function"}function kM(t){return!!t.useClass}var Eu=new M("Set Injector scope."),zc={},FM={},Fh;function yp(){return Fh===void 0&&(Fh=new ru),Fh}var it=class{},to=class extends it{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(e,o=>this.processProvider(o)),this.records.set(PE,Fi(void 0,this)),i.has("environment")&&this.records.set(it,Fi(void 0,this));let s=this.records.get(Eu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OE,at,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Un(this),r=nt(void 0),i;try{return e()}finally{Un(n),nt(r)}}get(e,n=Ks,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Hw))return e[Hw](this);r=vu(r);let i,s=Un(this),o=nt(void 0);try{if(!(r&G.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=BM(e)&&yu(e);u&&this.injectableDefInScope(u)?c=Fi(cf(e),zc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&G.Self?yp():this.parent;return n=r&G.Optional&&n===Ks?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Kc]=a[Kc]||[]).unshift(Je(e)),s)throw a;return wx(a,e,"R3InjectorError",this.source)}else throw a}finally{nt(o),Un(s)}}resolveInjectorInitializers(){let e=Un(this),n=nt(void 0),r;try{let i=this.get(Nr,at,G.Self);for(let s of i)s()}finally{Un(e),nt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Ye(e);let n=qi(e)?e:Ye(e&&e.provide),r=VM(e);if(!qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fi(void 0,zc,!0),i.factory=()=>Zh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===zc&&(n.value=FM,n.value=n.factory()),typeof n.value=="object"&&n.value&&jM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cf(t){let e=yu(t),n=e!==null?e.factory:Rr(t);if(n!==null)return n;if(t instanceof M)throw new b(204,!1);if(t instanceof Function)return LM(t);throw new b(204,!1)}function LM(t){let e=t.length;if(e>0){let r=NE(e,"?");throw new b(204,!1)}let n=dx(t);return n!==null?()=>n.factory(t):()=>new t}function VM(t){if(LE(t))return Fi(void 0,t.useValue);{let e=VE(t);return Fi(e,zc)}}function VE(t,e,n){let r;if(qi(t)){let i=Ye(t);return Rr(i)||cf(i)}else if(LE(t))r=()=>Ye(t.useValue);else if(OM(t))r=()=>t.useFactory(...Zh(t.deps||[]));else if(PM(t))r=()=>S(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(UM(t))r=()=>new i(...Zh(t.deps));else return Rr(i)||cf(i)}return r}function Fi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UM(t){return!!t.deps}function jM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BM(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function uf(t,e){for(let n of t)Array.isArray(n)?uf(n,e):n&&xI(n)?uf(n.\u0275providers,e):e(n)}function vn(t,e){t instanceof to&&t.assertNotDestroyed();let n,r=Un(t),i=nt(void 0);try{return e()}finally{Un(r),nt(i)}}function $M(t){if(!kI()&&!yx())throw new b(-203,!1)}function rI(t,e=null,n=null,r){let i=UE(t,e,n,r);return i.resolveInjectorInitializers(),i}function UE(t,e=null,n=null,r,i=new Set){let s=[n||at,MM(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new to(s,e||yp(),r||null,i)}var ke=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return rI({name:""},i,r,"");{let s=r.name??"";return rI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ks,e.NULL=new ru,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>S(PE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var lf;function jE(t){lf=t}function Tu(){if(lf!==void 0)return lf;if(typeof document<"u")return document;throw new b(210,!1)}var Du=new M("AppId",{providedIn:"root",factory:()=>HM}),HM="ng",vp=new M("Platform Initializer"),Ft=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var H3=new M("AnimationModuleType"),_p=new M("CSP nonce",{providedIn:"root",factory:()=>Tu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function zM(t){return t.ownerDocument.body}function BE(t){return t instanceof Function?t():t}function Gs(t){return(t??w(ke)).get(Ft)==="browser"}var qM="ngSkipHydration",GM="ngskiphydration";function $E(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===GM)return!0}return!1}function HE(t){return t.hasAttribute(qM)}function iu(t){return(t.flags&128)===128}function WM(t){if(iu(t))return!0;let e=t.parent;for(;e;){if(iu(t)||$E(e))return!0;e=e.parent}return!1}var mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mn||{}),KM=/^>|^->|<!--|-->|--!>|<!-$/g,QM=/(<|>)/g,YM="\u200B$1\u200B";function JM(t){return t.replace(KM,e=>e.replace(QM,YM))}var zE=new Map,ZM=0;function XM(){return ZM++}function eN(t){zE.set(t[Iu],t)}function tN(t){zE.delete(t[Iu])}var iI="__ngContext__";function Pr(t,e){zt(e)?(t[iI]=e[Iu],eN(e)):t[iI]=e}var nN;function wp(t,e){return nN(t,e)}function Ip(t){let e=t[we];return _t(e)?e[we]:e}function qE(t){return WE(t[Js])}function GE(t){return WE(t[Pt])}function WE(t){for(;t!==null&&!_t(t);)t=t[Pt];return t}function Li(t,e,n,r,i){if(r!=null){let s,o=!1;_t(r)?s=r:zt(r)&&(o=!0,r=r[ct]);let a=kt(r);t===0&&n!==null?i==null?ZE(e,n,a):su(e,n,a,i||null,!0):t===1&&n!==null?su(e,n,a,i||null,!0):t===2?tT(e,a,o):t===3&&e.destroyNode(a),s!=null&&vN(e,t,s,n,i)}}function KE(t,e){return t.createText(e)}function rN(t,e,n){t.setValue(e,n)}function QE(t,e){return t.createComment(JM(e))}function Ep(t,e,n){return t.createElement(e,n)}function iN(t,e){let n=e[le];go(t,e,n,2,null,null),e[ct]=null,e[ut]=null}function sN(t,e,n,r,i,s){r[ct]=i,r[ut]=e,go(t,r,n,1,i,s)}function oN(t,e){go(t,e,e[le],2,null,null)}function aN(t){let e=t[Js];if(!e)return Lh(t[j],t);for(;e;){let n=null;if(zt(e))n=e[Js];else{let r=e[He];r&&(n=r)}if(!n){for(;e&&!e[Pt]&&e!==t;)zt(e)&&Lh(e[j],e),e=e[we];e===null&&(e=t),zt(e)&&Lh(e[j],e),n=e&&e[Pt]}e=n}}function cN(t,e,n,r){let i=He+r,s=n.length;r>0&&(n[i-1][Pt]=e),r<s-He?(e[Pt]=n[i],ME(n,He+r,e)):(n.push(e),e[Pt]=null),e[we]=n;let o=e[wu];o!==null&&n!==o&&uN(o,e);let a=e[Zs];a!==null&&a.insertView(t),tf(e),e[N]|=128}function uN(t,e){let n=t[Yc],i=e[we][we][rt];e[rt]!==i&&(t[N]|=Hi.HasTransplantedViews),n===null?t[Yc]=[e]:n.push(e)}function YE(t,e){let n=t[Yc],r=n.indexOf(e),i=e[we];n.splice(r,1)}function no(t,e){if(t.length<=He)return;let n=He+e,r=t[n];if(r){let i=r[wu];i!==null&&i!==t&&YE(i,r),e>0&&(t[n-1][Pt]=r[Pt]);let s=nu(t,He+e);iN(r[j],r);let o=s[Zs];o!==null&&o.detachView(s[j]),r[we]=null,r[Pt]=null,r[N]&=-129}return r}function Cu(t,e){if(!(e[N]&256)){let n=e[le];n.destroyNode&&go(t,e,n,3,null,null),aN(e)}}function Lh(t,e){if(!(e[N]&256)){e[N]&=-129,e[N]|=256,e[Ar]&&Pw(e[Ar]),dN(t,e),lN(t,e),e[j].type===1&&e[le].destroy();let n=e[wu];if(n!==null&&_t(e[we])){n!==e[we]&&YE(n,e);let r=e[Zs];r!==null&&r.detachView(t)}tN(e)}}function lN(t,e){let n=t.cleanup,r=e[Ys];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ys]=null);let i=e[jn];if(i!==null){e[jn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function dN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Mr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];$t(4,a,c);try{c.call(a)}finally{$t(5,a,c)}}else{$t(4,i,s);try{s.call(i)}finally{$t(5,i,s)}}}}}function JE(t,e,n){return hN(t,e.parent,n)}function hN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ct];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===qt.None||s===qt.Emulated)return null}return lt(r,n)}}function su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZE(t,e,n){t.appendChild(e,n)}function sI(t,e,n,r,i){r!==null?su(t,e,n,r,i):ZE(t,e,n)}function fN(t,e,n,r){t.removeChild(e,n,r)}function Tp(t,e){return t.parentNode(e)}function pN(t,e){return t.nextSibling(e)}function XE(t,e,n){return mN(t,e,n)}function gN(t,e,n){return t.type&40?lt(t,n):null}var mN=gN,oI;function Dp(t,e,n,r){let i=JE(t,r,e),s=e[le],o=r.parent||e[ut],a=XE(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)sI(s,i,n[c],a,!1);else sI(s,i,n,a,!1);oI!==void 0&&oI(s,r,e,n,i)}function qc(t,e){if(e!==null){let n=e.type;if(n&3)return lt(e,t);if(n&4)return df(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qc(t,r);{let i=t[e.index];return _t(i)?df(-1,i):kt(i)}}else{if(n&32)return wp(e,t)()||kt(t[e.index]);{let r=eT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ip(t[rt]);return qc(i,r)}else return qc(t,e.next)}}}return null}function eT(t,e){if(e!==null){let r=t[rt][ut],i=e.projection;return r.projection[i]}return null}function df(t,e){let n=He+t+1;if(n<e.length){let r=e[n],i=r[j].firstChild;if(i!==null)return qc(r,i)}return e[gn]}function tT(t,e,n){let r=Tp(t,e);r&&fN(t,r,e,n)}function nT(t){t.textContent=""}function Cp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Pr(kt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Cp(t,e,n.child,r,i,s,!1),Li(e,t,i,a,s);else if(c&32){let u=wp(n,r),l;for(;l=u();)Li(e,t,i,l,s);Li(e,t,i,a,s)}else c&16?rT(t,e,r,n,i,s):Li(e,t,i,a,s);n=o?n.projectionNext:n.next}}function go(t,e,n,r,i,s){Cp(n,r,t.firstChild,e,i,s,!1)}function yN(t,e,n){let r=e[le],i=JE(t,n,e),s=n.parent||e[ut],o=XE(s,n,e);rT(r,0,e,n,i,o)}function rT(t,e,n,r,i,s){let o=n[rt],c=o[ut].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Li(e,t,i,l,s)}else{let u=c,l=o[we];iu(r)&&(u.flags|=128),Cp(t,e,u,l,i,s,!0)}}function vN(t,e,n,r,i){let s=n[gn],o=kt(n);s!==o&&Li(e,t,r,s,i);for(let a=He;a<n.length;a++){let c=n[a];go(c[j],c,t,e,r,s)}}function _N(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:mn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mn.Important),t.setStyle(n,r,i,s))}}function wN(t,e,n){t.setAttribute(e,"style",n)}function iT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Xh(t,e,r),i!==null&&iT(t,e,i),s!==null&&wN(t,e,s)}var kc;function IN(){if(kc===void 0&&(kc=null,fn.trustedTypes))try{kc=fn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kc}function bu(t){return IN()?.createHTML(t)||t}var Fc;function EN(){if(Fc===void 0&&(Fc=null,fn.trustedTypes))try{Fc=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fc}function aI(t){return EN()?.createScriptURL(t)||t}var yn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MI})`}},hf=class extends yn{getTypeName(){return"HTML"}},ff=class extends yn{getTypeName(){return"Style"}},pf=class extends yn{getTypeName(){return"Script"}},gf=class extends yn{getTypeName(){return"URL"}},mf=class extends yn{getTypeName(){return"ResourceURL"}};function Wt(t){return t instanceof yn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){let n=TN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MI})`)}return n===e}function TN(t){return t instanceof yn&&t.getTypeName()||null}function oT(t){return new hf(t)}function aT(t){return new ff(t)}function cT(t){return new pf(t)}function uT(t){return new gf(t)}function lT(t){return new mf(t)}function DN(t){let e=new vf(t);return CN()?new yf(e):e}var yf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(bu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},vf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=bu(e),n}};function CN(){try{return!!new window.DOMParser().parseFromString(bu(""),"text/html")}catch{return!1}}var bN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Su(t){return t=String(t),t.match(bN)?t:"unsafe:"+t}function _n(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function mo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var dT=_n("area,br,col,hr,img,wbr"),hT=_n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fT=_n("rp,rt"),SN=mo(fT,hT),AN=mo(hT,_n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),RN=mo(fT,_n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cI=mo(dT,AN,RN,SN),pT=_n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xN=_n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),MN=_n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),NN=mo(pT,xN,MN),PN=_n("script,style,template"),_f=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!cI.hasOwnProperty(n))return this.sanitizedSomething=!0,!PN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!NN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;pT[a]&&(c=Su(c)),this.buf.push(" ",o,'="',uI(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();cI.hasOwnProperty(n)&&!dT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(uI(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},ON=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kN=/([^\#-~ |!])/g;function uI(t){return t.replace(/&/g,"&amp;").replace(ON,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(kN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lc;function gT(t,e){let n=null;try{Lc=Lc||DN(t);let r=e?String(e):"";n=Lc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Lc.getInertBodyElement(r)}while(r!==s);let a=new _f().sanitizeChildren(lI(n)||n);return bu(a)}finally{if(n){let r=lI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function lI(t){return"content"in t&&FN(t)?t.content:null}function FN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Kt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kt||{});function LN(t){let e=yT();return e?e.sanitize(Kt.URL,t)||"":Wn(t,"URL")?Wt(t):Su(mu(t))}function VN(t){let e=yT();if(e)return aI(e.sanitize(Kt.RESOURCE_URL,t)||"");if(Wn(t,"ResourceURL"))return aI(Wt(t));throw new b(904,!1)}function UN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?VN:LN}function mT(t,e,n){return UN(e,n)(t)}function yT(){let t=te();return t&&t[pn].sanitizer}var wf=class{};function jN(){let t=new Lr;return w(Ft)==="browser"&&(t.store=BN(Tu(),w(Du))),t}var Lr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=A({token:e,providedIn:"root",factory:jN});let t=e;return t})();function BN(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var vT="h",_T="b",If=function(t){return t.FirstChild="f",t.NextSibling="n",t}(If||{}),$N="e",HN="t",bp="c",wT="x",ou="r",zN="i",qN="n",GN="d",WN="__nghData__",IT=WN,Vh="ngh",KN="nghm",ET=(t,e,n)=>null;function QN(t,e,n=!1){let r=t.getAttribute(Vh);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=n?i:s?`|${s}`:"",a={};if(r!==""){let u=e.get(Lr,null,{optional:!0});u!==null&&(a=u.get(IT,[])[Number(r)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Au(c,0,t.nextSibling)),o?t.setAttribute(Vh,o):t.removeAttribute(Vh),c}function YN(){ET=QN}function Sp(t,e,n=!1){return ET(t,e,n)}function JN(t){let e=t._lView;return e[j].type===2?null:(XI(e)&&(e=e[Ce]),e)}function ZN(t){return t.textContent?.replace(/\s/gm,"")}function XN(t){let e=Tu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=ZN(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Au(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Ef(t,e){return t.segmentHeads?.[e]??null}function eP(t,e){let n=t.data,r=n[$N]?.[e]??null;return r===null&&n[bp]?.[e]&&(r=Ap(t,e)),r}function TT(t,e){return t.data[bp]?.[e]??null}function Ap(t,e){let n=TT(t,e)??[],r=0;for(let i of n)r+=i[ou]*(i[wT]??1);return r}function Ru(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[GN];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Tf=class{},au=class{};function tP(t){let e=Error(`No component factory found for ${Je(t)}.`);return e[nP]=t,e}var nP="ngComponent";var Df=class{resolveComponentFactory(e){throw tP(e)}},xu=(()=>{let e=class e{};e.NULL=new Df;let t=e;return t})();function rP(){return Rp(Et(),te())}function Rp(t,e){return new yo(lt(t,e))}var yo=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=rP;let t=e;return t})();var ro=class{},Mu=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>iP();let t=e;return t})();function iP(){let t=te(),e=Et(),n=qn(e.index,t);return(zt(n)?n:t)[le]}var sP=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Uh={};function z3(t,e){let n=Fw(t);return e?.equal&&(n[br].equal=e.equal),n}function q3(t,e){let n=jw(t),r=n[br];return e?.equal&&(r.equal=e.equal),n.set=i=>Mh(r,i),n.update=i=>Bw(r,i),n.asReadonly=oP.bind(n),n}function oP(){let t=this[br];if(t.readonlyFn===void 0){let e=()=>this();e[br]=t,t.readonlyFn=e}return t.readonlyFn}function xp(t){let e=De(null);try{return t()}finally{De(e)}}function DT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Cf=class{constructor(){}supports(e){return e instanceof Map||DT(e)}create(){return new bf}},bf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||DT(e)))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Sf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Sf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function dI(){return new Mp([new Cf])}var Mp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||dI()),deps:[[e,new gp,new ze]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new b(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:dI});let t=e;return t})();function cu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(kt(s)),_t(s)&&aP(s,r);let o=n.type;if(o&8)cu(t,e,n.child,r);else if(o&32){let a=wp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=eT(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ip(e[rt]);cu(c[j],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aP(t,e){for(let n=He;n<t.length;n++){let r=t[n],i=r[j].firstChild;i!==null&&cu(r[j],r,i,e)}t[gn]!==t[ct]&&e.push(t[gn])}var CT=[];function cP(t){return t[Ar]??uP(t)}function uP(t){let e=CT.pop()??Object.create(dP);return e.lView=t,e}function lP(t){t.lView[Ar]!==t&&(t.lView=null,CT.push(t))}var dP=ue(D({},Mc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eo(t.lView)},consumerOnSignalRead(){this.lView[Ar]=this}}),hP="ngOriginalError";function jh(t){return t[hP]}var Gt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jh(e);for(;n&&jh(n);)n=jh(n);return n||null}},bT=new M("",{providedIn:"root",factory:()=>w(Gt).handleError.bind(void 0)}),Vc=new M(""),ST=!1,AT=new M("",{providedIn:"root",factory:()=>ST});var Vr={};function G3(t){RT(dt(),te(),kr()+t,!1)}function RT(t,e,n,r){if(!r)if((e[N]&3)===3){let s=t.preOrderCheckHooks;s!==null&&$c(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Hc(e,s,0,n)}xr(n)}function ht(t,e=G.Default){let n=te();if(n===null)return S(t,e);let r=Et();return AE(r,n,Ye(t),e)}function xT(){let t="invalid";throw new Error(t)}function fP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let s=i,o=n[++r],a=n[++r];sM(o,s);let c=e[s];a(2,c)}}}finally{xr(-1)}}function Nu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[ct]=i,d[N]=r|4|128|8|64,(u!==null||t&&t[N]&2048)&&(d[N]|=2048),sE(d),d[we]=d[Qi]=t,d[$e]=n,d[pn]=o||t&&t[pn],d[le]=a||t&&t[le],d[$i]=c||t&&t[$i]||null,d[ut]=s,d[Iu]=XM(),d[Ot]=l,d[YI]=u,d[rt]=e.type==2?t[rt]:d,d}function vo(t,e,n,r,i){let s=t.data[e];if(s===null)s=pP(t,e,n,r,i),iM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eM();s.injectorIndex=o===null?-1:o.injectorIndex}return ho(s,!0),s}function pP(t,e,n,r,i){let s=uE(),o=lE(),a=o?s:s&&s.parent,c=t.data[e]=wP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function MT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function NT(t,e,n,r,i){let s=kr(),o=r&2;try{xr(-1),o&&e.length>Ce&&RT(t,e,Ce,!1),$t(o?2:0,i),n(r,i)}finally{xr(s),$t(o?3:1,i)}}function PT(t,e,n){if(ZI(e)){let r=De(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{De(r)}}}function OT(t,e,n){cE()&&(SP(t,e,n,lt(n,e)),(n.flags&64)===64&&jT(t,e,n))}function kT(t,e,n=lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function FT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Np(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Np(t,e,n,r,i,s,o,a,c,u,l){let d=Ce+r,h=d+i,f=gP(d,h),g=typeof u=="function"?u():u;return f[j]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function gP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vr);return n}function mP(t,e,n,r){let s=r.get(AT,ST)||n===qt.ShadowDom,o=t.selectRootElement(e,s);return yP(o),o}function yP(t){LT(t)}var LT=t=>null;function vP(t){HE(t)?nT(t):XN(t)}function _P(){LT=vP}function wP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Yi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?fI(n,e,i,s):r.hasOwnProperty(i)&&fI(n,e,r[i],s)}return n}function fI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function IP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=hI(d.inputs,l,c,f),u=hI(d.outputs,l,u,g);let y=c!==null&&o!==null&&!BI(e)?VP(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function EP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TP(t,e,n,r,i,s,o,a){let c=lt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Pp(t,n,l,r,i),uo(e)&&DP(n,e.index)):e.type&3?(r=EP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function DP(t,e){let n=qn(e,t);n[N]&16||(n[N]|=64)}function VT(t,e,n,r){if(cE()){let i=r===null?null:{"":-1},s=RP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&UT(t,e,n,o,i,a),i&&xP(n,r,i)}n.mergedAttrs=Qs(n.mergedAttrs,n.attrs)}function UT(t,e,n,r,i,s){for(let u=0;u<r.length;u++)sf(tu(n,e),t,r[u].type);NP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=MT(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Qs(n.mergedAttrs,l.hostAttrs),PP(t,n,e,c,l),MP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}IP(t,n,s)}function CP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;bP(o)!=a&&o.push(a),o.push(n,r,s)}}function bP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function SP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;uo(n)&&OP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tu(n,e),Pr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=zi(e,t,a,n);if(Pr(u,e),o!==null&&LP(e,a-i,u,c,n,o),$n(c)){let l=qn(n.index,e);l[$e]=zi(e,t,a,n)}}}function jT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=oM();try{xr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];nf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AP(c,u)}}finally{xr(-1),nf(o)}}function AP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if($I(e,o.selectors,!1))if(r||(r=[]),$n(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Af(t,e,c)}else r.unshift(o),Af(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Af(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function MP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function NP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function PP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Rr(i.type,!0)),o=new Mr(s,$n(i),ht);t.blueprint[r]=o,n[r]=o,CP(t,e,r,MT(t,n,i.hostVars,Vr),i)}function OP(t,e,n){let r=lt(e,t),i=FT(n),s=t[pn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pu(t,Nu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function kP(t,e,n,r,i,s){let o=lt(t,e);FP(e[le],o,s,t.value,n,r,i)}function FP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?mu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function LP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];BT(r,n,c,u,l)}}function BT(t,e,n,r,i){let s=De(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{De(s)}}function VP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function $T(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function HT(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];hE(s),a.contentQueries(2,e[o],o)}}}finally{De(r)}}}function Pu(t,e){return t[Js]?t[Zw][Pt]=e:t[Js]=e,t[Zw]=e,e}function Rf(t,e,n){hE(0);let r=De(null);try{e(t,n)}finally{De(r)}}function UP(t){return t[Ys]||(t[Ys]=[])}function jP(t){return t.cleanup||(t.cleanup=[])}function zT(t,e){let n=t[$i],r=n?n.get(Gt,null):null;r&&r.handleError(e)}function Pp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];BT(u,c,r,a,i)}}function BP(t,e,n){let r=iE(e,t);rN(t[le],r,n)}var $P=100;function HP(t,e=!0){let n=t[pn],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{zP(t)}catch(o){throw e&&zT(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function zP(t){xf(t,0);let e=0;for(;oE(t);){if(e===$P)throw new b(103,!1);e++,xf(t,1)}}function qP(t,e,n,r){let i=e[N];if((i&256)===256)return;let s=!1;!s&&e[pn].inlineEffectRunner?.flush(),op(e);let o=null,a=null;!s&&GP(t)&&(a=cP(e),o=Ah(a));try{sE(e),nM(t.bindingStartIndex),n!==null&&NT(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&$c(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Hc(e,d,0,null),Ph(e,0)}if(WP(e),qT(e,0),t.contentQueries!==null&&HT(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&$c(e,d)}else{let d=t.contentHooks;d!==null&&Hc(e,d,1),Ph(e,1)}fP(t,e);let u=t.components;u!==null&&WT(e,u,0);let l=t.viewQuery;if(l!==null&&Rf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&$c(e,d)}else{let d=t.viewHooks;d!==null&&Hc(e,d,2),Ph(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nh]){for(let d of e[Nh])d();e[Nh]=null}s||(e[N]&=-73)}catch(c){throw eo(e),c}finally{a!==null&&(Rh(a,o),lP(a)),ap()}}function GP(t){return t.type!==2}function qT(t,e){for(let n=qE(t);n!==null;n=GE(n)){n[N]&=~Hi.HasChildViewsToRefresh;for(let r=He;r<n.length;r++){let i=n[r];GT(i,e)}}}function WP(t){for(let e=qE(t);e!==null;e=GE(e)){if(!(e[N]&Hi.HasTransplantedViews))continue;let n=e[Yc];for(let r=0;r<n.length;r++){let i=n[r],s=i[we];qx(i)}}}function KP(t,e,n){let r=qn(e,t);GT(r,n)}function GT(t,e){sp(t)&&xf(t,e)}function xf(t,e){let r=t[j],i=t[N],s=t[Ar],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&xh(s)),s&&(s.dirty=!1),t[N]&=-9217,o)qP(r,t,r.template,t[$e]);else if(i&8192){qT(t,1);let a=r.components;a!==null&&WT(t,a,1)}}function WT(t,e,n){for(let r=0;r<e.length;r++)KP(t,e[r],n)}function Op(t){for(t[pn].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=Ip(t);if(XI(t)&&!e)return t;t=e}return null}var Gi=class{get rootNodes(){let e=this._lView,n=e[j];return cu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[we];if(_t(e)){let n=e[Qc],r=n?n.indexOf(this):-1;r>-1&&(no(e,r),nu(n,r))}this._attachedToViewContainer=!1}Cu(this._lView[j],this._lView)}onDestroy(e){aE(this._lView,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){tf(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,HP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,oN(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,tf(this._lView)}},_o=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QP;let t=e;return t})();function QP(t){return YP(Et(),te(),(t&16)===16)}function YP(t,e,n){if(uo(t)&&!n){let r=qn(t.index,e);return new Gi(r,r)}else if(t.type&47){let r=e[rt];return new Gi(r,e)}return null}var KT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mf=class extends KT{constructor(e){super(),this._lView=e}onDestroy(e){return aE(this._lView,e),()=>Wx(this._lView,e)}};function JP(){return new Mf(te())}var pI=new Set;function Kn(t){pI.has(t)||(pI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Nf=class extends je{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Bh(s),i&&(i=Bh(i)),o&&(o=Bh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ve&&e.add(a),a}};function Bh(t){return e=>{setTimeout(t,void 0,e)}}var Nt=Nf;function gI(...t){}function ZP(){let t=typeof fn.requestAnimationFrame=="function",e=fn[t?"requestAnimationFrame":"setTimeout"],n=fn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var J=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nt(!1),this.onMicrotaskEmpty=new Nt(!1),this.onStable=new Nt(!1),this.onError=new Nt(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=ZP().nativeRequestAnimationFrame,tO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,XP,gI,gI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XP={};function kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pf(t),t.isCheckStableRunning=!0,kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pf(t))}function tO(t){let e=()=>{eO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(nO(a))return n.invokeTask(i,s,o,a);try{return mI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return mI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Pf(t),kp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Pf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yI(t){t._nesting--,kp(t)}function nO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Vi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vi||{}),rO={destroy(){}};function Fp(t,e){!e&&$M(Fp);let n=e?.injector??w(ke);if(!Gs(n))return rO;Kn("NgAfterNextRender");let r=n.get(QT),i=r.handler??=new kf,s=e?.phase??Vi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(KT).onDestroy(o),c=new Of(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var Of=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(J),this.errorHandler=e.get(Gt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},kf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Vi.EarlyRead]:new Set,[Vi.Write]:new Set,[Vi.MixedReadWrite]:new Set,[Vi.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new b(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},QT=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function iO(t,e){let n=qn(e,t),r=n[j];sO(r,n);let i=n[ct];i!==null&&n[Ot]===null&&(n[Ot]=Sp(i,n[$i])),Lp(r,n,n[$e])}function sO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lp(t,e,n){op(e);try{let r=t.viewQuery;r!==null&&Rf(1,r,n);let i=t.template;i!==null&&NT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HT(t,e),t.staticViewQueries&&Rf(2,t.viewQuery,n);let s=t.components;s!==null&&oO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,ap()}}function oO(t,e){for(let n=0;n<e.length;n++)iO(t,e[n])}function Ff(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=$w(i,a);else if(s==2){let c=a,u=e[++o];r=$w(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var uu=class extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Bn(e);return new Wi(n,this.ngModule)}};function vI(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function aO(t){let e=t.toLowerCase();return e==="svg"?rE:e==="math"?jx:null}var Lf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vu(r);let i=this.injector.get(e,Uh,r);return i!==Uh||n===Uh?i:this.parentInjector.get(e,n,r)}},Wi=class extends au{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Nx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof it?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Lf(e,s):e,a=o.get(ro,null);if(a===null)throw new b(407,!1);let c=o.get(sP,null),u=o.get(QT,null),l=o.get(wf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?mP(h,r,this.componentDef.encapsulation,o):Ep(h,f,aO(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;g!==null&&(v=Sp(g,o,!0));let E=Np(0,null,null,1,0,null,null,null,null,null,null),O=Nu(null,E,null,y,null,null,d,h,o,null,v);op(O);let Z,re;try{let ye=this.componentDef,ie,st=null;ye.findHostDirectiveDefs?(ie=[],st=new Map,ye.findHostDirectiveDefs(ye,ie,st),ie.push(ye)):ie=[ye];let Nn=cO(O,g),wr=uO(Nn,g,ye,ie,O,d,h);re=ip(E,Ce),g&&hO(h,ye,g,r),n!==void 0&&fO(re,this.ngContentSelectors,n),Z=dO(wr,ye,ie,st,O,[pO]),Lp(E,O,null)}finally{ap()}return new Vf(this.componentType,Z,Rp(re,O),O,re)}},Vf=class extends Tf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Pp(s[j],s,i,e,n),this.previousInputValues.set(e,n);let o=qn(this._tNode.index,s);Op(o)}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cO(t,e){let n=t[j],r=Ce;return t[r]=e,vo(n,r,2,"#host",null)}function uO(t,e,n,r,i,s,o){let a=i[j];lO(r,t,e,o);let c=null;e!==null&&(c=Sp(e,i[$i]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Nu(i,FT(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Af(a,t,r.length-1),Pu(i,d),i[t.index]=d}function lO(t,e,n,r){for(let i of t)e.mergedAttrs=Qs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ff(e,e.mergedAttrs,!0),n!==null&&sT(r,n,e))}function dO(t,e,n,r,i,s){let o=Et(),a=i[j],c=lt(o,i);UT(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=zi(i,a,d,o);Pr(h,i)}jT(a,i,o),c&&Pr(c,i);let u=zi(i,a,o.directiveStart+o.componentOffset,o);if(t[$e]=i[$e]=u,s!==null)for(let l of s)l(u,e);return PT(a,o,t),u}function hO(t,e,n,r){if(r)Xh(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=Px(e.selectors[0]);i&&Xh(t,n,i),s&&s.length>0&&iT(t,n,s.join(" "))}}function fO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function pO(){let t=Et();up(te()[j],t)}function gO(t){return Object.getPrototypeOf(t.prototype).constructor}function mO(t){let e=gO(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Uc(t.inputs),o.inputTransforms=Uc(t.inputTransforms),o.declaredInputs=Uc(t.declaredInputs),o.outputs=Uc(t.outputs);let a=i.hostBindings;a&&wO(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&vO(t,c),u&&_O(t,u),Pc(t.inputs,i.inputs),Pc(t.declaredInputs,i.declaredInputs),Pc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Pc(o.inputTransforms,i.inputTransforms)),$n(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===mO&&(n=!1)}}e=Object.getPrototypeOf(e)}yO(r)}function yO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qs(i.hostAttrs,n=Qs(n,i.hostAttrs))}}function Uc(t){return t===Bi?{}:t===at?[]:t}function vO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _O(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function wO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Vp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function IO(t,e,n){return t[e]=n}function Ur(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Up(t,e,n,r){let i=te(),s=fo();if(Ur(i,s,e)){let o=dt(),a=vE();kP(a,i,t,e,n,r)}return Up}function EO(t,e,n,r){return Ur(t,fo(),n)?e+mu(n)+r:Vr}function jc(t,e){return t<<17|e<<2}function Or(t){return t>>17&32767}function TO(t){return(t&2)==2}function DO(t,e){return t&131071|e<<17}function Uf(t){return t|2}function Ki(t){return(t&131068)>>2}function $h(t,e){return t&-131069|e<<2}function CO(t){return(t&1)===1}function jf(t){return t|1}function bO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Or(o),c=Ki(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||po(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Or(t[a+1]);t[r+1]=jc(h,a),h!==0&&(t[h+1]=$h(t[h+1],r)),t[a+1]=DO(t[a+1],r)}else t[r+1]=jc(a,0),a!==0&&(t[a+1]=$h(t[a+1],r)),a=r;else t[r+1]=jc(c,0),a===0?a=r:t[c+1]=$h(t[c+1],r),c=r;u&&(t[r+1]=Uf(t[r+1])),_I(t,l,r,!0,s),_I(t,l,r,!1,s),SO(e,l,t,r,s),o=jc(a,c),s?e.classBindings=o:e.styleBindings=o}function SO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&po(s,e)>=0&&(n[r+1]=jf(n[r+1]))}function _I(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Or(s):Ki(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];AO(u,e)&&(c=!0,t[a+1]=r?jf(l):Uf(l)),a=r?Or(l):Ki(l)}c&&(t[n+1]=r?Uf(s):jf(s))}function AO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?po(t,e)>=0:!1}function RO(t,e,n){let r=te(),i=fo();if(Ur(r,i,e)){let s=dt(),o=vE();TP(s,o,r,t,e,r[le],n,!1)}return RO}function wI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Pp(t,n,s[o],o,r)}function xO(t,e){return MO(t,e,null,!0),xO}function MO(t,e,n,r){let i=te(),s=dt(),o=rM(2);if(s.firstUpdatePass&&PO(s,t,o,r),e!==Vr&&Ur(i,o,e)){let a=s.data[kr()];VO(s,a,i,i[le],t,i[o+1]=UO(e,n),r,o)}}function NO(t,e){return e>=t.expandoStartIndex}function PO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[kr()],o=NO(t,n);jO(s,r)&&e===null&&!o&&(e=!1),e=OO(i,s,e,r),bO(i,s,e,n,o,r)}}function OO(t,e,n,r){let i=aM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Hh(null,t,e,n,r),n=io(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Hh(i,t,e,n,r),s===null){let c=kO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Hh(null,t,e,c[1],r),c=io(c,e.attrs,r),FO(t,e,r,c))}else s=LO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function kO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ki(r)!==0)return t[Or(r)]}function FO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Or(i)]=r}function LO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=io(r,o,n)}return io(r,e.attrs,n)}function Hh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=io(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function io(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),RM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function VO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=CO(u)?II(c,e,n,i,Ki(u),o):void 0;if(!lu(l)){lu(s)||TO(u)&&(s=II(c,null,n,i,a,o));let d=iE(kr(),n);_N(r,o,d,i,s)}}function II(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Vr&&(h=d?at:void 0);let f=d?kh(h,r):l===r?h:void 0;if(u&&!lu(f)&&(f=kh(c,r)),lu(f)&&(a=f,o))return a;let g=t[i+1];i=o?Or(g):Ki(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=kh(c,r))}return a}function lu(t){return t!==void 0}function UO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(Wt(t)))),t}function jO(t,e){return(t.flags&(e?8:16))!==0}function YT(t){let e=t[Xs]??[],r=t[we][le];for(let i of e)BO(i,r);t[Xs]=at}function BO(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ou];for(;n<i;){let s=r.nextSibling;tT(e,r,!1),r=s,n++}}}function JT(t){YT(t);for(let e=He;e<t.length;e++)du(t[e])}function du(t){let e=t[j];for(let n=Ce;n<e.bindingStartIndex;n++)if(_t(t[n])){let r=t[n];JT(r)}else zt(t[n])&&du(t[n])}function $O(t){let e=t._views;for(let n of e){let r=JN(n);if(r!==null&&r[ct]!==null)if(zt(r))du(r);else{let i=r[ct];du(i),JT(r)}}}var HO=new RegExp(`^(\\d+)*(${_T}|${vT})*(.*)`);function zO(t){let e=t.match(HO),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function qO(t){return!t.prev&&t.parent?.type===8}function zh(t){return t.index-Ce}function Ou(t,e,n,r){let i=null,s=zh(r),o=t.data[qN];if(o?.[s])i=WO(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(qO(r)){let u=zh(r.parent);i=Ef(t,u)}else{let u=lt(c,n);if(a)i=u.firstChild;else{let l=zh(c),d=Ef(t,l);if(c.type===2&&d){let f=Ap(t,l)+1;i=ku(f,d)}else i=u.nextSibling}}}return i}function ku(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function GO(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case If.FirstChild:n=n.firstChild;break;case If.NextSibling:n=n.nextSibling;break}}return n}function WO(t,e){let[n,...r]=zO(t),i;if(n===vT)i=e[rt][ct];else if(n===_T)i=zM(e[rt][ct]);else{let s=Number(n);i=kt(e[s+Ce])}return GO(i,r)}function KO(t,e){let n=[];for(let r of e)for(let i=0;i<(r[wT]??1);i++){let s={data:r,firstChild:null};r[ou]>0&&(s.firstChild=t,t=ku(r[ou],t)),n.push(s)}return[t,n]}var ZT=(t,e)=>null;function QO(t,e){let n=t[Xs];return!e||n===null||n.length===0?null:n[0].data[zN]===e?n.shift():(YT(t),null)}function YO(){ZT=QO}function so(t,e){return ZT(t,e)}var Bf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function qh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function JO(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=qh(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=qh(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),v=n(s,u);if(Object.is(v,y)){let E=n(a,h);Object.is(E,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new hu,i??=TI(t,s,o,n),$f(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,t.detach(s)),o--;else{let E=t.create(s,e[s]);t.attach(s,E),s++,o++}}for(;s<=a;)EI(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=qh(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new hu,i??=TI(t,s,o,n);let h=n(s,l);if($f(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)EI(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function $f(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function EI(t,e,n,r,i){if($f(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function TI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var hu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function jp(t,e,n,r){let i=e.tView,o=t[N]&4096?4096:16,a=Nu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[wu]=c;let u=t[Zs];return u!==null&&(a[Zs]=u.createEmbeddedView(i)),Lp(i,a,n),a}function XT(t,e){let n=He+e;if(n<t.length)return t[n]}function oo(t,e){return!e||e.firstChild===null||iu(t)}function Fu(t,e,n,r=!0){let i=e[j];if(cN(i,e,t,n),r){let o=df(n,t),a=e[le],c=Tp(a,t[gn]);c!==null&&sN(i,t[ut],a,e,c,o)}let s=e[Ot];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eD(t,e){let n=no(t,e);return n!==void 0&&Cu(n[j],n),n}var Lu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZO;let t=e;return t})();function ZO(){let t=Et();return ek(t,te())}var XO=Lu,tD=class extends XO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rp(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){let e=lp(this._hostTNode,this._hostLView);if(EE(e)){let n=Xc(e,this._hostLView),r=Zc(e),i=n[j].data[r+8];return new Sr(i,n)}else return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=DI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-He}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=so(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,oo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!SM(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Wi(Bn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(it,null);y&&(s=y)}let l=Bn(c.componentType??{}),d=so(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,oo(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[we],u=new tD(c,c[ut],c[we]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Fu(o,i,s,r),e.attachToViewContainerRef(),ME(Gh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=DI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=no(this._lContainer,n);r&&(nu(Gh(this._lContainer),n),Cu(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=no(this._lContainer,n);return r&&nu(Gh(this._lContainer),n)!=null?new Gi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DI(t){return t[Qc]}function Gh(t){return t[Qc]||(t[Qc]=[])}function ek(t,e){let n,r=e[t.index];return _t(r)?n=r:(n=$T(r,e,null,t),e[t.index]=n,Pu(e,n)),nD(n,e,t,r),new tD(n,t,e)}function tk(t,e){let n=t[le],r=n.createComment(""),i=lt(e,t),s=Tp(n,i);return su(n,s,r,pN(n,i),!1),r}var nD=rD,Bp=(t,e,n)=>!1;function nk(t,e,n){return Bp(t,e,n)}function rD(t,e,n,r){if(t[gn])return;let i;n.type&8?i=kt(r):i=tk(e,n),t[gn]=i}function rk(t,e,n){if(t[gn]&&t[Xs])return!0;let r=n[Ot],i=e.index-Ce;if(!r||WM(e)||Ru(r,i))return!1;let o=Ef(r,i),a=r.data[bp]?.[i],[c,u]=KO(o,a);return t[gn]=c,t[Xs]=u,!0}function ik(t,e,n,r){Bp(t,n,e)||rD(t,e,n,r)}function sk(){nD=ik,Bp=rk}function ok(t,e,n,r,i,s,o,a,c){let u=e.consts,l=vo(e,t,4,o||null,Jc(u,a));VT(e,n,l,Jc(u,c)),up(e,l);let d=l.tView=Np(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Hf(t,e,n,r,i,s,o,a){let c=te(),u=dt(),l=t+Ce,d=u.firstCreatePass?ok(l,u,c,e,n,r,i,s,o):u.data[l];ho(d,!1);let h=iD(u,c,d,t);cp()&&Dp(u,c,h,d),Pr(h,c);let f=$T(h,c,h,d);return c[l]=f,Pu(c,f),nk(f,d,c),rp(d)&&OT(u,c,d),o!=null&&kT(c,d,a),Hf}var iD=sD;function sD(t,e,n,r){return Gn(!0),e[le].createComment("")}function ak(t,e,n,r){let i=e[Ot],s=!i||Yi()||Ru(i,r);if(Gn(s),s)return sD(t,e,n,r);let o=i.data[HN]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Ou(i,t,e,n);Au(i,r,a);let c=Ap(i,r);return ku(c,a)}function ck(){iD=ak}function K3(t,e,n){Kn("NgControlFlow");let r=te(),i=fo(),s=Wf(r,Ce+t),o=0;if(Ur(r,i,e)){let a=De(null);try{if(eD(s,o),e!==-1){let c=Kf(r[j],Ce+e),u=so(s,c.tView.ssrId),l=jp(r,c,n,{dehydratedView:u});Fu(s,l,o,oo(c,u))}}finally{De(a)}}else{let a=XT(s,o);a!==void 0&&(a[$e]=n)}}var zf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-He}};var qf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Q3(t,e,n,r,i,s,o,a,c,u,l){Kn("NgControlFlow");let d=c!==void 0,h=te(),f=a?o.bind(h[rt][$e]):o,g=new qf(d,f);h[Ce+t]=g,Hf(t+1,e,n,r,i,s),d&&Hf(t+2,c,u,l)}var Gf=class extends Bf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-He}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[Ot];this.needsIndexUpdate||=e!==this.length,Fu(this.lContainer,n,e,oo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,uk(this.lContainer,e)}create(e,n){let r=so(this.lContainer,this.templateTNode.tView.ssrId);return jp(this.hostLView,this.templateTNode,new zf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Cu(e[j],e)}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return lk(this.lContainer,e)}};function Y3(t){let e=De(null),n=kr();try{let r=te(),i=r[j],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Wf(r,a),u=Kf(i,a);s.liveCollection=new Gf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(JO(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=fo(),c=o.length===0;if(Ur(r,a,c)){let u=n+2,l=Wf(r,u);if(c){let d=Kf(i,u),h=so(l,d.tView.ssrId),f=jp(r,d,void 0,{dehydratedView:h});Fu(l,f,0,oo(d,h))}else eD(l,0)}}}finally{De(e)}}function Wf(t,e){return t[e]}function uk(t,e){return no(t,e)}function lk(t,e){return XT(t,e)}function Kf(t,e){return ip(t,e)}function dk(t,e,n,r,i,s){let o=e.consts,a=Jc(o,i),c=vo(e,t,2,r,a);return VT(e,n,c,Jc(o,s)),c.attrs!==null&&Ff(c,c.attrs,!1),c.mergedAttrs!==null&&Ff(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function oD(t,e,n,r){let i=te(),s=dt(),o=Ce+t,a=i[le],c=s.firstCreatePass?dk(o,s,i,e,n,r):s.data[o],u=cD(s,i,c,a,e,t);i[o]=u;let l=rp(c);return ho(c,!0),sT(a,u,c),(c.flags&32)!==32&&cp()&&Dp(s,i,u,c),Kx()===0&&Pr(u,i),Qx(),l&&(OT(s,i,c),PT(s,c,i)),r!==null&&kT(i,c),oD}function aD(){let t=Et();lE()?dE():(t=t.parent,ho(t,!1));let e=t;Jx(e)&&Xx(),Yx();let n=dt();return n.firstCreatePass&&(up(n,t),ZI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pM(e)&&wI(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gM(e)&&wI(n,e,te(),e.stylesWithoutHost,!1),aD}function $p(t,e,n,r){return oD(t,e,n,r),aD(),$p}var cD=(t,e,n,r,i,s)=>(Gn(!0),Ep(r,i,_E()));function hk(t,e,n,r,i,s){let o=e[Ot],a=!o||Yi()||Ru(o,s);if(Gn(a),a)return Ep(r,i,_E());let c=Ou(o,t,e,n);return TT(o,s)&&Au(o,s,c.nextSibling),o&&($E(n)||HE(c))&&uo(n)&&(Zx(n),nT(c)),c}function fk(){cD=hk}var pk=(t,e,n,r)=>(Gn(!0),QE(e[le],""));function gk(t,e,n,r){let i,s=e[Ot],o=!s||Yi();if(Gn(o),o)return QE(e[le],"");let a=Ou(s,t,e,n),c=eP(s,r);return Au(s,r,a),i=ku(c,a),i}function mk(){pk=gk}function J3(){return te()}var fu="en-US";var yk=fu;function vk(t){ux(t,"Expected localeId to be defined"),typeof t=="string"&&(yk=t.toLowerCase().replace(/_/g,"-"))}function Ji(t){return!!t&&typeof t.then=="function"}function Hp(t){return!!t&&typeof t.subscribe=="function"}function zp(t,e,n,r){let i=te(),s=dt(),o=Et();return wk(s,i,i[le],o,t,e,r),zp}function _k(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ys],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function wk(t,e,n,r,i,s,o){let a=rp(r),u=t.firstCreatePass&&jP(t),l=e[$e],d=UP(e),h=!0;if(r.type&3||o){let y=lt(r,e),v=o?o(y):y,E=d.length,O=o?re=>o(kt(re[r.index])):r.index,Z=null;if(!o&&a&&(Z=_k(t,e,i,r.index)),Z!==null){let re=Z.__ngLastListenerFn__||Z;re.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=bI(r,e,l,s,!1);let re=n.listen(v,i,s);d.push(s,re),u&&u.push(i,O,E,E+1)}}else s=bI(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let v=0;v<y;v+=2){let E=g[v],O=g[v+1],ye=e[E][O].subscribe(s),ie=d.length;d.push(s,ye),u&&u.push(i,r.index,ie,-(ie+1))}}}function CI(t,e,n,r){try{return $t(6,e,n),n(r)!==!1}catch(i){return zT(t,i),!1}finally{$t(7,e,n)}}function bI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?qn(t.index,e):e;Op(a);let c=CI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=CI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Z3(t=1){return uM(t)}function Ik(t,e){let n=null,r=Sx(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?$I(t,s,!0):xx(r,s))return i}return n}function X3(t){let e=te()[rt][ut];if(!e.projection){let n=t?t.length:1,r=e.projection=NE(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?Ik(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function e6(t,e=0,n){let r=te(),i=dt(),s=vo(i,Ce+t,16,null,n||null);s.projection===null&&(s.projection=e),dE(),(!r[Ot]||Yi())&&(s.flags&32)!==32&&yN(i,r,s)}function Ek(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function t6(t,e=""){let n=te(),r=dt(),i=t+Ce,s=r.firstCreatePass?vo(r,i,1,e,null):r.data[i],o=uD(r,n,s,e,t);n[i]=o,cp()&&Dp(r,n,o,s),ho(s,!1)}var uD=(t,e,n,r,i)=>(Gn(!0),KE(e[le],r));function Tk(t,e,n,r,i){let s=e[Ot],o=!s||Yi()||Ru(s,i);return Gn(o),o?KE(e[le],r):Ou(s,t,e,n)}function Dk(){uD=Tk}function Ck(t){return lD("",t,""),Ck}function lD(t,e,n){let r=te(),i=EO(r,t,e,n);return i!==Vr&&BP(r,kr(),i),lD}function bk(t,e,n){let r=dt();if(r.firstCreatePass){let i=$n(t);Qf(n,r.data,r.blueprint,i,!0),Qf(e,r.data,r.blueprint,i,!1)}}function Qf(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let s=0;s<t.length;s++)Qf(t[s],e,n,r,i);else{let s=dt(),o=te(),a=Et(),c=qi(t)?t:Ye(t.provide),u=VE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qi(t)||!t.multi){let f=new Mr(u,i,ht),g=Kh(c,e,i?l:l+h,d);g===-1?(sf(tu(a,o),s,c),Wh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=Kh(c,e,l+h,d),g=Kh(c,e,l,l+h),y=f>=0&&n[f],v=g>=0&&n[g];if(i&&!v||!i&&!y){sf(tu(a,o),s,c);let E=Rk(i?Ak:Sk,n.length,i,r,u);!i&&v&&(n[g].providerFactory=E),Wh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else{let E=dD(n[i?g:f],u,!i&&r);Wh(s,t,f>-1?f:g,E)}!i&&r&&v&&n[g].componentProviders++}}}function Wh(t,e,n,r){let i=qi(e),s=kM(e);if(i||s){let c=(s?Ye(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function dD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Sk(t,e,n,r){return Yf(this.multi,[])}function Ak(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=zi(n,n[j],this.providerFactory.index,r);s=a.slice(0,o),Yf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Yf(i,s);return s}function Yf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Rk(t,e,n,r,i){let s=new Mr(t,n,ht);return s.multi=[],s.index=e,s.componentProviders=0,dD(s,i,r&&!n),s}function n6(t,e=[]){return n=>{n.providersResolver=(r,i)=>bk(r,i?i(t):t,e)}}var Hn=class{},ao=class{};var Jf=class extends Hn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uu(this);let i=WI(e);this._bootstrapComponents=BE(i.bootstrap),this._r3Injector=UE(e,n,[{provide:Hn,useValue:this},{provide:xu,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zf=class extends ao{constructor(e){super(),this.moduleType=e}create(e){return new Jf(this.moduleType,e,[])}};var pu=class extends Hn{constructor(e){super(),this.componentFactoryResolver=new uu(this),this.instance=null;let n=new to([...e.providers,{provide:Hn,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],e.parent||yp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vu(t,e,n=null){return new pu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=kE(!1,r.type),s=i.length>0?Vu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(S(it))});let t=e;return t})();function hD(t){Kn("NgStandalone"),t.getStandaloneInjector=e=>e.get(xk).getOrCreateStandaloneInjector(t)}function Mk(t,e){let n=t[e];return n===Vr?void 0:n}function Nk(t,e,n,r,i,s){let o=e+n;return Ur(t,o,i)?IO(t,o+1,s?r.call(s,i):r(i)):Mk(t,o+1)}function r6(t,e){let n=dt(),r,i=t+Ce;n.firstCreatePass?(r=Pk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Rr(r.type,!0)),o,a=nt(ht);try{let c=eu(!1),u=s();return eu(c),Ek(n,te(),i,u),u}finally{nt(a)}}function Pk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function i6(t,e,n){let r=t+Ce,i=te(),s=Hx(i,r);return Ok(i,r)?Nk(i,tM(),e,s.transform,n,s):s.transform(n)}function Ok(t,e){return t[j].data[e].pure}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},fD=new zn("17.0.8");var Uu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Xf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ju=(()=>{let e=class e{compileModuleSync(r){return new Zf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=WI(r),o=BE(s.declarations).reduce((a,c)=>{let u=Bn(c);return u&&a.push(new Wi(u)),a},[]);return new Xf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Oe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pD=new M("");var Bu=new M("Application Initializer"),gD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(Bu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ji(o))r.push(o);else if(Hp(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jr=new M("appBootstrapListener");function kk(){Uw(()=>{throw new b(600,!1)})}function Fk(t){return t.isBoundToModule}function Lk(t,e,n){try{let r=n();return Ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(bT),this.componentTypes=[],this.components=[],this.isStable=w(wo).hasPendingTasks.pipe(H(r=>!r)),this._injector=w(it)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof au;if(!this._injector.get(gD).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&GI(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new b(405,!1)}let a;s?a=r:a=this._injector.get(xu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Fk(a)?void 0:this._injector.get(Hn),u=i||a.selector,l=a.create(ke.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(pD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Qh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Qh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(jr,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Bc;function qp(t){Bc??=new WeakMap;let e=Bc.get(t);if(e)return e;let n=t.isStable.pipe(xt(r=>r)).toPromise().then(()=>{});return Bc.set(t,n),t.onDestroy(()=>Bc?.delete(t)),n}var Vk=(()=>{let e=class e{constructor(){this.zone=w(J),this.applicationRef=w(Qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Uk(t){return[{provide:J,useFactory:t},{provide:Nr,multi:!0,useFactory:()=>{let e=w(Vk,{optional:!0});return()=>e.initialize()}},{provide:Nr,multi:!0,useFactory:()=>{let e=w(Hk);return()=>{e.initialize()}}},{provide:bT,useFactory:jk}]}function jk(){let t=w(J),e=w(Gt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Bk(t){let e=Uk(()=>new J($k(t)));return Fr([[],e])}function $k(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Hk=(()=>{let e=class e{constructor(){this.subscription=new ve,this.initialized=!1,this.zone=w(J),this.pendingTasks=w(wo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zk(){return typeof $localize<"u"&&$localize.locale||fu}var Gp=new M("LocaleId",{providedIn:"root",factory:()=>w(Gp,G.Optional|G.SkipSelf)||zk()});var mD=new M("PlatformDestroyListeners");var Gc=null;function qk(t=[],e){return ke.create({name:e,providers:[{provide:Eu,useValue:"platform"},{provide:mD,useValue:new Set([()=>Gc=null])},...t]})}function Gk(t=[]){if(Gc)return Gc;let e=qk(t);return Gc=e,kk(),Wk(e),e}function Wk(t){t.get(vp,null)?.forEach(n=>n())}function s6(){return!1}function yD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Gk(r),s=[Bk(),...n||[]],a=new pu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(J);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Gt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(mD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Lk(u,c,()=>{let f=a.get(gD);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Gp,fu);vk(g||fu);let y=a.get(Qn);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var SI=!1;function Kk(){SI||(SI=!0,YN(),fk(),Dk(),mk(),ck(),sk(),YO(),_P())}function Qk(t,e){return qp(t)}function vD(){return Fr([{provide:Vc,useFactory:()=>{let t=!0;return Gs()&&(t=!!w(Lr,{optional:!0})?.get(IT,null)),t&&Kn("NgHydration"),t}},{provide:Nr,useValue:()=>{Gs()&&w(Vc)&&(Yk(),Kk())},multi:!0},{provide:AT,useFactory:()=>Gs()&&w(Vc)},{provide:jr,useFactory:()=>{if(Gs()&&w(Vc)){let t=w(Qn),e=w(ke);return()=>{Qk(t,e).then(()=>{J.assertInAngularZone(),$O(t)})}}return()=>{}},multi:!0}])}function Yk(){let t=Tu(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===KN){e=n;break}if(!e)throw new b(-507,!1)}function Io(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _D(t){let e=Bn(t);if(!e)return null;let n=new Wi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Wp=null;function Zi(){return Wp}function TD(t){Wp||(Wp=t)}var $u=class{},Fe=new M("DocumentToken"),Jp=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(Jk))(),providedIn:"platform"});let t=e;return t})(),DD=new M("Location Initialized"),Jk=(()=>{let e=class e extends Jp{constructor(){super(),this._doc=w(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(r){let i=Zi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Zp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function wn(t){return t&&t[0]!=="?"?"?"+t:t}var In=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(Xp))(),providedIn:"root"});let t=e;return t})(),CD=new M("appBaseHref"),Xp=(()=>{let e=class e extends In{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+wn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Jp),S(CD,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bD=(()=>{let e=class e extends In{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Zp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Jp),S(CD,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Xi=(()=>{let e=class e{constructor(r){this._subject=new Nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=e1(wD(ID(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+wn(i))}normalize(r){return e.stripTrailingSlash(Xk(this._basePath,ID(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+wn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+wn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=wn,e.joinWithSlash=Zp,e.stripTrailingSlash=wD,e.\u0275fac=function(i){return new(i||e)(S(In))},e.\u0275prov=A({token:e,factory:()=>Zk(),providedIn:"root"});let t=e;return t})();function Zk(){return new Xi(S(In))}function Xk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ID(t){return t.replace(/\/index.html$/,"")}function e1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function SD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}function t1(t,e){return new b(2100,!1)}var Kp=class{createSubscription(e,n){return xp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){xp(()=>e.unsubscribe())}},Qp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},n1=new Qp,r1=new Kp,x6=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Ji(r))return n1;if(Hp(r))return r1;throw t1(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(ht(_o,16))},e.\u0275pipe=np({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();function i1(t,e){return{key:t,value:e}}var M6=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=ED}transform(r,i=ED){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ||(this.differ=this.differs.find(r).create());let s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(i1(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(ht(Mp,16))},e.\u0275pipe=np({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function ED(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var s1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=It({type:e}),e.\u0275inj=wt({});let t=e;return t})(),eg="browser",o1="server";function N6(t){return t===eg}function tg(t){return t===o1}var AD=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new Yp(S(Fe),window)});let t=e;return t})(),Yp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=a1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function a1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Hu=class{};var rg=class{};var Br=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ig=class{encodeKey(e){return RD(e)}encodeValue(e){return RD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function l1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var d1=/%(\d[a-f0-9])/gi,h1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RD(t){return encodeURIComponent(t).replace(d1,(e,n)=>h1[n]??e)}function zu(t){return`${t}`}var Jn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ig,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=l1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(zu):[zu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(zu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function f1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MD(t){return typeof Blob<"u"&&t instanceof Blob}function ND(t){return typeof FormData<"u"&&t instanceof FormData}function p1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Eo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(f1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Br),this.context||(this.context=new sg),!this.params)this.params=new Jn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:xD(this.body)||MD(this.body)||ND(this.body)||p1(this.body)||typeof this.body=="string"?this.body:this.body instanceof Jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ND(this.body)?null:MD(this.body)?this.body.type||null:xD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},UD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(UD||{}),og=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Br,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var To=class t extends og{constructor(e={}){super(e),this.type=UD.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function ng(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var $6=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Eo)o=r;else{let u;s.headers instanceof Br?u=s.headers:u=new Br(s.headers);let l;s.params&&(s.params instanceof Jn?l=s.params:l=new Jn({fromObject:s.params})),o=new Eo(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=x(o).pipe(dn(u=>this.handler.handle(u)));if(r instanceof Eo||s.observe==="events")return a;let c=a.pipe(Be(u=>u instanceof To));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(H(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(H(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Jn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,ng(s,i))}post(r,i,s={}){return this.request("POST",r,ng(s,i))}put(r,i,s={}){return this.request("PUT",r,ng(s,i))}};e.\u0275fac=function(i){return new(i||e)(S(rg))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var g1=new M("");var PD="b",OD="h",kD="s",FD="st",LD="u",VD="rt",qu=new M(""),m1=["GET","HEAD"];function y1(t,e){let l=w(qu),{isCacheActive:n}=l,r=rw(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!m1.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=w(Lr),a=_1(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[PD]:d,[VD]:h,[OD]:f,[kD]:g,[FD]:y,[LD]:v}=c,E=d;switch(h){case"arraybuffer":E=new TextEncoder().encode(d).buffer;break;case"blob":E=new Blob([d]);break}let O=new Br(f);return x(new To({body:E,headers:O,status:g,statusText:y,url:v}))}return e(t).pipe(fe(d=>{d instanceof To&&o.set(a,{[PD]:d.body,[OD]:v1(d.headers,u),[kD]:d.status,[FD]:d.statusText,[LD]:d.url||"",[VD]:t.responseType})}))}function v1(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function _1(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=w1(o);return a}function w1(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function jD(t){return[{provide:qu,useFactory:()=>(Kn("NgHttpTransferCache"),D({isCacheActive:!0},t))},{provide:g1,useValue:y1,multi:!0,deps:[Lr,qu]},{provide:jr,multi:!0,useFactory:()=>{let e=w(Qn),n=w(qu);return()=>{qp(e).then(()=>{n.isCacheActive=!1})}}}]}var ug=class extends $u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lg=class t extends ug{static makeCurrent(){TD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=I1();return n==null?null:E1(n)}resetBaseElement(){Do=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return SD(document.cookie,e)}},Do=null;function I1(){return Do=Do||document.querySelector("base"),Do?Do.getAttribute("href"):null}function E1(t){return new URL(t,document.baseURI).pathname}var T1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),dg=new M("EventManagerPlugins"),zD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(dg),S(J))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=class{constructor(e){this._doc=e}},ag="ng-app-id",qD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ag}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(ag),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ag,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(Fe),S(Du),S(_p,8),S(Ft))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fg=/%COMP%/g,GD="%COMP%",D1=`_nghost-${GD}`,C1=`_ngcontent-${GD}`,b1=!0,S1=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>b1});function A1(t){return C1.replace(fg,t)}function R1(t){return D1.replace(fg,t)}function WD(t,e){return e.map(n=>n.replace(fg,t))}var BD=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=tg(c),this.defaultRenderer=new Co(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qt.ShadowDom&&(i=ue(D({},i),{encapsulation:qt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Wu?s.applyToHost(r):s instanceof bo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case qt.Emulated:o=new Wu(u,l,i,this.appId,d,a,c,h);break;case qt.ShadowDom:return new hg(u,l,r,i,a,c,this.nonce,h);default:o=new bo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(zD),S(qD),S(Du),S(S1),S(Fe),S(Ft),S(J),S(_p))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Co=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($D(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($D(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=cg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=cg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(n,r,i&mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Zi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $D(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hg=class extends Co{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=WD(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bo=class extends Co{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?WD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends bo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=A1(u),this.hostAttr=R1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},x1=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(Fe))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),HD=["alt","control","meta","shift"],M1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},P1=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),HD.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=M1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),HD.forEach(a=>{if(a!==s){let c=N1[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(Fe))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function o5(t,e){return yD(D({rootComponent:t},O1(e)))}function O1(t){return{appProviders:[...U1,...t?.providers??[]],platformProviders:V1}}function k1(){lg.makeCurrent()}function F1(){return new Gt}function L1(){return jE(document),document}var V1=[{provide:Ft,useValue:eg},{provide:vp,useValue:k1,multi:!0},{provide:Fe,useFactory:L1,deps:[]}];var U1=[{provide:Eu,useValue:"root"},{provide:Gt,useFactory:F1,deps:[]},{provide:dg,useClass:x1,multi:!0,deps:[Fe,J,Ft]},{provide:dg,useClass:P1,multi:!0,deps:[Fe]},BD,qD,zD,{provide:ro,useExisting:BD},{provide:Hu,useClass:T1,deps:[]},[]];function j1(){return new pg(S(Fe))}var pg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(Fe))},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new i:s=j1(),s},providedIn:"root"});let t=e;return t})();var B1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=S(KD),s},providedIn:"root"});let t=e;return t})();function $1(t){return new KD(t.get(Fe))}var KD=(()=>{let e=class e extends B1{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Kt.NONE:return i;case Kt.HTML:return Wn(i,"HTML")?Wt(i):gT(this._doc,String(i)).toString();case Kt.STYLE:return Wn(i,"Style")?Wt(i):i;case Kt.SCRIPT:if(Wn(i,"Script"))return Wt(i);throw new b(5200,!1);case Kt.URL:return Wn(i,"URL")?Wt(i):Su(String(i));case Kt.RESOURCE_URL:if(Wn(i,"ResourceURL"))return Wt(i);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(r){return oT(r)}bypassSecurityTrustStyle(r){return aT(r)}bypassSecurityTrustScript(r){return cT(r)}bypassSecurityTrustUrl(r){return uT(r)}bypassSecurityTrustResourceUrl(r){return lT(r)}};e.\u0275fac=function(i){return new(i||e)(S(Fe))},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new i:s=$1(S(ke)),s},providedIn:"root"});let t=e;return t})();function a5(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Fr([[],vD(),n.has(0)||r?[]:jD({}),e])}var z="primary",$o=Symbol("RouteTitle"),_g=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function is(t){return new _g(t)}function z1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function q1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qt(t[n],e[n]))return!1;return!0}function Qt(t,e){let n=t?wg(t):void 0,r=e?wg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!rC(t[i],e[i]))return!1;return!0}function wg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function rC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function iC(t){return t.length>0?t[t.length-1]:null}function nr(t){return wh(t)?t:Ji(t)?he(Promise.resolve(t)):x(t)}var G1={exact:oC,subset:aC},sC={exact:W1,subset:K1,ignored:()=>!0};function QD(t,e,n){return G1[n.paths](t.root,e.root,n.matrixParams)&&sC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function W1(t,e){return Qt(t,e)}function oC(t,e,n){if(!Hr(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!oC(t.children[r],e.children[r],n))return!1;return!0}function K1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rC(t[n],e[n]))}function aC(t,e,n){return cC(t,e,e.segments,n)}function cC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Hr(i,n)||e.hasChildren()||!Yu(i,n,r))}else if(t.segments.length===n.length){if(!Hr(t.segments,n)||!Yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!aC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Hr(t.segments,i)||!Yu(t.segments,i,r)||!t.children[z]?!1:cC(t.children[z],e,s,r)}}function Yu(t,e,n){return e.every((r,i)=>sC[n](t[i].parameters,r.parameters))}var Zn=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return J1.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},$r=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=is(this.parameters)),this._parameterMap}toString(){return lC(this)}};function Q1(t,e){return Hr(t,e)&&t.every((n,r)=>Qt(n.parameters,e[r].parameters))}function Hr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Y1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var Ho=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>new Po)(),providedIn:"root"});let t=e;return t})(),Po=class{parse(e){let n=new Eg(e);return new Zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${So(e.root,!0)}`,r=eF(e.queryParams),i=typeof e.fragment=="string"?`#${Z1(e.fragment)}`:"";return`${n}${r}${i}`}},J1=new Po;function Ju(t){return t.segments.map(e=>lC(e)).join("/")}function So(t,e){if(!t.hasChildren())return Ju(t);if(e){let n=t.children[z]?So(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${So(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Y1(t,(r,i)=>i===z?[So(t.children[z],!1)]:[`${i}:${So(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${Ju(t)}/${n[0]}`:`${Ju(t)}/(${n.join("//")})`}}function uC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(t){return uC(t).replace(/%3B/gi,";")}function Z1(t){return encodeURI(t)}function Ig(t){return uC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(t){return decodeURIComponent(t)}function YD(t){return Zu(t.replace(/\+/g,"%20"))}function lC(t){return`${Ig(t.path)}${X1(t.parameters)}`}function X1(t){return Object.keys(t).map(e=>`;${Ig(e)}=${Ig(t[e])}`).join("")}function eF(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Ku(n)}=${Ku(i)}`).join("&"):`${Ku(n)}=${Ku(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var tF=/^[^\/()?;#]+/;function gg(t){let e=t.match(tF);return e?e[0]:""}var nF=/^[^\/()?;=#]+/;function rF(t){let e=t.match(nF);return e?e[0]:""}var iF=/^[^=?&#]+/;function sF(t){let e=t.match(iF);return e?e[0]:""}var oF=/^[^&#]+/;function aF(t){let e=t.match(oF);return e?e[0]:""}var Eg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new ee(e,n)),r}parseSegment(){let e=gg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new $r(Zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=rF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gg(this.remaining);i&&(r=i,this.capture(r))}e[Zu(n)]=Zu(r)}parseQueryParam(e){let n=sF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=aF(this.remaining);o&&(r=o,this.capture(r))}let i=YD(n),s=YD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[z]:new ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function dC(t){return t.segments.length>0?new ee([],{[z]:t}):t}function hC(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=hC(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ee(t.segments,e);return cF(n)}function cF(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new ee(t.segments.concat(e.segments),e.children)}return t}function ss(t){return t instanceof Zn}function uF(t,e,n=null,r=null){let i=fC(t);return pC(i,e,n,r)}function fC(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=dC(r);return e??i}function pC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return mg(i,i,i,n,r);let s=lF(e);if(s.toRoot())return mg(i,i,new ee([],{}),n,r);let o=dF(s,i,t),a=o.processChildren?xo(o.segmentGroup,o.index,s.commands):mC(o.segmentGroup,o.index,s.commands);return mg(i,o.segmentGroup,a,n,r)}function Xu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oo(t){return typeof t=="object"&&t!=null&&t.outlets}function mg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=gC(t,e,n);let a=dC(hC(o));return new Zn(a,s,i)}function gC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=gC(s,e,n)}),new ee(t.segments,r)}var el=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new b(4003,!1);let i=r.find(Oo);if(i&&i!==iC(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new el(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new el(n,e,r)}var ns=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dF(t,e,n){if(t.isAbsolute)return new ns(e,!0,0);if(!n)return new ns(e,!1,NaN);if(n.parent===null)return new ns(n,!0,0);let r=Xu(t.commands[0])?0:1,i=n.segments.length-1+r;return hF(n,i,t.numberOfDoubleDots)}function hF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ns(r,!1,i-s)}function fF(t){return Oo(t[0])?t[0].outlets:{[z]:t}}function mC(t,e,n){if(t||(t=new ee([],{})),t.segments.length===0&&t.hasChildren())return xo(t,e,n);let r=pF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ee(t.segments.slice(0,r.pathIndex),{});return s.children[z]=new ee(t.segments.slice(r.pathIndex),t.children),xo(s,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Tg(t,e,n):r.match?xo(t,0,i):Tg(t,e,n)}function xo(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=fF(n),i={};if(Object.keys(r).some(s=>s!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let s=xo(t.children[z],e,n);return new ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=mC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ee(t.segments,i)}}function pF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Oo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ZD(c,u,o))return s;r+=2}else{if(!ZD(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Tg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Oo(s)){let c=gF(s.outlets);return new ee(r,c)}if(i===0&&Xu(n[0])){let c=t.segments[e];r.push(new $r(c.path,JD(n[0]))),i++;continue}let o=Oo(s)?s.outlets[z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xu(a)?(r.push(new $r(o,JD(a))),i+=2):(r.push(new $r(o,{})),i++)}return new ee(r,{})}function gF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Tg(new ee([],{}),0,r))}),e}function JD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZD(t,e,n){return t==n.path&&Qt(e,n.parameters)}var Mo="imperative",Tt=class{constructor(e,n){this.id=e,this.url=n}},os=class extends Tt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Tt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xn=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},ko=class extends Tt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends Tt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bg=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sg=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rg=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xg=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ng=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fo=class{},Lo=class{constructor(e){this.url=e}};var Og=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zo,this.attachRef=null}},zo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Og,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=kg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fg(e,this._root).map(n=>n.value)}};function kg(t,e){if(t===e.value)return e;for(let n of e.children){let r=kg(t,n);if(r)return r}return null}function Fg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fg(t,n);if(r.length)return r.unshift(e),r}return[]}var ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var il=class extends rl{constructor(e,n){super(e),this.snapshot=n,Gg(this,e)}toString(){return this.snapshot.toString()}};function yC(t,e){let n=mF(t,e),r=new Oe([new $r("",{})]),i=new Oe({}),s=new Oe({}),o=new Oe({}),a=new Oe(""),c=new tr(r,i,o,a,s,z,e,n.root);return c.snapshot=n.root,new il(new ft(c,[]),n)}function mF(t,e){let n={},r={},i={},s="",o=new Vo([],n,i,s,r,z,e,null,{});return new sl("",new ft(o,[]))}var tr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(u=>u[$o]))??x(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&_C(i)&&(r.resolve[$o]=i.title),r}var Vo=class{get title(){return this.data?.[$o]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sl=class extends rl{constructor(e,n){super(n),this.url=e,Gg(this,n)}toString(){return vC(this._root)}};function Gg(t,e){e.value._routerState=t,e.children.forEach(n=>Gg(t,n))}function vC(t){let e=t.children.length>0?` { ${t.children.map(vC).join(", ")} } `:"";return`${t.value}${e}`}function yg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qt(e.params,n.params)||t.paramsSubject.next(n.params),q1(e.url,n.url)||t.urlSubject.next(n.url),Qt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lg(t,e){let n=Qt(t.params,e.params)&&Q1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Lg(t.parent,e.parent))}function _C(t){return typeof t.title=="string"||t.title===null}var yF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Nt,this.deactivateEvents=new Nt,this.attachEvents=new Nt,this.detachEvents=new Nt,this.parentContexts=w(zo),this.location=w(Lu),this.changeDetector=w(_o),this.environmentInjector=w(it),this.inputBinder=w(ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Vg(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=_u({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lo]});let t=e;return t})(),Vg=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===tr?this.route:e===zo?this.childContexts:this.parent.get(e,n)}},ul=new M(""),XD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=zs([i.queryParams,i.params,i.data]).pipe(ot(([o,a,c],u)=>(c=D(D(D({},o),a),c),u===0?x(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=_D(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function vF(t,e,n){let r=Uo(t,e._root,n?n._root:void 0);return new il(r,e)}function Uo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_F(t,e,n);return new ft(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uo(t,a)),o}}let r=wF(e.value),i=e.children.map(s=>Uo(t,s));return new ft(r,i)}}function _F(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uo(t,r,i);return Uo(t,r)})}function wF(t){return new tr(new Oe(t.url),new Oe(t.params),new Oe(t.queryParams),new Oe(t.fragment),new Oe(t.data),t.outlet,t.component,t)}var wC="ngNavigationCancelingError";function IC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ss(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=EC(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function EC(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[wC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function IF(t){return TC(t)&&ss(t.url)}function TC(t){return t&&t[wC]}var EF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=HI({type:e,selectors:[["ng-component"]],standalone:!0,features:[hD],decls:1,vars:0,template:function(i,s){i&1&&$p(0,"router-outlet")},dependencies:[yF],encapsulation:2});let t=e;return t})();function TF(t,e){return t.providers&&!t._injector&&(t._injector=Vu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wg(t){let e=t.children&&t.children.map(Wg),n=e?ue(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=EF),n}function Jt(t){return t.outlet||z}function DF(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var CF=(t,e,n,r)=>H(i=>(new Ug(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ug=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ts(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ts(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Pg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(yg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=qo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},ol=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rs=class{constructor(e,n){this.component=e,this.route=n}};function bF(t,e,n){let r=t._root,i=e?e._root:null;return Ao(r,i,n,[r.value])}function SF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!NI(t)?t:e.get(t):r}function Ao(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ts(e);return t.children.forEach(o=>{AF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>No(a,n.getContext(o),i)),i}function AF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=RF(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ol(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ao(t,e,a?a.children:null,r,i):Ao(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rs(a.outlet.component,o))}else o&&No(e,a,i),i.canActivateChecks.push(new ol(r)),s.component?Ao(t,null,a?a.children:null,r,i):Ao(t,null,n,r,i);return i}function RF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Hr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hr(t.url,e.url)||!Qt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lg(t,e)||!Qt(t.queryParams,e.queryParams);case"paramsChange":default:return!Lg(t,e)}}function No(t,e,n){let r=ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?No(o,e.children.getContext(s),n):No(o,null,n):No(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new rs(e.outlet.component,i)):n.canDeactivateChecks.push(new rs(null,i)):n.canDeactivateChecks.push(new rs(null,i))}function Go(t){return typeof t=="function"}function xF(t){return typeof t=="boolean"}function MF(t){return t&&Go(t.canLoad)}function NF(t){return t&&Go(t.canActivate)}function PF(t){return t&&Go(t.canActivateChild)}function OF(t){return t&&Go(t.canDeactivate)}function kF(t){return t&&Go(t.canMatch)}function DC(t){return t instanceof Rt||t?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function as(){return ot(t=>zs(t.map(e=>e.pipe(hn(1),Ch(Qu)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===Qu)return Qu;if(n===!1||n instanceof Zn)return n}return!0}),Be(e=>e!==Qu),hn(1)))}function FF(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?x(ue(D({},n),{guardsResult:!0})):LF(o,r,i,t).pipe(_e(a=>a&&xF(a)?VF(r,s,t,e):x(a)),H(a=>ue(D({},n),{guardsResult:a})))})}function LF(t,e,n,r){return he(t).pipe(_e(i=>HF(i.component,i.route,n,e,r)),xt(i=>i!==!0,!0))}function VF(t,e,n,r){return he(e).pipe(dn(i=>Mi(jF(i.route.parent,r),UF(i.route,r),$F(t,i.path,n),BF(t,i.route,n))),xt(i=>i!==!0,!0))}function UF(t,e){return t!==null&&e&&e(new Ng(t)),x(!0)}function jF(t,e){return t!==null&&e&&e(new xg(t)),x(!0)}function BF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return x(!0);let i=r.map(s=>bc(()=>{let o=qo(e)??n,a=cs(s,o),c=NF(a)?a.canActivate(e,t):vn(o,()=>a(e,t));return nr(c).pipe(xt())}));return x(i).pipe(as())}function $F(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>SF(o)).filter(o=>o!==null).map(o=>bc(()=>{let a=o.guards.map(c=>{let u=qo(o.node)??n,l=cs(c,u),d=PF(l)?l.canActivateChild(r,t):vn(u,()=>l(r,t));return nr(d).pipe(xt())});return x(a).pipe(as())}));return x(s).pipe(as())}function HF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return x(!0);let o=s.map(a=>{let c=qo(e)??i,u=cs(a,c),l=OF(u)?u.canDeactivate(t,e,n,r):vn(c,()=>u(t,e,n,r));return nr(l).pipe(xt())});return x(o).pipe(as())}function zF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return x(!0);let s=i.map(o=>{let a=cs(o,t),c=MF(a)?a.canLoad(e,n):vn(t,()=>a(e,n));return nr(c)});return x(s).pipe(as(),CC(r))}function CC(t){return fh(fe(e=>{if(ss(e))throw IC(t,e)}),H(e=>e===!0))}function qF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return x(!0);let s=i.map(o=>{let a=cs(o,t),c=kF(a)?a.canMatch(e,n):vn(t,()=>a(e,n));return nr(c)});return x(s).pipe(as(),CC(r))}var jo=class{constructor(e){this.segmentGroup=e||null}},al=class extends Error{constructor(e){super(),this.urlTree=e}};function es(t){return Ri(new jo(t))}function GF(t){return Ri(new b(4e3,!1))}function WF(t){return Ri(EC(!1,3))}var jg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return x(r);if(i.numberOfChildren>1||!i.children[z])return GF(e.redirectTo);i=i.children[z]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new al(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Zn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KF(t,e,n,r,i){let s=Kg(t,e,n);return s.matched?(r=TF(e,r),qF(r,e,n,i).pipe(H(o=>o===!0?s:D({},Bg)))):x(s)}function Kg(t,e,n){if(e.path==="**")return QF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Bg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||z1)(n,t,e);if(!i)return D({},Bg);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QF(t){return{matched:!0,parameters:t.length>0?iC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eC(t,e,n,r){return n.length>0&&ZF(t,n,r)?{segmentGroup:new ee(e,JF(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&XF(t,n,r)?{segmentGroup:new ee(t.segments,YF(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function YF(t,e,n,r,i){let s={};for(let o of r)if(ll(t,n,o)&&!i[Jt(o)]){let a=new ee([],{});s[Jt(o)]=a}return D(D({},i),s)}function JF(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&Jt(r)!==z){let i=new ee([],{});n[Jt(r)]=i}return n}function ZF(t,e,n){return n.some(r=>ll(t,e,r)&&Jt(r)!==z)}function XF(t,e,n){return n.some(r=>ll(t,e,r))}function ll(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eL(t,e,n,r){return Jt(t)!==r&&(r===z||!ll(e,n,t))?!1:Kg(e,t,n).matched}function tL(t,e,n){return e.length===0&&!t.children[n]}var $g=class{};function nL(t,e,n,r,i,s,o="emptyOnly"){return new Hg(t,e,n,r,i,o,s).recognize()}var rL=31,Hg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new jg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=eC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new Vo([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new ft(r,n),s=new sl("",i),o=uF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe(Ln(r=>{if(r instanceof al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof jo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=qg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(s=>s instanceof ft?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(dn(s=>{let o=r.children[s],a=DF(n,s);return this.processSegmentGroup(e,a,o,s)}),Th((s,o)=>(s.push(...o),s)),Vn(null),Eh(),_e(s=>{if(s===null)return es(r);let o=bC(s);return iL(o),x(o)}))}processSegment(e,n,r,i,s,o){return he(n).pipe(dn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ln(c=>{if(c instanceof jo)return x(null);throw c}))),xt(a=>!!a),Ln(a=>{if(DC(a))return tL(r,i,s)?x(new $g):es(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return eL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):es(i):es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Kg(n,i,s);if(!a)return es(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rL&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=KF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(ot(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ot(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Vo(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,oL(r),Jt(r),r.component??r._loadedComponent??null,r,aL(r)),{segmentGroup:g,slicedSegments:y}=eC(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(H(E=>E===null?null:new ft(f,E)));if(c.length===0&&y.length===0)return x(new ft(f,[]));let v=Jt(r)===s;return this.processSegment(u,c,g,y,v?z:s,!0).pipe(H(E=>new ft(f,E instanceof ft?[E]:[])))}))):es(n)))}getChildConfig(e,n,r){return n.children?x({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?x({routes:n._loadedRoutes,injector:n._loadedInjector}):zF(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):WF(n))):x({routes:[],injector:e})}};function iL(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function sL(t){let e=t.value.routeConfig;return e&&e.path===""}function bC(t){let e=[],n=new Set;for(let r of t){if(!sL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bC(r.children);e.push(new ft(r.value,i))}return e.filter(r=>!n.has(r))}function oL(t){return t.data||{}}function aL(t){return t.resolve||{}}function cL(t,e,n,r,i,s){return _e(o=>nL(t,e,n,r,o.extractedUrl,i,s).pipe(H(({state:a,tree:c})=>ue(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function uL(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return x(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of SC(c))o.add(u);let a=0;return he(o).pipe(dn(c=>s.has(c)?lL(c,r,t,e):(c.data=qg(c,c.parent,t).resolve,x(void 0))),fe(()=>a++),Pi(1),_e(c=>a===o.size?x(n):vt))})}function SC(t){let e=t.children.map(n=>SC(n)).flat();return[t,...e]}function lL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!_C(i)&&(s[$o]=i.title),dL(s,t,e,r).pipe(H(o=>(t._resolvedData=o,t.data=qg(t,t.parent,n).resolve,null)))}function dL(t,e,n,r){let i=wg(t);if(i.length===0)return x({});let s={};return he(i).pipe(_e(o=>hL(t[o],e,n,r).pipe(xt(),fe(a=>{s[o]=a}))),Pi(1),Ih(s),Ln(o=>DC(o)?vt:Ri(o)))}function hL(t,e,n,r){let i=qo(e)??r,s=cs(t,i),o=s.resolve?s.resolve(e,n):vn(i,()=>s(e,n));return nr(o)}function vg(t){return ot(e=>{let n=t(e);return n?he(n).pipe(H(()=>e)):x(e)})}var AC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[$o]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(fL))(),providedIn:"root"});let t=e;return t})(),fL=(()=>{let e=class e extends AC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(pg))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wo=new M("",{providedIn:"root",factory:()=>({})}),Bo=new M("ROUTES"),Qg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(ju)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return x(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(r.loadComponent()).pipe(H(RC),fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ni(()=>{this.componentLoaders.delete(r)})),s=new Di(i,()=>new je).pipe(Ti());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return x({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=pL(i,this.compiler,r,this.onLoadEndListener).pipe(Ni(()=>{this.childrenLoaders.delete(i)})),a=new Di(o,()=>new je).pipe(Ti());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pL(t,e,n,r){return nr(t.loadChildren()).pipe(H(RC),_e(i=>i instanceof ao||Array.isArray(i)?x(i):he(e.compileModuleAsync(i))),H(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Bo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Wg),injector:s}}))}function gL(t){return t&&typeof t=="object"&&"default"in t}function RC(t){return gL(t)?t.default:t}var Yg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(mL))(),providedIn:"root"});let t=e;return t})(),mL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xC=new M(""),MC=new M("");function yL(t,e,n){let r=t.get(MC),i=t.get(Fe);return t.get(J).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),vL(t))),{onViewTransitionCreated:c}=r;return c&&vn(t,()=>c({transition:a,from:e,to:n})),o})}function vL(t){return new Promise(e=>{Fp(e,{injector:t})})}var Jg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=w(Qg),this.environmentInjector=w(it),this.urlSerializer=w(Ho),this.rootContexts=w(zo),this.location=w(Xi),this.inputBindingEnabled=w(ul,{optional:!0})!==null,this.titleStrategy=w(AC),this.options=w(Wo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Yg),this.createViewTransition=w(xC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>x(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ag(s)),i=s=>this.events.next(new Rg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Oe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Be(o=>o.id!==0),H(o=>ue(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ot(o=>{this.currentTransition=o;let a=!1,c=!1;return x(o).pipe(fe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ot(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new er(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return x(u).pipe(ot(h=>{let f=this.transitions?.getValue();return this.events.next(new os(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?vt:Promise.resolve(h)}),cL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),fe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ue(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new tl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=u,E=new os(h,this.urlSerializer.serialize(f),g,y);this.events.next(E);let O=yC(f,this.rootComponentType).snapshot;return this.currentTransition=o=ue(D({},u),{targetSnapshot:O,urlAfterRedirects:f,extras:ue(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,x(o)}else{let h="";return this.events.next(new er(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),vt}}),fe(u=>{let l=new Dg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),H(u=>(this.currentTransition=o=ue(D({},u),{guards:bF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),FF(this.environmentInjector,u=>this.events.next(u)),fe(u=>{if(o.guardsResult=u.guardsResult,ss(u.guardsResult))throw IC(this.urlSerializer,u.guardsResult);let l=new Cg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Be(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),vg(u=>{if(u.guards.canActivateChecks.length)return x(u).pipe(fe(l=>{let d=new bg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ot(l=>{let d=!1;return x(l).pipe(uL(this.paramsInheritanceStrategy,this.environmentInjector),fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),fe(l=>{let d=new Sg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),vg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(fe(f=>{d.component=f}),H(()=>{})));for(let f of d.children)h.push(...l(f));return h};return zs(l(u.targetSnapshot.root)).pipe(Vn(null),hn(1))}),vg(()=>this.afterPreactivation()),ot(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?he(d).pipe(H(()=>o)):x(o)}),H(u=>{let l=vF(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),fe(()=>{this.events.next(new Fo)}),CF(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hn(1),fe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),vc(this.transitionAbortSubject.pipe(fe(u=>{throw u}))),Ni(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ln(u=>{if(c=!0,TC(u))this.events.next(new Xn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),IF(u)?this.events.next(new Lo(u.url)):o.resolve(!1);else{this.events.next(new ko(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return vt}))}))}cancelNavigationTransition(r,i,s){let o=new Xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _L(t){return t!==Mo}var wL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(IL))(),providedIn:"root"});let t=e;return t})(),zg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},IL=(()=>{let e=class e extends zg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=dp(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>w(EL))(),providedIn:"root"});let t=e;return t})(),EL=(()=>{let e=class e extends NC{constructor(){super(...arguments),this.location=w(Xi),this.urlSerializer=w(Ho),this.options=w(Wo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yC(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof os)this.stateMemento=this.createStateMemento();else if(r instanceof er)this.rawUrlTree=i.initialUrl;else if(r instanceof tl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Fo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Xn&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof ko?this.restoreHistory(i,!0):r instanceof Yt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=dp(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ro=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ro||{});function PC(t,e){t.events.pipe(Be(n=>n instanceof Yt||n instanceof Xn||n instanceof ko||n instanceof er),H(n=>n instanceof Yt||n instanceof er?Ro.COMPLETE:(n instanceof Xn?n.code===0||n.code===1:!1)?Ro.REDIRECTING:Ro.FAILED),Be(n=>n!==Ro.REDIRECTING),hn(1)).subscribe(()=>{e()})}function TL(t){throw t}var DL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},En=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Uu),this.stateManager=w(NC),this.options=w(Wo,{optional:!0})||{},this.pendingTasks=w(wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Jg),this.urlSerializer=w(Ho),this.location=w(Xi),this.urlHandlingStrategy=w(Yg),this._events=new je,this.errorHandler=this.options.errorHandler||TL,this.navigated=!1,this.routeReuseStrategy=w(wL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Bo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(ul,{optional:!0}),this.eventsSubscription=new ve,this.isNgZoneEnabled=w(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Xn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Yt)this.navigated=!0;else if(i instanceof Lo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_L(s.source)};this.scheduleNavigation(a,Mo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}SL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Wg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=fC(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return pC(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ss(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mo,null,i)}navigate(r,i={skipLocationChange:!1}){return bL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},DL):i===!1?s=D({},CL):s=i,ss(r))return QD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return QD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return PC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function SL(t){return!(t instanceof Fo)&&!(t instanceof Lo)}var A5=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Yt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:mT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ht(En),ht(tr),hp("tabindex"),ht(Mu),ht(yo),ht(In))},e.\u0275dir=_u({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&zp("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Up("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Io],skipLocationChange:["skipLocationChange","skipLocationChange",Io],replaceUrl:["replaceUrl","replaceUrl",Io],routerLink:"routerLink"},standalone:!0,features:[Vp,lo]});let t=e;return t})();var cl=class{};var AL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Be(r=>r instanceof Yt),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Vu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return he(s).pipe(xi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=x(null);let o=s.pipe(_e(a=>a===null?x(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return he([o,a]).pipe(xi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(En),S(ju),S(it),S(cl),S(Qg))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OC=new M(""),RL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Yt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof er&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof nl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){xT()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function R5(t,...e){return Fr([{provide:Bo,multi:!0,useValue:t},[],{provide:tr,useFactory:kC,deps:[En]},{provide:jr,multi:!0,useFactory:FC},e.map(n=>n.\u0275providers)])}function kC(t){return t.routerState.root}function Ko(t,e){return{\u0275kind:t,\u0275providers:e}}function FC(){let t=w(ke);return e=>{let n=t.get(Qn);if(e!==n.components[0])return;let r=t.get(En),i=t.get(LC);t.get(Zg)===1&&r.initialNavigation(),t.get(VC,null,G.Optional)?.setUpPreloading(),t.get(OC,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LC=new M("",{factory:()=>new je}),Zg=new M("",{providedIn:"root",factory:()=>1});function xL(){return Ko(2,[{provide:Zg,useValue:0},{provide:Bu,multi:!0,deps:[ke],useFactory:e=>{let n=e.get(DD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(En),s=e.get(LC);PC(i,()=>{r(!0)}),e.get(Jg).afterPreactivation=()=>(r(!0),s.closed?x(void 0):s),i.initialNavigation()}))}}])}function ML(){return Ko(3,[{provide:Bu,multi:!0,useFactory:()=>{let e=w(En);return()=>{e.setUpLocationChangeListener()}}},{provide:Zg,useValue:2}])}var VC=new M("");function NL(t){return Ko(0,[{provide:VC,useExisting:AL},{provide:cl,useExisting:t}])}function PL(){return Ko(8,[XD,{provide:ul,useExisting:XD}])}function OL(t){let e=[{provide:xC,useValue:yL},{provide:MC,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ko(9,e)}var tC=new M("ROUTER_FORROOT_GUARD"),kL=[Xi,{provide:Ho,useClass:Po},En,zo,{provide:tr,useFactory:kC,deps:[En]},Qg,[]],x5=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[kL,[],{provide:Bo,multi:!0,useValue:r},{provide:tC,useFactory:UL,deps:[[En,new ze,new gp]]},{provide:Wo,useValue:i||{}},i?.useHash?LL():VL(),FL(),i?.preloadingStrategy?NL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?jL(i):[],i?.bindToComponentInputs?PL().\u0275providers:[],i?.enableViewTransitions?OL().\u0275providers:[],BL()]}}static forChild(r){return{ngModule:e,providers:[{provide:Bo,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(tC,8))},e.\u0275mod=It({type:e}),e.\u0275inj=wt({});let t=e;return t})();function FL(){return{provide:OC,useFactory:()=>{let t=w(AD),e=w(J),n=w(Wo),r=w(Jg),i=w(Ho);return n.scrollOffset&&t.setOffset(n.scrollOffset),new RL(i,r,t,e,n)}}}function LL(){return{provide:In,useClass:bD}}function VL(){return{provide:In,useClass:Xp}}function UL(t){return"guarded"}function jL(t){return[t.initialNavigation==="disabled"?ML().\u0275providers:[],t.initialNavigation==="enabledBlocking"?xL().\u0275providers:[]]}var nC=new M("");function BL(){return[{provide:nC,useFactory:FC},{provide:jr,multi:!0,useExisting:nC}]}var jC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$L=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$L(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new em;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HL=function(t){let e=jC(t);return BC.encodeByteArray(e,!0)},Qo=function(t){return HL(t).replace(/\./g,"")},nm=function(t){try{return BC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qL=()=>zL().__FIREBASE_DEFAULTS__,GL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&nm(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return qL()||GL()||WL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},im=t=>{var e,n;return(n=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$C=t=>{let e=im(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sm=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.config},om=t=>{var e;return(e=rm())===null||e===void 0?void 0:e[`_${t}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function HC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qo(JSON.stringify(n)),Qo(JSON.stringify(o)),a].join(".")}function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function qC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WC(){let t=Ae();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function am(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var KL="FirebaseError",pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}},Tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pt(i,a,r)}};function QL(t,e){return t.replace(YL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YL=/\{\$([^}]+)}/g;function QC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(UC(s)&&UC(o)){if(!zr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function UC(t){return t!==null&&typeof t=="object"}function Yo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function us(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ls(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YC(t,e){let n=new tm(t,e);return n.subscribe.bind(n)}var tm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}var P5=4*60*60*1e3;function Re(t){return t&&t._delegate?t._delegate:t}var Dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qr="[DEFAULT]";var cm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XL(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZL(t){return t===qr?void 0:t}function XL(t){return t.instantiationMode==="EAGER"}var hl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eV=[],W=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(W||{}),tV={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},nV=W.INFO,rV={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},iV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=nV,this._logHandler=iV,this._userLogHandler=null,eV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var sV=(t,e)=>e.some(n=>t instanceof n),JC,ZC;function oV(){return JC||(JC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XC=new WeakMap,lm=new WeakMap,eb=new WeakMap,um=new WeakMap,hm=new WeakMap;function cV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XC.set(n,t)}).catch(()=>{}),hm.set(e,t),e}function uV(t){if(lm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lm.set(t,e)}var dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tb(t){dm=t(dm)}function lV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(fl(this),e,...n);return eb.set(r,e.sort?e.sort():[e]),Zt(r)}:aV().includes(t)?function(...e){return t.apply(fl(this),e),Zt(XC.get(this))}:function(...e){return Zt(t.apply(fl(this),e))}}function dV(t){return typeof t=="function"?lV(t):(t instanceof IDBTransaction&&uV(t),sV(t,oV())?new Proxy(t,dm):t)}function Zt(t){if(t instanceof IDBRequest)return cV(t);if(um.has(t))return um.get(t);let e=dV(t);return e!==t&&(um.set(t,e),hm.set(e,t)),e}var fl=t=>hm.get(t);function rb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zt(o.result),c.oldVersion,c.newVersion,Zt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var hV=["get","getKey","getAll","getAllKeys","count"],fV=["put","add","delete","clear"],fm=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hV.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return fm.set(e,s),s}tb(t=>ue(D({},t),{get:(e,n,r)=>nb(e,n)||t.get(e,n,r),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));var gm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pV(t){let e=t.getComponent();return e?.type==="VERSION"}var mm="@firebase/app",ib="0.9.25";var Gr=new rr("@firebase/app"),gV="@firebase/app-compat",mV="@firebase/analytics-compat",yV="@firebase/analytics",vV="@firebase/app-check-compat",_V="@firebase/app-check",wV="@firebase/auth",IV="@firebase/auth-compat",EV="@firebase/database",TV="@firebase/database-compat",DV="@firebase/functions",CV="@firebase/functions-compat",bV="@firebase/installations",SV="@firebase/installations-compat",AV="@firebase/messaging",RV="@firebase/messaging-compat",xV="@firebase/performance",MV="@firebase/performance-compat",NV="@firebase/remote-config",PV="@firebase/remote-config-compat",OV="@firebase/storage",kV="@firebase/storage-compat",FV="@firebase/firestore",LV="@firebase/firestore-compat",VV="firebase",UV="10.7.1";var ym="[DEFAULT]",jV={[mm]:"fire-core",[gV]:"fire-core-compat",[yV]:"fire-analytics",[mV]:"fire-analytics-compat",[_V]:"fire-app-check",[vV]:"fire-app-check-compat",[wV]:"fire-auth",[IV]:"fire-auth-compat",[EV]:"fire-rtdb",[TV]:"fire-rtdb-compat",[DV]:"fire-fn",[CV]:"fire-fn-compat",[bV]:"fire-iid",[SV]:"fire-iid-compat",[AV]:"fire-fcm",[RV]:"fire-fcm-compat",[xV]:"fire-perf",[MV]:"fire-perf-compat",[NV]:"fire-rc",[PV]:"fire-rc-compat",[OV]:"fire-gcs",[kV]:"fire-gcs-compat",[FV]:"fire-fst",[LV]:"fire-fst-compat","fire-js":"fire-js",[VV]:"fire-js-all"};var Jo=new Map,vm=new Map;function BV(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){let e=t.name;if(vm.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(let n of Jo.values())BV(n,t);return!0}function Xo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ir=new Tn("app","Firebase",$V);var _m=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}};var or=UV;function Em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(n||(n=sm()),!n)throw ir.create("no-options");let s=Jo.get(i);if(s){if(zr(n,s.options)&&zr(r,s.config))return s;throw ir.create("duplicate-app",{appName:i})}let o=new hl(i);for(let c of vm.values())o.addComponent(c);let a=new _m(n,r,o);return Jo.set(i,a),a}function ds(t=ym){let e=Jo.get(t);if(!e&&t===ym&&sm())return Em();if(!e)throw ir.create("no-app",{appName:t});return e}function pl(){return Array.from(Jo.values())}function be(t,e,n){var r;let i=(r=jV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}sr(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HV="firebase-heartbeat-database",zV=1,Zo="firebase-heartbeat-store",pm=null;function cb(){return pm||(pm=rb(HV,zV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zo)}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),pm}function qV(t){return p(this,null,function*(){try{return yield(yield cb()).transaction(Zo).objectStore(Zo).get(ub(t))}catch(e){if(e instanceof pt)Gr.warn(e.message);else{let n=ir.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}})}function sb(t,e){return p(this,null,function*(){try{let r=(yield cb()).transaction(Zo,"readwrite");yield r.objectStore(Zo).put(e,ub(t)),yield r.done}catch(n){if(n instanceof pt)Gr.warn(n.message);else{let r=ir.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(r.message)}}})}function ub(t){return`${t.name}!${t.options.appId}`}var GV=1024,WV=30*24*60*60*1e3,wm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Im(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ob();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=WV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ob(),{heartbeatsToSend:r,unsentEntries:i}=KV(this._heartbeatsCache.heartbeats),s=Qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ob(){return new Date().toISOString().substring(0,10)}function KV(t,e=GV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ab(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Im=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return am()?KC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ab(t){return Qo(JSON.stringify({version:2,heartbeats:t})).length}function QV(t){sr(new Dt("platform-logger",e=>new gm(e),"PRIVATE")),sr(new Dt("heartbeat",e=>new wm(e),"PRIVATE")),be(mm,ib,t),be(mm,ib,"esm2017"),be("fire-js","")}QV("");var YV="firebase",JV="10.7.1";be(YV,JV,"app");var Kr=new zn("ANGULARFIRE2_VERSION");function ml(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ea=(t,e)=>{let n=e?[e]:pl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},fs=class{constructor(){return ea(ZV)}},ZV="app-check";function hs(){}var gl=class{zone;delegate;constructor(e,n=_h){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Tm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs)),n.pipe(fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ps=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=n.run(()=>new gl(Zone.current,Hs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(J))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function XV(t){return yl().ngZone.runOutsideAngular(()=>t())}function Wr(t){return yl().ngZone.run(()=>t())}function eU(t){return tU(yl())(t)}function tU(t){return function(n){return n=n.lift(new Tm(t.ngZone)),n.pipe(Fn(t.outsideAngular),kn(t.insideAngular))}}var nU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Wr(()=>t.apply(void 0,r))},qe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Wr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs))),r[s]=nU(r[s],n));let i=XV(()=>t.apply(this,r));if(!e)if(i instanceof Q){let s=yl();return i.pipe(Fn(s.outsideAngular),kn(s.insideAngular))}else return Wr(()=>i);return i instanceof Q?i.pipe(eU):i instanceof Promise?Wr(()=>new Promise((s,o)=>i.then(a=>Wr(()=>s(a)),a=>Wr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Wr(()=>i)};var Dn=class{constructor(e){return e}},Qr=class{constructor(){return pl()}};function rU(t){return t&&t.length===1?t[0]:new Dn(ds())}var Dm=new M("angularfire2._apps"),iU={provide:Dn,useFactory:rU,deps:[[new ze,Dm]]},sU={provide:Qr,deps:[[new ze,Dm]]};function oU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Dn(r)}}var aU=(()=>{class t{constructor(n){be("angularfire",Kr.full,"core"),be("angularfire",Kr.full,"app"),be("angular",fD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(Ft))};static \u0275mod=It({type:t});static \u0275inj=wt({providers:[iU,sU]})}return t})();function m8(t,...e){return{ngModule:aU,providers:[{provide:Dm,useFactory:oU(t),multi:!0,deps:[J,ke,ps,...e]}]}}var y8=qe(Em,!0);function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bb=Cb,Sb=new Tn("auth","Firebase",Cb());var Tl=new rr("@firebase/auth");function cU(t,...e){Tl.logLevel<=W.WARN&&Tl.warn(`Auth (${or}): ${t}`,...e)}function _l(t,...e){Tl.logLevel<=W.ERROR&&Tl.error(`Auth (${or}): ${t}`,...e)}function en(t,...e){throw Wm(t,...e)}function Yr(t,...e){return Wm(t,...e)}function uU(t,e,n){let r=Object.assign(Object.assign({},bb()),{[e]:n});return new Tn("auth","Firebase",r).create(e,{appName:t.name})}function Wm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sb.create(t,...e)}function k(t,e,...n){if(!t)throw Wm(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _l(e),new Error(e)}function cr(t,e){t||Cn(e)}function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lU(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||qC()||"connection"in navigator)?navigator.onLine:!0}function hU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=zC()||GC()}get(){return dU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Km(t,e){cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pU=new Jr(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lr(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return Ab(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Yo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Dl.fetch()(Rb(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function Ab(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},fU),e);try{let i=new Rm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw vl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw vl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uU(t,l,u);en(t,l)}}catch(i){if(i instanceof pt)throw i;en(t,"network-request-failed",{message:String(i)})}})}function aa(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield lr(t,e,n,r,i);return"mfaPendingCredential"in u&&en(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Rb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Km(t.config,i):`${t.config.apiScheme}://${i}`}function gU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Rm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),pU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yr(t,e,r);return i.customData._tokenResponse=n,i}function db(t){return t!==void 0&&t.enterprise!==void 0}var xm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function mU(t,e){return p(this,null,function*(){return lr(t,"GET","/v2/recaptchaConfig",ur(t,e))})}function yU(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:delete",e)})}function vU(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:lookup",e)})}function ta(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qm(t,e=!1){return p(this,null,function*(){let n=Re(t),r=yield n.getIdToken(e),i=Ym(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ta(Cm(i.auth_time)),issuedAtTime:ta(Cm(i.iat)),expirationTime:ta(Cm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cm(t){return Number(t)*1e3}function Ym(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _l("JWT malformed, contained fewer than 3 sections"),null;try{let i=nm(n);return i?JSON.parse(i):(_l("Failed to decode base64 JWT payload"),null)}catch(i){return _l("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _U(t){let e=Ym(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function na(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof pt&&wU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function wU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Cl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield na(t,vU(n,{idToken:r}));k(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EU(s.providerUserInfo):[],a=IU(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Jm(t){return p(this,null,function*(){let e=Re(t);yield bl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function IU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EU(t){return t.map(e=>{var{providerId:n}=e,r=yh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TU(t,e){return p(this,null,function*(){let n=yield Ab(t,{},()=>p(this,null,function*(){let r=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Rb(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DU(t,e){return p(this,null,function*(){return lr(t,"POST","/v2/accounts:revokeToken",ur(t,e))})}var Sl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_U(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return k(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield TU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(k(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function ar(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ra=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield na(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qm(this,e)}reload(){return Jm(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield na(this,yU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,O=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Z,emailVerified:re,isAnonymous:ye,providerData:ie,stsTokenManager:st}=n;k(Z&&st,e,"internal-error");let Nn=Sl.fromJSON(this.name,st);k(typeof Z=="string",e,"internal-error"),ar(d,e.name),ar(h,e.name),k(typeof re=="boolean",e,"internal-error"),k(typeof ye=="boolean",e,"internal-error"),ar(f,e.name),ar(g,e.name),ar(y,e.name),ar(v,e.name),ar(E,e.name),ar(O,e.name);let wr=new t({uid:Z,auth:e,email:h,emailVerified:re,displayName:d,isAnonymous:ye,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Nn,createdAt:E,lastLoginAt:O});return ie&&Array.isArray(ie)&&(wr.providerData=ie.map(nc=>Object.assign({},nc))),v&&(wr._redirectEventId=v),wr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Sl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bl(s),s})}};var hb=new Map;function bn(t){cr(t instanceof Function,"Expected a class definition");let e=hb.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hb.set(t,e),e)}var CU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Nm=CU;function wl(t,e,n){return`firebase:${t}:${e}:${n}`}var Al=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=wl(this.userKey,i.apiKey,s),this.fullPersistenceKey=wl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(bn(Nm),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||bn(Nm),o=wl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=ra._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function fb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ob(e))return"Blackberry";if(kb(e))return"Webos";if(Zm(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Pb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xb(t=Ae()){return/firefox\//i.test(t)}function Zm(t=Ae()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(t=Ae()){return/crios\//i.test(t)}function Nb(t=Ae()){return/iemobile/i.test(t)}function Pb(t=Ae()){return/android/i.test(t)}function Ob(t=Ae()){return/blackberry/i.test(t)}function kb(t=Ae()){return/webos/i.test(t)}function Fl(t=Ae()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bU(t=Ae()){var e;return Fl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SU(){return WC()&&document.documentMode===10}function Fb(t=Ae()){return Fl(t)||Pb(t)||kb(t)||Ob(t)||/windows phone/i.test(t)||Nb(t)}function AU(){try{return!!(window&&window!==window.top)}catch{return!1}}function Lb(t,e=[]){let n;switch(t){case"Browser":n=fb(Ae());break;case"Worker":n=`${fb(Ae())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${r}`}var Pm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RU(n){return p(this,arguments,function*(t,e={}){return lr(t,"GET","/v2/passwordPolicy",ur(t,e))})}var xU=6,Om=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var km=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rl(this),this.idTokenSubscription=new Rl(this),this.beforeStateQueue=new Pm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Al.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield bl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hU()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Re(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield RU(this),n=new Om(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&bn(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield Al.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&cU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xr(t){return Re(t)}var Rl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function MU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Vb(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MU().appendChild(r)})}function Ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var NU="https://www.google.com/recaptcha/enterprise.js?render=",PU="recaptcha-enterprise",OU="NO_RECAPTCHA",Fm=class{constructor(e){this.type=PU,this.auth=Xr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(s){return p(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>p(this,null,function*(){mU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new xm(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;db(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(OU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&db(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Vb(NU+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function pb(t,e,n,r=!1){return p(this,null,function*(){let i=new Fm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Lm(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield pb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>p(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield pb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Xm(t,e){let n=Xo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(zr(s,e??{}))return i;en(i,"already-initialized")}return n.initialize({options:e})}function kU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ey(t,e,n){let r=Xr(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=jb(e),{host:o,port:a}=FU(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LU()}function jb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FU(t){let e=jb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:gb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:gb(o)}}}function gb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function LU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ia=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function VU(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:signUp",e)})}function UU(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))})}function jU(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}function BU(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}var sa=class t extends ia{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,n,"signInWithPassword",UU);case"emailLink":return jU(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,r,"signUpPassword",VU);case"emailLink":return BU(e,{idToken:n,email:this._email,oobCode:this._password});default:en(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bm(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))})}function $U(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HU(t){let e=us(ls(t)).link,n=e?us(ls(e)).deep_link_id:null,r=us(ls(t)).deep_link_id;return(r?us(ls(r)).link:null)||r||n||e||t}var xl=class t{constructor(e){var n,r,i,s,o,a;let c=us(ls(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=$U((i=c.mode)!==null&&i!==void 0?i:null);k(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=HU(e);try{return new t(n)}catch{return null}}};var Bb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xl.parseLink(r);return k(i,"argument-error"),sa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ml=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vm=class extends Ml{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function zU(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signUp",ur(t,e))})}var gs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield ra._fromIdTokenResponse(e,r,i),o=mb(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function mb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Um=class t extends pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function $b(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,s,e,r):s})}function qU(t,e,n=!1){return p(this,null,function*(){let r=yield na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return gs._forOperation(t,"link",r)})}function GU(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield na(t,$b(r,i,e,t),n);k(s.idToken,r,"internal-error");let o=Ym(s.idToken);k(o,r,"internal-error");let{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),gs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&en(r,"user-mismatch"),s}})}function Hb(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield $b(t,r,e),s=yield gs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ty(t,e){return p(this,null,function*(){return Hb(Xr(t),e)})}function zb(t){return p(this,null,function*(){let e=Xr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function qb(t,e,n){return p(this,null,function*(){let r=Xr(t),o=yield Lm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&zb(t),c}),a=yield gs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ny(t,e,n){return ty(Re(t),Bb.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zb(t),r}))}function ry(t,e,n,r){return Re(t).onIdTokenChanged(e,n,r)}function iy(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}var Nl="__sak";var Pl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function WU(){let t=Ae();return Zm(t)||Fl(t)}var KU=1e3,QU=10,YU=(()=>{class t extends Pl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WU()&&AU(),this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);SU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,QU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Pn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Pn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Pn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Gb=YU;var JU=(()=>{class t extends Pl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sy=JU;function ZU(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var XU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield ZU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Wb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Wb("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Xt(){return window}function ej(t){Xt().location.href=t}function Kb(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}function tj(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rj(){return Kb()?self:null}var Qb="firebaseLocalStorageDb",ij=1,Ol="firebaseLocalStorage",Yb="fbase_key",Zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ll(t,e){return t.transaction([Ol],e?"readwrite":"readonly").objectStore(Ol)}function sj(){let t=indexedDB.deleteDatabase(Qb);return new Zr(t).toPromise()}function Bm(){let t=indexedDB.open(Qb,ij);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ol,{keyPath:Yb})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ol)?e(r):(r.close(),yield sj(),e(yield Bm()))}))})}function yb(t,e,n){return p(this,null,function*(){let r=Ll(t,!0).put({[Yb]:e,value:n});return new Zr(r).toPromise()})}function oj(t,e){return p(this,null,function*(){let n=Ll(t,!1).get(e),r=yield new Zr(n).toPromise();return r===void 0?null:r.value})}function vb(t,e){let n=Ll(t,!0).delete(e);return new Zr(n).toPromise()}var aj=800,cj=3,uj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Bm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>cj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return Kb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=XU._getInstance(rj()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tj(),!this.activeServiceWorker)return;this.sender=new jm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bm();return yield yb(n,Nl,"1"),yield vb(n,Nl),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>yb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>oj(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>vb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ll(s,!1).getAll();return new Zr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Jb=uj;var C8=Ub("rcb"),b8=new Jr(3e4,6e4);function lj(t,e){return e?bn(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oa=class extends ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dj(t){return Hb(t.auth,new oa(t),t.bypassAuthState)}function hj(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),GU(n,new oa(t),t.bypassAuthState)}function fj(t){return p(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),qU(n,new oa(t),t.bypassAuthState)})}var $m=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dj;case"linkViaPopup":case"linkViaRedirect":return fj;case"reauthViaPopup":case"reauthViaRedirect":return hj;default:en(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var S8=new Jr(2e3,1e4);var pj="pendingRedirect",Il=new Map,Hm=class t extends $m{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Il.get(this.auth._key());if(!e){try{let r=(yield gj(this.resolver,this.auth))?yield Pn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Il.set(this.auth._key(),e)}return this.bypassAuthState||Il.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Pn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Pn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function gj(t,e){return p(this,null,function*(){let n=vj(e),r=yj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mj(t,e){Il.set(t._key(),e)}function yj(t){return bn(t._redirectPersistence)}function vj(t){return wl(pj,t.config.apiKey,t.name)}function _j(t,e,n=!1){return p(this,null,function*(){let r=Xr(t),i=lj(r,e),o=yield new Hm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wj=10*60*1e3,zm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Zb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}};function _b(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Zb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(t);default:return!1}}function Ej(n){return p(this,arguments,function*(t,e={}){return lr(t,"GET","/v1/projects",e)})}var Tj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;function Cj(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Ej(t);for(let n of e)try{if(bj(n))return}catch{}en(t,"unauthorized-domain")})}function bj(t){let e=Am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dj.test(n))return!1;if(Tj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Sj=new Jr(3e4,6e4);function wb(){let t=Xt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Aj(t){return new Promise((e,n)=>{var r,i,s;function o(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),n(Yr(t,"network-request-failed"))},timeout:Sj.get()})}if(!((i=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xt().gapi)===null||s===void 0)&&s.load)o();else{let a=Ub("iframefcb");return Xt()[a]=()=>{gapi.load?o():n(Yr(t,"network-request-failed"))},Vb(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw El=null,e})}var El=null;function Rj(t){return El=El||Aj(t),El}var xj=new Jr(5e3,15e3),Mj="__/auth/iframe",Nj="emulator/auth/iframe",Pj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kj(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Km(e,Nj):`https://${t.config.authDomain}/${Mj}`,r={apiKey:e.apiKey,appName:t.name,v:or},i=Oj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yo(r).slice(1)}`}function Fj(t){return p(this,null,function*(){let e=yield Rj(t),n=Xt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:kj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pj,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Yr(t,"network-request-failed"),a=Xt().setTimeout(()=>{s(o)},xj.get());function c(){Xt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Lj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vj=500,Uj=600,jj="_blank",Bj="http://localhost",kl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $j(t,e,n,r=Vj,i=Uj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Lj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ae().toLowerCase();n&&(a=Mb(u)?jj:n),xb(u)&&(e=e||Bj,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(bU(u)&&a!=="_self")return Hj(e||"",a),new kl(null);let d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new kl(d)}function Hj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zj="__/auth/handler",qj="emulator/auth/handler",Gj=encodeURIComponent("fac");function Ib(t,e,n,r,i,s){return p(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:or,eventId:i};if(e instanceof Ml){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Vm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${Gj}=${encodeURIComponent(c)}`:"";return`${Wj(t)}?${Yo(a).slice(1)}${u}`})}function Wj({config:t}){return t.emulator?Km(t,qj):`https://${t.authDomain}/${zj}`}var Sm="webStorageSupport",qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sy,this._completeRedirectFn=_j,this._overrideRedirectResult=mj}_openPopup(e,n,r,i){return p(this,null,function*(){var s;cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ib(e,n,r,Am(),i);return $j(e,o,Wb())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield Ib(e,n,r,Am(),i);return ej(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield Fj(e),r=new zm(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Sm];o!==void 0&&n(!!o),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Zm()||Fl()}},Xb=qm;var Eb="@firebase/auth",Tb="1.5.1";var Gm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Kj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Qj(t){sr(new Dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(t)},u=new km(r,i,s,c);return kU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new Dt("auth-internal",e=>{let n=Xr(e.getProvider("auth").getImmediate());return(r=>new Gm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),be(Eb,Tb,Kj(t)),be(Eb,Tb,"esm2017")}var Yj=5*60,Jj=om("authIdTokenMaxAge")||Yj,Db=null,Zj=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jj)return;let i=n?.token;Db!==i&&(Db=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function oy(t=ds()){let e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Xm(t,{popupRedirectResolver:Xb,persistence:[Jb,Gb,sy]}),r=om("authTokenSyncURL");if(r){let s=Zj(r);iy(n,s,()=>s(n.currentUser)),ry(n,o=>s(o))}let i=im("auth");return i&&ey(n,`http://${i}`),n}Qj("Browser");var e0="auth",ca=class{constructor(e){return e}},ua=class{constructor(){return ea(e0)}};var ay=new M("angularfire2.auth-instances");function H2(t,e){let n=ml(e0,t,e);return n&&new ca(n)}function z2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ca(r)}}var q2={provide:ua,deps:[[new ze,ay]]},G2={provide:ca,useFactory:H2,deps:[[new ze,ay],Dn]},W2=(()=>{class t{constructor(){be("angularfire",Kr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=It({type:t});static \u0275inj=wt({providers:[G2,q2]})}return t})();function lK(t,...e){return{ngModule:W2,providers:[{provide:ay,useFactory:z2(t),multi:!0,deps:[J,ke,ps,Qr,[new ze,fs],...e]}]}}var dK=qe(oy,!0);var hK=qe(ny,!0);var K2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vt={},I,Ry=Ry||{},F=K2||self;function Jl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ta(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Q2(t){return Object.prototype.hasOwnProperty.call(t,cy)&&t[cy]||(t[cy]=++Y2)}var cy="closure_uid_"+(1e9*Math.random()>>>0),Y2=0;function J2(t,e,n){return t.call.apply(t.bind,arguments)}function Z2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=J2:Ge=Z2,Ge.apply(null,arguments)}function Vl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Me(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function dr(){this.s=this.s,this.o=this.o}var X2=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),X2!=0)&&Q2(this)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var f0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function t0(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Jl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function We(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var eB=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function ga(t){return/^[\s\xa0]*$/.test(t)}function Zl(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function tn(t){return Zl().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=function(){};function tB(t,e){var n=HB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nB=tn("Opera"),_s=tn("Trident")||tn("MSIE"),p0=tn("Edge"),fy=p0||_s,g0=tn("Gecko")&&!(Zl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),rB=Zl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge");function m0(){var t=F.document;return t?t.documentMode:void 0}var py;e:{if(Ul="",jl=function(){var t=Zl();if(g0)return/rv:([^\);]+)(\)|;)/.exec(t);if(p0)return/Edge\/([\d\.]+)/.exec(t);if(_s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rB)return/WebKit\/(\S+)/.exec(t);if(nB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),jl&&(Ul=jl?jl[1]:""),_s&&(Bl=m0(),Bl!=null&&Bl>parseFloat(Ul))){py=String(Bl);break e}py=Ul}var Ul,jl,Bl,gy;F.document&&_s?(uy=m0(),gy=uy||parseInt(py,10)||void 0):gy=void 0;var uy,iB=gy;function ma(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(g0){e:{try{My(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ma.$.h.call(this)}}Me(ma,We);var sB={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Da="closure_listenable_"+(1e6*Math.random()|0),oB=0;function aB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oB,this.fa=this.ia=!1}function Xl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ny(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function cB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function y0(t){let e={};for(let n in t)e[n]=t[n];return e}var n0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<n0.length;s++)n=n0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ed(t){this.src=t,this.g={},this.h=0}ed.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=yy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new aB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function my(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=f0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Py="closure_lm_"+(1e6*Math.random()|0),ly={};function _0(t,e,n,r,i){if(r&&r.once)return I0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_0(t,e[s],n,r,i);return null}return n=Fy(n),t&&t[Da]?t.O(e,n,Ta(r)?!!r.capture:!!r,i):w0(t,e,n,!1,r,i)}function w0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ta(i)?!!i.capture:!!i,a=ky(t);if(a||(t[Py]=a=new ed(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(T0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uB(){function t(n){return e.call(t.src,t.listener,n)}let e=lB;return t}function I0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I0(t,e[s],n,r,i);return null}return n=Fy(n),t&&t[Da]?t.P(e,n,Ta(r)?!!r.capture:!!r,i):w0(t,e,n,!0,r,i)}function E0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)E0(t,e[s],n,r,i);else r=Ta(r)?!!r.capture:!!r,n=Fy(n),t&&t[Da]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=yy(s,n,r,i),-1<n&&(Xl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ky(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yy(e,n,r,i)),(n=-1<t?e[t]:null)&&Oy(n))}function Oy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Da])my(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(T0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ky(e))?(my(n,t),n.h==0&&(n.src=null,e[Py]=null)):Xl(t)}}}function T0(t){return t in ly?ly[t]:ly[t]="on"+t}function lB(t,e){if(t.fa)t=!0;else{e=new ma(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Oy(t),t=n.call(r,e)}return t}function ky(t){return t=t[Py],t instanceof ed?t:null}var dy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(t){return typeof t=="function"?t:(t[dy]||(t[dy]=function(e){return t.handleEvent(e)}),t[dy])}function xe(){dr.call(this),this.i=new ed(this),this.S=this,this.J=null}Me(xe,dr);xe.prototype[Da]=!0;xe.prototype.removeEventListener=function(t,e,n,r){E0(this,t,e,n,r)};function Ve(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new We(e,t);else if(e instanceof We)e.target=e.target||t;else{var i=e;e=new We(r,t),v0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=$l(o,r,!0,e)&&i}if(o=e.g=t,i=$l(o,r,!0,e)&&i,i=$l(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=$l(o,r,!1,e)&&i}xe.prototype.N=function(){if(xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xl(n[r]);delete t.g[e],t.h--}}this.J=null};xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $l(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&my(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ly=F.JSON.stringify,vy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function dB(){var t=Vy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _y=class{constructor(){this.h=this.g=null}add(e,n){let r=D0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},D0=new vy(()=>new wy,t=>t.reset()),wy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function hB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fB(t){F.setTimeout(()=>{throw t},0)}var ya,va=!1,Vy=new _y,C0=()=>{let t=F.Promise.resolve(void 0);ya=()=>{t.then(pB)}},pB=()=>{for(var t;t=dB();){try{t.h.call(t.g)}catch(n){fB(n)}var e=D0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}va=!1};function td(t,e){xe.call(this),this.h=t||1,this.g=e||F,this.j=Ge(this.qb,this),this.l=Date.now()}Me(td,xe);I=td.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ve(this,"tick"),this.ga&&(Uy(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){td.$.N.call(this),Uy(this),delete this.g};function jy(t,e,n){if(typeof t=="function")n&&(t=Ge(t,n));else if(t&&typeof t.handleEvent=="function")t=Ge(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function b0(t){t.g=jy(()=>{t.g=null,t.i&&(t.i=!1,b0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Iy=class extends dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b0(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function _a(t){dr.call(this),this.h=t,this.g={}}Me(_a,dr);var r0=[];function S0(t,e,n,r){Array.isArray(n)||(n&&(r0[0]=n.toString()),n=r0);for(var i=0;i<n.length;i++){var s=_0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function A0(t){Ny(t.g,function(e,n){this.g.hasOwnProperty(n)&&Oy(e)},t),t.g={}}_a.prototype.N=function(){_a.$.N.call(this),A0(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nd(){this.g=!0}nd.prototype.Ea=function(){this.g=!1};function gB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function mB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ys(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vB(t,n)+(r?" "+r:"")})}function yB(t,e){t.info(function(){return"TIMEOUT: "+e})}nd.prototype.info=function(){};function vB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ly(n)}catch{return e}}var ri={},i0=null;function rd(){return i0=i0||new xe}ri.Ta="serverreachability";function R0(t){We.call(this,ri.Ta,t)}Me(R0,We);function wa(t){let e=rd();Ve(e,new R0(e))}ri.STAT_EVENT="statevent";function x0(t,e){We.call(this,ri.STAT_EVENT,t),this.stat=e}Me(x0,We);function Ze(t){let e=rd();Ve(e,new x0(e,t))}ri.Ua="timingevent";function M0(t,e){We.call(this,ri.Ua,t),this.size=e}Me(M0,We);function Ca(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var id={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function By(){}By.prototype.h=null;function s0(t){return t.h||(t.h=t.i())}function P0(){}var ba={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $y(){We.call(this,"d")}Me($y,We);function Hy(){We.call(this,"c")}Me(Hy,We);var Ey;function sd(){}Me(sd,By);sd.prototype.g=function(){return new XMLHttpRequest};sd.prototype.i=function(){return{}};Ey=new sd;function Sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _a(this),this.P=_B,t=fy?125:void 0,this.V=new td(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new O0}function O0(){this.i=null,this.g="",this.h=!1}var _B=45e3,k0={},Ty={};I=Sa.prototype;I.setTimeout=function(t){this.P=t};function Dy(t,e,n){t.L=1,t.A=ad(An(e)),t.u=n,t.S=!0,F0(t,null)}function F0(t,e){t.G=Date.now(),Aa(t),t.B=An(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),z0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new O0,t.g=dS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Iy(Ge(t.Pa,t,t.g),t.O)),S0(t.U,t.g,"readystatechange",t.nb),e=t.I?y0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),wa(),gB(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&nn(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let l=nn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||fy||this.g&&(this.h.h||this.g.ja()||u0(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?wa(3):wa(2)),od(this);var n=this.g.da();this.ca=n;t:if(L0(this)){var r=u0(this.g);t="";var i=r.length,s=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),pa(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,mB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(a)){var u=a;break t}}u=null}if(n=u)ys(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cy(this,n);else{this.i=!1,this.s=3,Ze(12),ei(this),pa(this);break e}}this.S?(V0(this,l,o),fy&&this.i&&l==3&&(S0(this.U,this.V,"tick",this.mb),this.V.start())):(ys(this.j,this.m,o,null),Cy(this,o)),l==4&&ei(this),this.i&&!this.J&&(l==4?aS(this.l,this):(this.i=!1,Aa(this)))}else jB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),ei(this),pa(this)}}}catch{}finally{}};function L0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function V0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=wB(t,n),i==Ty){e==4&&(t.s=4,Ze(14),r=!1),ys(t.j,t.m,null,"[Incomplete Response]");break}else if(i==k0){t.s=4,Ze(15),ys(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ys(t.j,t.m,i,null),Cy(t,i);L0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ze(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qy(e),e.M=!0,Ze(11))):(ys(t.j,t.m,n,"[Invalid Chunked Response]"),ei(t),pa(t))}I.mb=function(){if(this.g){var t=nn(this.g),e=this.g.ja();this.o<e.length&&(od(this),V0(this,t,e),this.i&&t!=4&&Aa(this))}};function wB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ty:(n=Number(e.substring(n,r)),isNaN(n)?k0:(r+=1,r+n>e.length?Ty:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,ei(this)};function Aa(t){t.Y=Date.now()+t.P,U0(t,t.P)}function U0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ca(Ge(t.lb,t),e)}function od(t){t.C&&(F.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(yB(this.j,this.B),this.L!=2&&(wa(),Ze(17)),ei(this),this.s=2,pa(this)):U0(this,this.Y-t)};function pa(t){t.l.H==0||t.J||aS(t.l,t)}function ei(t){od(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uy(t.V),A0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||by(n.i,t))){if(!t.K&&by(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wl(n),ld(n);else break e;Ky(n),Ze(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ca(Ge(n.ib,n),6e3));if(1>=W0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ti(n,11)}else if((t.K||n.g==t)&&Wl(n),!ga(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(zy(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ce(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lS(r,r.J?r.pa:null,r.Y),o.K){K0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(od(a),Aa(a)),r.g=o}else sS(r);0<n.j.length&&dd(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):Wy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wa(4)}catch{}}function IB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Jl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function EB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function j0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Jl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EB(t),r=IB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ni(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ni){this.h=t.h,ql(this,t.j),this.s=t.s,this.g=t.g,Gl(this,t.m),this.l=t.l;var e=t.i,n=new Ia;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),o0(this,n),this.o=t.o}else t&&(e=String(t).match(B0))?(this.h=!1,ql(this,e[1]||"",!0),this.s=ha(e[2]||""),this.g=ha(e[3]||"",!0),Gl(this,e[4]),this.l=ha(e[5]||"",!0),o0(this,e[6]||"",!0),this.o=ha(e[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fa(e,a0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fa(e,a0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fa(n,n.charAt(0)=="/"?bB:CB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fa(n,AB)),t.join("")};function An(t){return new ni(t)}function ql(t,e,n){t.j=n?ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function o0(t,e,n){e instanceof Ia?(t.i=e,RB(t.i,t.h)):(n||(e=fa(e,SB)),t.i=new Ia(e,t.h))}function ce(t,e,n){t.i.set(e,n)}function ad(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a0=/[#\/\?@]/g,CB=/[#\?:]/g,bB=/[#\?]/g,SB=/[#\?@]/g,AB=/#/g;function Ia(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hr(t){t.g||(t.g=new Map,t.h=0,t.i&&TB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Ia.prototype;I.add=function(t,e){hr(this),this.i=null,t=ws(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $0(t,e){hr(t),e=ws(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function H0(t,e){return hr(t),e=ws(t,e),t.g.has(e)}I.forEach=function(t,e){hr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){hr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){hr(this);let e=[];if(typeof t=="string")H0(this,t)&&(e=e.concat(this.g.get(ws(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return hr(this),this.i=null,t=ws(this,t),H0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function z0(t,e,n){$0(t,e),0<n.length&&(t.i=null,t.g.set(ws(t,e),xy(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ws(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RB(t,e){e&&!t.j&&(hr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($0(this,r),z0(this,i,n))},t)),t.j=e}var xB=class{constructor(t,e){this.g=t,this.map=e}};function q0(t){this.l=t||MB,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MB=10;function G0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function W0(t){return t.h?1:t.g?t.g.size:0}function by(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zy(t,e){t.g?t.g.add(e):t.h=e}function K0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}q0.prototype.cancel=function(){if(this.i=Q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Q0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return xy(t.i)}var NB=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function PB(){this.g=new NB}function OB(t,e,n){let r=n||"";try{j0(t,function(i,s){let o=i;Ta(i)&&(o=Ly(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kB(t,e){let n=new nd;if(F.Image){let r=new Image;r.onload=Vl(Hl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vl(Hl,n,r,"TestLoadImage: error",!1,e),r.onabort=Vl(Hl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vl(Hl,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ra(t){this.l=t.ec||null,this.j=t.ob||!1}Me(Ra,By);Ra.prototype.g=function(){return new cd(this.l,this.j)};Ra.prototype.i=function(t){return function(){return t}}({});function cd(t,e){xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Me(cd,xe);var qy=0;I=cd.prototype;I.open=function(t,e){if(this.readyState!=qy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ea(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=qy};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Y0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xa(this):Ea(this),this.readyState==3&&Y0(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,xa(this))};I.Ya=function(t){this.g&&(this.response=t,xa(this))};I.ka=function(){this.g&&xa(this)};function xa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ea(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FB=F.JSON.parse;function pe(t){xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J0,this.L=this.M=!1}Me(pe,xe);var J0="",LB=/^https?$/i,VB=["POST","PUT"];I=pe.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=this.u?s0(this.u):s0(Ey),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){c0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=f0(VB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eS(this),0<this.B&&((this.L=UB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){c0(this,s)}};function UB(t){return _s&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof Ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))};function c0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Z0(t),ud(t)}function Z0(t){t.F||(t.F=!0,Ve(t,"complete"),Ve(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ve(this,"complete"),Ve(this,"abort"),ud(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ud(this,!0)),pe.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?X0(this):this.kb())};I.kb=function(){X0(this)};function X0(t){if(t.h&&typeof Ry<"u"&&(!t.C[1]||nn(t)!=4||t.da()!=2)){if(t.v&&nn(t)==4)jy(t.La,0,t);else if(Ve(t,"readystatechange"),nn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(B0)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!LB.test(i?i.toLowerCase():"")}n=r}if(n)Ve(t,"complete"),Ve(t,"success");else{t.m=6;try{var s=2<nn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Z0(t)}}finally{ud(t)}}}}function ud(t,e){if(t.g){eS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ve(t,"ready");try{n.onreadystatechange=r}catch{}}}function eS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function nn(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FB(e)}};function u0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case J0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jB(t){let e={};t=(t.g&&2<=nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ga(t[r]))continue;var n=hB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}cB(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tS(t){let e="";return Ny(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ce(t,e,n))}function la(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nS(t){this.Ga=0,this.j=[],this.l=new nd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=la("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=la("baseRetryDelayMs",5e3,t),this.hb=la("retryDelaySeedMs",1e4,t),this.eb=la("forwardChannelMaxRetries",2,t),this.xa=la("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new q0(t&&t.concurrentRequestLimit),this.Ja=new PB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=nS.prototype;I.ra=8;I.H=1;function Wy(t){if(rS(t),t.H==3){var e=t.W++,n=An(t.I);if(ce(n,"SID",t.K),ce(n,"RID",e),ce(n,"TYPE","terminate"),Ma(t,n),e=new Sa(t,t.l,e),e.L=2,e.A=ad(An(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=dS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Aa(e)}uS(t)}function ld(t){t.g&&(Qy(t),t.g.cancel(),t.g=null)}function rS(t){ld(t),t.u&&(F.clearTimeout(t.u),t.u=null),Wl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function dd(t){if(!G0(t.i)&&!t.m){t.m=!0;var e=t.Na;ya||C0(),va||(ya(),va=!0),Vy.add(e,t),t.C=0}}function BB(t,e){return W0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ca(Ge(t.Na,t,e),cS(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Sa(this,this.l,t),s=this.s;if(this.U&&(s?(s=y0(s),v0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=iS(this,i,e),n=An(this.I),ce(n,"RID",t),ce(n,"CVER",22),this.F&&ce(n,"X-HTTP-Session-Id",this.F),Ma(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tS(s)))+"&"+e:this.o&&Gy(n,this.o,s)),zy(this.i,i),this.bb&&ce(n,"TYPE","init"),this.P?(ce(n,"$req",e),ce(n,"SID","null"),i.aa=!0,Dy(i,n,null)):Dy(i,n,e),this.H=2}}else this.H==3&&(t?l0(this,t):this.j.length==0||G0(this.i)||l0(this))};function l0(t,e){var n;e?n=e.m:n=t.W++;let r=An(t.I);ce(r,"SID",t.K),ce(r,"RID",n),ce(r,"AID",t.V),Ma(t,r),t.o&&t.s&&Gy(r,t.o,t.s),n=new Sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=iS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zy(t.i,n),Dy(n,r,e)}function Ma(t,e){t.na&&Ny(t.na,function(n,r){ce(e,r,n)}),t.h&&j0({},function(n,r){ce(e,r,n)})}function iS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ge(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{OB(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ya||C0(),va||(ya(),va=!0),Vy.add(e,t),t.A=0}}function Ky(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ca(Ge(t.Ma,t),cS(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,oS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ca(Ge(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ze(10),ld(this),oS(this))};function Qy(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function oS(t){t.g=new Sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);ce(e,"RID","rpc"),ce(e,"SID",t.K),ce(e,"AID",t.V),ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ce(e,"TO",t.qa),ce(e,"TYPE","xmlhttp"),Ma(t,e),t.o&&t.s&&Gy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ad(An(e)),n.u=null,n.S=!0,F0(n,t)}I.ib=function(){this.v!=null&&(this.v=null,ld(this),Ky(this),Ze(19))};function Wl(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function aS(t,e){var n=null;if(t.g==e){Wl(t),Qy(t),t.g=null;var r=2}else if(by(t.i,e))n=e.F,K0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=rd(),Ve(r,new M0(r,n)),dd(t)}else sS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&BB(t,e)||r==2&&Ky(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ti(t,5);break;case 4:ti(t,10);break;case 3:ti(t,6);break;default:ti(t,2)}}}function cS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ti(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ge(t.pb,t);n||(n=new ni("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||ql(n,"https"),ad(n)),kB(n.toString(),r)}else Ze(2);t.H=0,t.h&&t.h.za(e),uS(t),rS(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ze(2)):(this.l.info("Failed to ping google.com"),Ze(1))};function uS(t){if(t.H=0,t.ma=[],t.h){let e=Q0(t.i);(e.length!=0||t.j.length!=0)&&(t0(t.ma,e),t0(t.ma,t.j),t.i.i.length=0,xy(t.j),t.j.length=0),t.h.ya()}}function lS(t,e,n){var r=n instanceof ni?An(n):new ni(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gl(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ni(null);r&&ql(s,r),e&&(s.g=e),i&&Gl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ce(r,n,e),ce(r,"VER",t.ra),Ma(t,r),r}function dS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pe(new Ra({ob:n})):new pe(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function hS(){}I=hS.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function Kl(){if(_s&&!(10<=Number(iB)))throw Error("Environmental error: no available transport.")}Kl.prototype.g=function(t,e){return new gt(t,e)};function gt(t,e){xe.call(this),this.g=new nS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ga(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ga(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Is(this)}Me(gt,xe);gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ze(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lS(t,null,t.Y),dd(t)};gt.prototype.close=function(){Wy(this.g)};gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ly(t),t=n);e.j.push(new xB(e.fb++,t)),e.H==3&&dd(e)};gt.prototype.N=function(){this.g.h=null,delete this.j,Wy(this.g),delete this.g,gt.$.N.call(this)};function fS(t){$y.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Me(fS,$y);function pS(){Hy.call(this),this.status=1}Me(pS,Hy);function Is(t){this.g=t}Me(Is,hS);Is.prototype.Ba=function(){Ve(this.g,"a")};Is.prototype.Aa=function(t){Ve(this.g,new fS(t))};Is.prototype.za=function(t){Ve(this.g,new pS)};Is.prototype.ya=function(){Ve(this.g,"b")};function $B(){this.blockSize=-1}function Lt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Me(Lt,$B);Lt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Lt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hy(this,r),i=0;break}}this.h=i,this.i+=e};Lt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var HB={};function Yy(t){return-128<=t&&128>t?tB(t,function(e){return new ne([e|0],0>e?-1:0)}):new ne([t|0],0>t?-1:0)}function rn(t){if(isNaN(t)||!isFinite(t))return vs;if(0>t)return Le(rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sy;return new ne(e,0)}function gS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Le(gS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rn(Math.pow(e,8)),r=vs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=rn(Math.pow(e,s)),r=r.R(s).add(rn(o))):(r=r.R(n),r=r.add(rn(o)))}return r}var Sy=4294967296,vs=Yy(0),Ay=Yy(1),d0=Yy(16777216);I=ne.prototype;I.ea=function(){if(Ct(this))return-Le(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sy+r)*e,e*=Sy}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(Ct(this))return"-"+Le(this).toString(t);for(var e=rn(Math.pow(t,6)),n=this,r="";;){var i=Yl(n,e).g;n=Ql(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ct(t){return t.h==-1}I.X=function(t){return t=Ql(this,t),Ct(t)?-1:Sn(t)?0:1};function Le(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ne(n,~t.h).add(Ay)}I.abs=function(){return Ct(this)?Le(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ne(n,n[n.length-1]&-2147483648?-1:0)};function Ql(t,e){return t.add(Le(e))}I.R=function(t){if(Sn(this)||Sn(t))return vs;if(Ct(this))return Ct(t)?Le(this).R(Le(t)):Le(Le(this).R(t));if(Ct(t))return Le(this.R(Le(t)));if(0>this.X(d0)&&0>t.X(d0))return rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,zl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,zl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ne(n,0)};function zl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function da(t,e){this.g=t,this.h=e}function Yl(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new da(vs,vs);if(Ct(t))return e=Yl(Le(t),e),new da(Le(e.g),Le(e.h));if(Ct(e))return e=Yl(t,Le(e)),new da(Le(e.g),e.h);if(30<t.g.length){if(Ct(t)||Ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ay,r=e;0>=r.X(t);)n=h0(n),r=h0(r);var i=ms(n,1),s=ms(r,1);for(r=ms(r,2),n=ms(n,2);!Sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ms(r,1),n=ms(n,1)}return e=Ql(t,i.R(e)),new da(i,e)}for(i=vs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=rn(n),o=s.R(e);Ct(o)||0<o.X(t);)n-=r,s=rn(n),o=s.R(e);Sn(s)&&(s=Ay),i=i.add(s),t=Ql(t,o)}return new da(i,t)}I.gb=function(t){return Yl(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ne(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ne(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ne(n,this.h^t.h)};function h0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ne(n,t.h)}function ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ne(i,t.h)}Kl.prototype.createWebChannel=Kl.prototype.g;gt.prototype.send=gt.prototype.u;gt.prototype.open=gt.prototype.m;gt.prototype.close=gt.prototype.close;id.NO_ERROR=0;id.TIMEOUT=8;id.HTTP_ERROR=6;N0.COMPLETE="complete";P0.EventType=ba;ba.OPEN="a";ba.CLOSE="b";ba.ERROR="c";ba.MESSAGE="d";xe.prototype.listen=xe.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;Lt.prototype.digest=Lt.prototype.l;Lt.prototype.reset=Lt.prototype.reset;Lt.prototype.update=Lt.prototype.j;ne.prototype.add=ne.prototype.add;ne.prototype.multiply=ne.prototype.R;ne.prototype.modulo=ne.prototype.gb;ne.prototype.compare=ne.prototype.X;ne.prototype.toNumber=ne.prototype.ea;ne.prototype.toString=ne.prototype.toString;ne.prototype.getBits=ne.prototype.D;ne.fromNumber=rn;ne.fromString=gS;var mS=Vt.createWebChannelTransport=function(){return new Kl},yS=Vt.getStatEventTarget=function(){return rd()},hd=Vt.ErrorCode=id,vS=Vt.EventType=N0,_S=Vt.Event=ri,Jy=Vt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gK=Vt.FetchXmlHttpFactory=Ra,Na=Vt.WebChannel=P0,wS=Vt.XhrIo=pe,IS=Vt.Md5=Lt,ii=Vt.Integer=ne;var ES="@firebase/firestore";var Ne=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");var js="10.7.0";var ci=new rr("@firebase/firestore");function Pa(){return ci.logLevel}function C(t,...e){if(ci.logLevel<=W.DEBUG){let n=e.map(O_);ci.debug(`Firestore (${js}): ${t}`,...n)}}function Rn(t,...e){if(ci.logLevel<=W.ERROR){let n=e.map(O_);ci.error(`Firestore (${js}): ${t}`,...n)}}function As(t,...e){if(ci.logLevel<=W.WARN){let n=e.map(O_);ci.warn(`Firestore (${js}): ${t}`,...n)}}function O_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+t;throw Rn(e),new Error(e)}function oe(t,e){t||P()}function $(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ut=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var yd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ne.UNAUTHENTICATED))}shutdown(){}},rv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},iv=class{constructor(e){this.t=e,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ut,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ut)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new yd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new Ne(e)}},sv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}},av=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function zB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function X(t,e){return t<e?-1:t>e?1:0}function Rs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ue=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ue(0,0))}static max(){return new t(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _d=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},de=class t extends _d{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},qB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yt=class t extends _d{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return qB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var R=class t{constructor(e){this.path=e}static fromPath(e){return new t(de.fromString(e))}static fromName(e){return new t(de.fromString(e).popFirst(5))}static empty(){return new t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new de(e.slice()))}};var uv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};uv.UNKNOWN_ID=-1;function GB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new ui(i,R.empty(),e)}function WB(t){return new ui(t.readTime,t.key,-1)}var ui=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),R.empty(),-1)}static max(){return new t(B.max(),R.empty(),-1)}};function KB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}var QB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ya(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==QB)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var _=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Ja(t){return t.name==="IndexedDbTransactionError"}var ZS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Zd(t){return t==null}function Ua(t){return t===0&&1/t==-1/0}function YB(t){return typeof t=="number"&&Number.isInteger(t)&&!Ua(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var JB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bK=[...JB,"documentOverlays"],ZB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XB=ZB,SK=[...XB,"indexConfiguration","indexState","indexEntries"];function TS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var me=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cs(this.root,e,this.comparator,!0)}},Cs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class t{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bt=class t{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qe(yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Id=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Id("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var e$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(oe(!!t),typeof t=="string"){let e=0,n=e$.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function k_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function F_(t){let e=t.mapValue.fields.__previous_value__;return k_(e)?F_(e):e}function ja(t){let e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}var dv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ed=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k_(t)?4:eA(t)?9007199254740991:10:P()}function un(t,e){if(t===e)return!0;let n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ja(t).isEqual(ja(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=gr(i.timestampValue),a=gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ge(i.geoPointValue.latitude)===ge(s.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ge(i.integerValue)===ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ge(i.doubleValue),a=ge(s.doubleValue);return o===a?Ua(o)===Ua(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rs(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TS(o)!==TS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!un(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function Ba(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function xs(t,e){if(t===e)return 0;let n=li(t),r=li(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ge(s.integerValue||s.doubleValue),c=ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DS(t.timestampValue,e.timestampValue);case 4:return DS(ja(t),ja(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(s,o){let a=mr(s),c=mr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=X(a[u],c[u]);if(l!==0)return l}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=X(ge(s.latitude),ge(o.latitude));return a!==0?a:X(ge(s.longitude),ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=xs(a[u],c[u]);if(l)return l}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===fd.mapValue&&o===fd.mapValue)return 0;if(s===fd.mapValue)return 1;if(o===fd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=X(c[d],l[d]);if(h!==0)return h;let f=xs(a[c[d]],u[l[d]]);if(f!==0)return f}return X(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function DS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=gr(t),r=gr(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function Ms(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return R.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${hv(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function CS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function bS(t){return!!t&&"nullValue"in t}function SS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gd(t){return!!t&&"mapValue"in t}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var mt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ka(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ka(this.value))}};function tA(t){let e=[];return yi(t.fields,(n,r)=>{let i=new yt([n]);if(gd(r)){let s=tA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new bt(e)}var jt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),mt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),mt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(e,n){this.position=e,this.inclusive=n}};function AS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=R.comparator(R.fromName(o.referenceValue),n.key):r=xs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}var di=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function t$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Td=class{},Te=class t extends Td{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gv(e,n,r):n==="array-contains"?new vv(e,r):n==="in"?new _v(e,r):n==="not-in"?new wv(e,r):n==="array-contains-any"?new Iv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mv(e,r):new yv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xs(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bt=class t extends Td{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return nA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function nA(t){return t.op==="and"}function rA(t){return n$(t)&&nA(t)}function n$(t){for(let e of t.filters)if(e instanceof Bt)return!1;return!0}function pv(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+Ms(t.value);if(rA(t))return t.filters.map(e=>pv(e)).join(",");{let e=t.filters.map(n=>pv(n)).join(",");return`${t.op}(${e})`}}function iA(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)}(t,e):t instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iA(o,i.filters[a]),!0):!1}(t,e):void P()}function sA(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(t):t instanceof Bt?function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"}(t):"Filter"}var gv=class extends Te{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){let n=R.comparator(e.key,this.key);return this.matchesComparison(n)}},mv=class extends Te{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},yv=class extends Te{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}var vv=class extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return L_(n)&&Ba(n.arrayValue,this.value)}},_v=class extends Te{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}},wv=class extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}},Iv=class extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}};var Ev=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function xS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ev(t,e,n,r,i,s,o)}function V_(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ms(r)).join(",")),e.ce=n}return e.ce}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RS(t.startAt,e.startAt)&&RS(t.endAt,e.endAt)}function Tv(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function r$(t,e,n,r,i,s,o,a){return new yr(t,e,n,r,i,s,o,a)}function j_(t){return new yr(t)}function MS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return t.collectionGroup!==null}function Fa(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(yt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new di(s,r))}),n.has(yt.keyField().canonicalString())||e.le.push(new di(yt.keyField(),r))}return e.le}function an(t){let e=$(t);return e.he||(e.he=i$(e,Fa(t))),e.he}function i$(t,e){if(t.limitType==="F")return xS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new di(i.field,s)});let n=t.endAt?new Ns(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ns(t.startAt.position,t.startAt.inclusive):null;return xS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dv(t,e){let n=t.filters.concat([e]);return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cv(t,e,n){return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return U_(an(t),an(e))&&t.limitType===e.limitType}function cA(t){return`${V_(an(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sA(i)).join(", ")}]`),Zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(an(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):R.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=AS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Fa(r),i)||r.endAt&&!function(o,a,c){let u=AS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Fa(r),i))}(t,e)}function s$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uA(t){return(e,n)=>{let r=!1;for(let i of Fa(t)){let s=o$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o$(t,e,n){let r=t.field.isKeyField()?R.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?xs(c,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return XS(this.inner)}size(){return this.innerSize}};var a$=new me(R.comparator);function xn(){return a$}var lA=new me(R.comparator);function Oa(...t){let e=lA;for(let n of t)e=e.insert(n.key,n);return e}function dA(t){let e=lA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return La()}function hA(){return La()}function La(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var c$=new me(R.comparator),u$=new Qe(R.comparator);function K(...t){let e=u$;for(let n of t)e=e.add(n);return e}var l$=new Qe(X);function d$(){return l$}function fA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ua(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function h$(t,e){return YB(e)?pA(e):fA(t,e)}var Ps=class{constructor(){this._=void 0}};function f$(t,e,n){return t instanceof Os?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k_(s)&&(s=F_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof hi?mA(t,e):t instanceof fi?yA(t,e):function(i,s){let o=gA(i,s),a=NS(o)+NS(i.Ie);return fv(o)&&fv(i.Ie)?pA(a):fA(i.serializer,a)}(t,e)}function p$(t,e,n){return t instanceof hi?mA(t,e):t instanceof fi?yA(t,e):n}function gA(t,e){return t instanceof ks?function(r){return fv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Os=class extends Ps{},hi=class extends Ps{constructor(e){super(),this.elements=e}};function mA(t,e){let n=vA(e);for(let r of t.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}var fi=class extends Ps{constructor(e){super(),this.elements=e}};function yA(t,e){let n=vA(e);for(let r of t.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}var ks=class extends Ps{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function NS(t){return ge(t.integerValue||t.doubleValue)}function vA(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hi&&i instanceof hi||r instanceof fi&&i instanceof fi?Rs(r.elements,i.elements,un):r instanceof ks&&i instanceof ks?un(r.Ie,i.Ie):r instanceof Os&&i instanceof Os}(t.transform,e.transform)}var bv=class{constructor(e,n){this.version=e,this.transformResults=n}},fr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Fs=class{};function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dd(t.key,fr.none()):new pi(t.key,t.data,fr.none());{let n=t.data,r=mt.empty(),i=new Qe(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ln(t.key,r,new bt(i.toArray()),fr.none())}}function m$(t,e,n){t instanceof pi?function(i,s,o){let a=i.value.clone(),c=OS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ln?function(i,s,o){if(!md(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=OS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(wA(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Va(t,e,n,r){return t instanceof pi?function(s,o,a,c){if(!md(s.precondition,o))return a;let u=s.value.clone(),l=kS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ln?function(s,o,a,c){if(!md(s.precondition,o))return a;let u=kS(s.fieldTransforms,c,o),l=o.data;return l.setAll(wA(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return md(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=gA(r.transform,i||null);s!=null&&(n===null&&(n=mt.empty()),n.set(r.field,s))}return n||null}function PS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rs(r,i,(s,o)=>g$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var pi=class extends Fs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ln=class extends Fs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function OS(t,e,n){let r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p$(o,a,n[i]))}return r}function kS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,f$(s,o,e))}return r}var Dd=class extends Fs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sv=class extends Fs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Av=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&m$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=_A(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(n,r)=>PS(n,r))&&Rs(this.baseMutations,e.baseMutations,(n,r)=>PS(n,r))}},Rv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return c$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var xv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Mv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ie,Y;function v$(t){switch(t){default:return P();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function IA(t){if(t===void 0)return Rn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ie.OK:return m.OK;case Ie.CANCELLED:return m.CANCELLED;case Ie.UNKNOWN:return m.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return m.INTERNAL;case Ie.UNAVAILABLE:return m.UNAVAILABLE;case Ie.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ie.NOT_FOUND:return m.NOT_FOUND;case Ie.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ie.ABORTED:return m.ABORTED;case Ie.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ie.DATA_LOSS:return m.DATA_LOSS;default:return P()}}(Y=Ie||(Ie={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var FS=null;function _$(){return new TextEncoder}var w$=new ii([4294967295,4294967295],0);function LS(t){let e=_$().encode(t),n=new IS;return n.update(e),new Uint8Array(n.digest())}function VS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ii([n,r],0),new ii([i,s],0)]}var Nv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oi(`Invalid padding: ${n}`);if(r<0)throw new oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ii.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ii.fromNumber(r)));return i.compare(w$)===1&&(i=new ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=LS(e),[r,i]=VS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=LS(e),[r,i]=VS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new me(X),xn(),K())}},$a=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,K(),K(),K())}};var bs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},bd=class{constructor(e,n){this.targetId=e,this.fe=n}},Sd=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ad=class{constructor(){this.ge=0,this.pe=jS(),this.ye=et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=K(),n=K(),r=K();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new $a(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Pv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=xn(),this.Qe=US(),this.Ke=new me(X)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Tv(s))if(r===0){let o=new R(s.path);this.We(n,o,jt.newNoDocument(o,B.min()))}else oe(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}FS?.tt(function(l,d,h,f,g){var y,v,E,O,Z,re;let ye={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ie=d.unchangedNames;return ie&&(ye.bloomFilter={applied:g===0,hashCount:(y=ie?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(O=(E=(v=ie?.bits)===null||v===void 0?void 0:v.bitmap)===null||E===void 0?void 0:E.length)!==null&&O!==void 0?O:0,padding:(re=(Z=ie?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&re!==void 0?re:0,mightContain:st=>{var Nn;return(Nn=f?.mightContain(st))!==null&&Nn!==void 0&&Nn}}),ye}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=mr(r).toUint8Array()}catch(c){if(c instanceof Id)return As("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Nv(o,i,s)}catch(c){return As(c instanceof oi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Tv(a.target)){let c=new R(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,jt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=K();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Cd(e,n,this.Ke,this.qe,r);return this.qe=xn(),this.Qe=US(),this.Ke=new me(X),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ad,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qe(X),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ad),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function US(){return new me(R.comparator)}function jS(){return new me(R.comparator)}var I$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),E$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),T$=(()=>({and:"AND",or:"OR"}))(),Ov=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function kv(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D$(t,e){return Rd(t,e.toTimestamp())}function cn(t){return oe(!!t),B.fromTimestamp(function(n){let r=gr(n);return new Ue(r.seconds,r.nanos)}(t))}function B_(t,e){return function(r){return new de(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function TA(t){let e=de.fromString(t);return oe(SA(e)),e}function Fv(t,e){return B_(t.databaseId,e.path)}function Zy(t,e){let n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(DA(n))}function Lv(t,e){return B_(t.databaseId,e)}function C$(t){let e=TA(t);return e.length===4?de.emptyPath():DA(e)}function Vv(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DA(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BS(t,e,n){return{name:Fv(t,e),fields:n.value.mapValue.fields}}function b$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(oe(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(oe(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:IA(u.code);return new T(l,u.message||"")}(o);n=new Sd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Zy(t,r.document.name),s=cn(r.document.updateTime),o=r.document.createTime?cn(r.document.createTime):B.min(),a=new mt({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new bs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Zy(t,r.document),s=r.readTime?cn(r.readTime):B.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Zy(t,r.document),s=r.removedTargetIds||[];n=new bs([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Mv(i,s),a=r.targetId;n=new bd(a,o)}}return n}function S$(t,e){let n;if(e instanceof pi)n={update:BS(t,e.key,e.value)};else if(e instanceof Dd)n={delete:Fv(t,e.key)};else if(e instanceof ln)n={update:BS(t,e.key,e.data),updateMask:F$(e.fieldMask)};else{if(!(e instanceof Sv))return P();n={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Os)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ks)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:D$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function A$(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?cn(i.updateTime):cn(s);return o.isEqual(B.min())&&(o=cn(s)),new bv(o,i.transformResults||[])}(n,e))):[]}function R$(t,e){return{documents:[Lv(t,e.path)]}}function x$(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Lv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return bA(Bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Ts(d.field),direction:P$(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=kv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function M$(t){let e=C$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=CA(d);return h instanceof Bt&&rA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new di(Ds(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Zd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ns(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Ns(f,h)}(n.endAt)),r$(e,i,o,s,a,"F",c,u)}function N$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ds(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ds(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ds(n.unaryFilter.field);return Te.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ds(n.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Ds(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bt.create(n.compositeFilter.filters.map(r=>CA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function P$(t){return I$[t]}function O$(t){return E$[t]}function k$(t){return T$[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function Ds(t){return yt.fromServerFormat(t.fieldPath)}function bA(t){return t instanceof Te?function(n){if(n.op==="=="){if(SS(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(bS(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SS(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(bS(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:O$(n.op),value:n.value}}}(t):t instanceof Bt?function(n){let r=n.getFilters().map(i=>bA(i));return r.length===1?r[0]:{compositeFilter:{op:k$(n.op),filters:r}}}(t):P()}function F$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ha=class t{constructor(e,n,r,i,s=B.min(),o=B.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Uv=class{constructor(e){this.ut=e}};function L$(t){let e=M$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cv(e,e.limit,"L"):e}var xd=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ua(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(mr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?eA(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):P()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),R.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};xd.St=new xd;var jv=class{constructor(){this.on=new Bv}addToCollectionParentIndex(e,n){return this.on.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}deleteAllFieldIndexes(e){return _.resolve()}createTargetIndexes(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(ui.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}},Bv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(de.comparator)).toArray()}};var RK=new Uint8Array(0);var sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var za=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var $v=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Va(r.mutation,i,bt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){let i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn(),o=La(),a=function(){return La()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ln)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Va(l.mutation,u,l.mutation.getFieldMask(),Ue.now())):o.set(u.key,bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Hv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=La(),i=new me((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||bt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||K()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=hA();l.forEach(h=>{if(!s.has(h)){let f=_A(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return R.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(si()),a=-1,c=s;return o.next(u=>_.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,K())).next(l=>({batchId:a,changes:dA(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Oa();return this.indexManager.getCollectionParents(e,s).next(a=>_.forEach(a,c=>{let u=function(d,h){return new yr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,jt.newInvalidDocument(l)))});let a=Oa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Va(l.mutation,u,bt.empty(),Ue.now()),eh(n,u)&&(a=a.insert(c,u))}),a})}};var qv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return _.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(n)),_.resolve()}getNamedQuery(e,n){return _.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:L$(i.bundledQuery),readTime:cn(i.readTime)}}(n)),_.resolve()}};var Gv=class{constructor(){this.overlays=new me(R.comparator),this.lr=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){let r=si();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){let i=si(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new me((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=si(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=si(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return _.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xv(n,r));let s=this.lr.get(n);s===void 0&&(s=K(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var qa=class{constructor(){this.hr=new Qe(Ee.Pr),this.Ir=new Qe(Ee.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Ee(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ee(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new R(new de([])),r=new Ee(n,e),i=new Ee(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new R(new de([])),r=new Ee(n,e),i=new Ee(n,e+1),s=K();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ee(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ee=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return R.comparator(e.key,n.key)||X(e.gr,n.gr)}static Tr(e,n){return X(e.gr,n.gr)||R.comparator(e.key,n.key)}};var Wv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Qe(Ee.Pr)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Av(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new Ee(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ee(n,0),i=new Ee(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(X);return n.forEach(i=>{let s=new Ee(i,0),o=new Ee(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),_.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;R.isDocumentKey(s)||(s=s.child(""));let o=new Ee(new R(s),0),a=new Qe(X);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),_.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return _.forEach(n.mutations,i=>{let s=new Ee(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Ee(n,0),i=this.yr.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Kv=class{constructor(e){this.Cr=e,this.docs=function(){return new me(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn(),o=n.path,a=new R(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KB(WB(l),r)<=0||(i.has(l.key)||eh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}vr(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qv(this)}getSize(e){return _.resolve(this.size)}},Qv=class extends $v{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Yv=class{constructor(e){this.persistence=e,this.Fr=new vr(n=>V_(n),U_),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Mr=0,this.Or=new qa,this.targetCount=0,this.Nr=za.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),_.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new za(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.kn(n),_.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),_.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Or.containsKey(n))}};var Jv=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ZS(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yv(this),this.indexManager=new jv,this.remoteDocumentCache=function(i){return new Kv(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Uv(n),this.Kr=new qv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Wv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new Zv(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return _.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Zv=class extends lv{constructor(e){super(),this.currentSequenceNumber=e}},Xv=class t{constructor(e){this.persistence=e,this.Gr=new qa,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw P()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),_.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Hr,r=>{let i=R.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return _.or([()=>_.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var e_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=K(),i=K();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var t_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var n_=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new t_;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Pa()<=W.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),_.resolve()):(Pa()<=W.DEBUG&&C("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Pa()<=W.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):_.resolve())}zi(e,n){if(MS(n))return _.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cv(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=K(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Cv(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return MS(n)||i.isEqual(B.min())?_.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?_.resolve(null):(Pa()<=W.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(n)),this.Xi(e,o,n,GB(i,-1)).next(a=>a))})}Yi(e,n){let r=new Qe(uA(e));return n.forEach((i,s)=>{eh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Pa()<=W.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Es(n)),this.Gi.getDocumentsMatchingQuery(e,n,ui.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var r_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new me(X),this.ns=new vr(s=>V_(s),U_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function V$(t,e,n,r){return new r_(t,e,n,r)}function AA(t,e){return p(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=K();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function U$(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=_.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(y=>{let v=u.docVersions.get(g);oe(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=K();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RA(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function j$(t,e){let n=$(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,v,E){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=xn(),u=K();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(B$(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(B.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function B$(t,e,n){let r=K(),i=K();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function $$(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H$(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ha(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function i_(t,e,n){return p(this,null,function*(){let r=$(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ja(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function $S(t,e,n){let r=$(t),i=B.min(),s=K();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=$(c),h=d.ns.get(l);return h!==void 0?_.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,an(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:K())).next(a=>(z$(r,s$(e),a),{documents:a,ls:s})))}function z$(t,e,n){let r=t.rs.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var Md=class{constructor(){this.activeTargetIds=d$()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var s_=class{constructor(){this.eo=new Md,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Md,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var o_=class{ro(e){}shutdown(){}};var Nd=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pd=null;function Xy(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}var q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var a_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Ke="WebChannelConnection",c_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Xy(),c=this.So(n,r);C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw As("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=q$[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Xy();return new Promise((o,a)=>{let c=new wS;c.setWithCredentials(!0),c.listenOnce(vS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hd.NO_ERROR:let l=c.getResponseJson();C(Ke,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case hd.TIMEOUT:C(Ke,`RPC '${e}' ${s} timed out`),a(new T(m.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:let d=c.getStatus();if(C(Ke,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(v){let E=v.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(E)>=0?E:m.UNKNOWN}(f.status);a(new T(g,f.message))}else a(new T(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(m.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{C(Ke,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);C(Ke,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=Xy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mS(),a=yS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");C(Ke,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new a_({co:v=>{f?C(Ke,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(C(Ke,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Ke,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),y=(v,E,O)=>{v.listen(E,Z=>{try{O(Z)}catch(re){setTimeout(()=>{throw re},0)}})};return y(d,Na.EventType.OPEN,()=>{f||C(Ke,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Na.EventType.CLOSE,()=>{f||(f=!0,C(Ke,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),y(d,Na.EventType.ERROR,v=>{f||(f=!0,As(Ke,`RPC '${e}' stream ${i} transport errored:`,v),g.Ro(new T(m.UNAVAILABLE,"The operation could not be completed")))}),y(d,Na.EventType.MESSAGE,v=>{var E;if(!f){let O=v.data[0];oe(!!O);let Z=O,re=Z.error||((E=Z[0])===null||E===void 0?void 0:E.error);if(re){C(Ke,`RPC '${e}' stream ${i} received error:`,re);let ye=re.status,ie=function(wr){let nc=Ie[wr];if(nc!==void 0)return IA(nc)}(ye),st=re.message;ie===void 0&&(ie=m.INTERNAL,st="Unknown error status: "+ye+" with message "+re.message),f=!0,g.Ro(new T(ie,st)),d.close()}else C(Ke,`RPC '${e}' stream ${i} received:`,O),g.Vo(O)}}),y(a,_S.STAT_EVENT,v=>{v.stat===Jy.PROXY?C(Ke,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Jy.NOPROXY&&C(Ke,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function ev(){return typeof document<"u"?document:null}function th(t){return new Ov(t,!0)}var Pd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Od=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Pd(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new T(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},u_=class extends Od{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=b$(this.serializer,e),r=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?cn(o.readTime):B.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Vv(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Tv(c)?{documents:R$(s,c)}:{query:x$(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EA(s,o.resumeToken);let u=kv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=Rd(s,o.snapshotVersion.toTimestamp());let u=kv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=N$(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Vv(this.serializer),n.removeTarget=e,this.e_(n)}},l_=class extends Od{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=A$(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.I_(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Vv(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>S$(this.serializer,r))};this.e_(n)}};var d_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(m.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(m.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var h_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Rn(n),this.f_=!1):C("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var f_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){vi(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=$(c);u.C_.add(4),yield Za(u),u.M_.set("Unknown"),u.C_.delete(4),yield nh(u)})}(this))}))}),this.M_=new h_(r,i)}};function nh(t){return p(this,null,function*(){if(vi(t))for(let e of t.v_)yield e(!0)})}function Za(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function xA(t,e){let n=$(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),z_(n)?H_(n):Bs(n).Ho()&&$_(n,e))}function MA(t,e){let n=$(t),r=Bs(n);n.D_.delete(e),r.Ho()&&NA(n,e),n.D_.size===0&&(r.Ho()?r.Zo():vi(n)&&n.M_.set("Unknown"))}function $_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bs(t).u_(e)}function NA(t,e){t.x_.Oe(e),Bs(t).c_(e)}function H_(t){t.x_=new Pv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bs(t).start(),t.M_.g_()}function z_(t){return vi(t)&&!Bs(t).jo()&&t.D_.size>0}function vi(t){return $(t).C_.size===0}function PA(t){t.x_=void 0}function G$(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{$_(t,e)})})}function W$(t,e){return p(this,null,function*(){PA(t),z_(t)?(t.M_.w_(e),H_(t)):t.M_.set("Unknown")})}function K$(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof Sd&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kd(t,r)}else if(e instanceof bs?t.x_.$e(e):e instanceof bd?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(B.min()))try{let r=yield RA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),NA(s,c);let d=new Ha(l.target,c,u,l.sequenceNumber);$_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield kd(t,r)}})}function kd(t,e,n){return p(this,null,function*(){if(!Ja(e))throw e;t.C_.add(1),yield Za(t),t.M_.set("Offline"),n||(n=()=>RA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield nh(t)}))})}function OA(t,e){return e().catch(n=>kd(t,n,e))}function rh(t){return p(this,null,function*(){let e=$(t),n=_r(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Q$(e);)try{let i=yield $$(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Y$(e,i)}catch(i){yield kd(e,i)}kA(e)&&FA(e)})}function Q$(t){return vi(t)&&t.b_.length<10}function Y$(t,e){t.b_.push(e);let n=_r(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kA(t){return vi(t)&&!_r(t).jo()&&t.b_.length>0}function FA(t){_r(t).start()}function J$(t){return p(this,null,function*(){_r(t).E_()})}function Z$(t){return p(this,null,function*(){let e=_r(t);for(let n of t.b_)e.P_(n.mutations)})}function X$(t,e,n){return p(this,null,function*(){let r=t.b_.shift(),i=Rv.from(r,e,n);yield OA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield rh(t)})}function eH(t,e){return p(this,null,function*(){e&&_r(t).h_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return v$(o)&&o!==m.ABORTED}(i.code)){let s=r.b_.shift();_r(r).Yo(),yield OA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield rh(r)}})}(t,e)),kA(t)&&FA(t)})}function HS(t,e){return p(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=vi(n);n.C_.add(3),yield Za(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield nh(n)})}function tH(t,e){return p(this,null,function*(){let n=$(t);e?(n.C_.delete(2),yield nh(n)):e||(n.C_.add(2),yield Za(n),n.M_.set("Unknown"))})}function Bs(t){return t.O_||(t.O_=function(n,r,i){let s=$(n);return s.A_(),new u_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:G$.bind(null,t),Io:W$.bind(null,t),a_:K$.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.O_.Yo(),z_(t)?H_(t):t.M_.set("Unknown")):(yield t.O_.stop(),PA(t))}))),t.O_}function _r(t){return t.N_||(t.N_=function(n,r,i){let s=$(n);return s.A_(),new l_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:J$.bind(null,t),Io:eH.bind(null,t),T_:Z$.bind(null,t),I_:X$.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.N_.Yo(),yield rh(t)):(yield t.N_.stop(),t.b_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var p_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function q_(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),Ja(t))return new T(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Fd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ld=class{constructor(){this.B_=new me(R.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):P():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ls=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Fd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var g_=class{constructor(){this.k_=void 0,this.listeners=[]}},m_=class{constructor(){this.queries=new vr(e=>cA(e),Xd),this.onlineState="Unknown",this.q_=new Set}};function LA(t,e){return p(this,null,function*(){let n=$(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new g_),i)try{s.k_=yield n.onListen(r)}catch(o){let a=q_(o,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&G_(n)})}function VA(t,e){return p(this,null,function*(){let n=$(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function nH(t,e){let n=$(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&G_(n)}function rH(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function G_(t){t.q_.forEach(e=>{e.next()})}var Vd=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ud=class{constructor(e){this.key=e}},jd=class{constructor(e){this.key=e}},y_=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=K(),this.mutatedKeys=K(),this._a=uA(e),this.aa=new Fd(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Ld,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=eh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,g){let y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return y(f)-y(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Ls(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ld,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=K(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new jd(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ud(r))}),n}da(e){this.ia=e.ls,this.oa=K();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ls.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},v_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},__=class{constructor(e){this.key=e,this.Ra=!1}},w_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vr(a=>cA(a),Xd),this.fa=new Map,this.ga=new Set,this.pa=new me(R.comparator),this.ya=new Map,this.wa=new qa,this.Sa={},this.ba=new Map,this.Da=za.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function iH(t,e){return p(this,null,function*(){let n=pH(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield H$(n.localStore,an(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield sH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xA(n.remoteStore,o)}return i})}function sH(t,e,n,r,i){return p(this,null,function*(){t.va=(d,h,f)=>function(y,v,E,O){return p(this,null,function*(){let Z=v.view.ca(E);Z.Zi&&(Z=yield $S(y.localStore,v.query,!1).then(({documents:st})=>v.view.ca(st,Z)));let re=O&&O.targetChanges.get(v.targetId),ye=O&&O.targetMismatches.get(v.targetId)!=null,ie=v.view.applyChanges(Z,y.isPrimaryClient,re,ye);return qS(y,v.targetId,ie.Ta),ie.snapshot})}(t,d,h,f);let s=yield $S(t.localStore,e,!0),o=new y_(e,s.ls),a=o.ca(s.documents),c=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);qS(t,n,u.Ta);let l=new v_(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function oH(t,e){return p(this,null,function*(){let n=$(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Xd(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield i_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),MA(n.remoteStore,r.targetId),I_(n,r.targetId)}).catch(Ya))):(I_(n,r.targetId),yield i_(n.localStore,r.targetId,!0))})}function aH(t,e,n){return p(this,null,function*(){let r=gH(t);try{let i=yield function(o,a){let c=$(o),u=Ue.now(),l=a.reduce((f,g)=>f.add(g.key),K()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=xn(),y=K();return c.ss.getEntries(f,l).next(v=>{g=v,g.forEach((E,O)=>{O.isValidDocument()||(y=y.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(v=>{d=v;let E=[];for(let O of a){let Z=y$(O,d.get(O.key).overlayedDocument);Z!=null&&E.push(new ln(O.key,Z,tA(Z.value.mapValue),fr.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,E,a)}).next(v=>{h=v;let E=v.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(f,v.batchId,E)})}).then(()=>({batchId:h.batchId,changes:dA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new me(X)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Xa(r,i.changes),yield rh(r.remoteStore)}catch(i){let s=q_(i,"Failed to persist write");n.reject(s)}})}function UA(t,e){return p(this,null,function*(){let n=$(t);try{let r=yield j$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?oe(o.Ra):i.removedDocuments.size>0&&(oe(o.Ra),o.Ra=!1))}),yield Xa(n,r,e)}catch(r){yield Ya(r)}})}function zS(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=$(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&G_(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cH(t,e,n){return p(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new me(R.comparator);o=o.insert(s,jt.newNoDocument(s,B.min()));let a=K().add(s),c=new Cd(B.min(),new Map,new me(X),o,a);yield UA(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),W_(r)}else yield i_(r.localStore,e,!1).then(()=>I_(r,e,n)).catch(Ya)})}function uH(t,e){return p(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield U$(n.localStore,e);BA(n,r,null),jA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xa(n,i)}catch(i){yield Ya(i)}})}function lH(t,e,n){return p(this,null,function*(){let r=$(t);try{let i=yield function(o,a){let c=$(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(oe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);BA(r,e,n),jA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xa(r,i)}catch(i){yield Ya(i)}})}function jA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function BA(t,e,n){let r=$(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function I_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||$A(t,r)})}function $A(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(MA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),W_(t))}function qS(t,e,n){for(let r of n)r instanceof Ud?(t.wa.addReference(r.key,e),dH(t,r)):r instanceof jd?(C("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||$A(t,r.key)):P()}function dH(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ga.add(r),W_(t))}function W_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new R(de.fromString(e)),r=t.Da.next();t.ya.set(r,new __(n)),t.pa=t.pa.insert(n,r),xA(t.remoteStore,new Ha(an(j_(n.path)),r,"TargetPurposeLimboResolution",ZS._e))}}function Xa(t,e,n){return p(this,null,function*(){let r=$(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=e_.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=$(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(u,h=>_.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ja(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,y)}}})}(r.localStore,s))})}function hH(t,e){return p(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield AA(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new T(m.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xa(n,r._s)}})}function fH(t,e){let n=$(t),r=n.ya.get(e);if(r&&r.Ra)return K().add(r.key);{let i=K(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function pH(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cH.bind(null,e),e.Va.a_=nH.bind(null,e.eventManager),e.Va.Fa=rH.bind(null,e.eventManager),e}function gH(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lH.bind(null,e),e}var Bd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return V$(this.persistence,new n_,e.initialUser,this.serializer)}createPersistence(e){return new Jv(Xv.jr,this.serializer)}createSharedClientState(e){return new s_}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var E_=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hH.bind(null,this.syncEngine),yield tH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new m_}()}createDatastore(e){let n=th(e.databaseInfo.databaseId),r=function(s){return new c_(s)}(e.databaseInfo);return function(s,o,a,c){return new d_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new f_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zS(this.syncEngine,n,0),function(){return Nd.D()?new Nd:new o_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new w_(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=$(n);C("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Za(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var $d=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var T_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ne.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){C("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(C("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=q_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function tv(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield AA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function GS(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield yH(t);C("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>HS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>HS(e.remoteStore,s)),t._onlineComponents=e})}function mH(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function yH(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!mH(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),yield tv(t,new Bd)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield tv(t,new Bd);return t._offlineComponents})}function HA(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield GS(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield GS(t,new E_))),t._onlineComponents})}function vH(t){return HA(t).then(e=>e.syncEngine)}function zA(t){return p(this,null,function*(){let e=yield HA(t),n=e.eventManager;return n.onListen=iH.bind(null,e.syncEngine),n.onUnlisten=oH.bind(null,e.syncEngine),n})}function _H(t,e,n={}){let r=new Ut;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new $d({next:h=>{o.enqueueAndForget(()=>VA(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new T(m.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new T(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Vd(j_(a.path),l,{includeMetadataChanges:!0,J_:!0});return LA(s,d)}(yield zA(t),t.asyncQueue,e,n,r)})),r.promise}function wH(t,e,n={}){let r=new Ut;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new $d({next:h=>{o.enqueueAndForget(()=>VA(s,d)),h.fromCache&&c.source==="server"?u.reject(new T(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Vd(a,l,{includeMetadataChanges:!0,J_:!0});return LA(s,d)}(yield zA(t),t.asyncQueue,e,n,r)})),r.promise}function qA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var WS=new Map;function GA(t,e,n){if(!n)throw new T(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IH(t,e,n,r){if(e===!0&&r===!0)throw new T(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!R.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){if(R.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ih(t);throw new T(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Hd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nv;switch(r.type){case"firstParty":return new ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=WS.get(n);r&&(C("ComponentProvider","Removing Datastore"),WS.delete(n),r.terminate())}(this),Promise.resolve()}};function WA(t,e,n,r={}){var i;let s=(t=Mn(t,Vs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ne.MOCK_USER;else{a=HC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ne(u)}t._authCredentials=new rv(new yd(a,c))}}var gi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Xe=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},pr=class t extends gi{constructor(e,n,r){super(e,n,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new R(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function KA(t,e,...n){if(t=Re(t),GA("collection","path",e),t instanceof Vs){let r=de.fromString(e,...n);return QS(r),new pr(t,null,r)}{if(!(t instanceof Xe||t instanceof pr))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return QS(r),new pr(t.firestore,null,r)}}function QA(t,e,...n){if(t=Re(t),arguments.length===1&&(e=vd.newId()),GA("doc","path",e),t instanceof Vs){let r=de.fromString(e,...n);return KS(r),new Xe(t,null,new R(r))}{if(!(t instanceof Xe||t instanceof pr))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return KS(r),new Xe(t.firestore,t instanceof pr?t.converter:null,new R(r))}}var D_=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Pd(this,"async_queue_retry"),this.iu=()=>{let n=ev();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ev();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Ut;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ja(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=p_.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&P()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var mi=class extends Vs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new D_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JA(this),this._firestoreClient.terminate()}};function YA(t,e){let n=typeof t=="object"?t:ds(),r=typeof t=="string"?t:e||"(default)",i=Xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$C("firestore");s&&WA(i,...s)}return i}function K_(t){return t._firestoreClient||JA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new dv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new T_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ga=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new T(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Us=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wa=class{constructor(e){this._methodName=e}};var Ka=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}};var EH=/^__.*__$/,C_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ln(e,this.data,this.fieldMask,n,this.fieldTransforms):new pi(e,this.data,n,this.fieldTransforms)}},zd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ln(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ZA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var b_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(ZA(this.Iu)&&EH.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},S_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||th(e)}pu(e,n,r,i=!1){return new b_({Iu:e,methodName:n,gu:r,path:yt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Q_(t){let e=t._freezeSettings(),n=th(t._databaseId);return new S_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TH(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Y_("Data must be an object, but it was:",o,r);let a=XA(r,o),c,u;if(s.merge)c=new bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=A_(e,d,n);if(!o.contains(h))throw new T(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tR(l,h)||l.push(h)}c=new bt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new C_(new mt(a),c,u)}var qd=class t extends Wa{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function DH(t,e,n,r){let i=t.pu(1,e,n);Y_("Data must be an object, but it was:",i,r);let s=[],o=mt.empty();yi(r,(c,u)=>{let l=J_(e,c,n);u=Re(u);let d=i.Ru(l);if(u instanceof qd)s.push(l);else{let h=ec(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new bt(s);return new zd(o,a,i.fieldTransforms)}function CH(t,e,n,r,i,s){let o=t.pu(1,e,n),a=[A_(e,r,n)],c=[i];if(s.length%2!=0)throw new T(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(A_(e,s[h])),c.push(s[h+1]);let u=[],l=mt.empty();for(let h=a.length-1;h>=0;--h)if(!tR(u,a[h])){let f=a[h],g=c[h];g=Re(g);let y=o.Ru(f);if(g instanceof qd)u.push(f);else{let v=ec(g,y);v!=null&&(u.push(f),l.set(f,v))}}let d=new bt(u);return new zd(l,d,o.fieldTransforms)}function bH(t,e,n,r=!1){return ec(n,t.pu(r?4:3,e))}function ec(t,e){if(eR(t=Re(t)))return Y_("Unsupported field value:",e,t),XA(t,e);if(t instanceof Wa)return function(r,i){if(!ZA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=ec(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ue.fromDate(r);return{timestampValue:Rd(i.serializer,s)}}if(r instanceof Ue){let s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(i.serializer,s)}}if(r instanceof Ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ga)return{bytesValue:EA(i.serializer,r._byteString)};if(r instanceof Xe){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${ih(r)}`)}(t,e)}function XA(t,e){let n={};return XS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,i)=>{let s=ec(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Ka||t instanceof Ga||t instanceof Xe||t instanceof Wa)}function Y_(t,e,n){if(!eR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ih(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function A_(t,e,n){if((e=Re(e))instanceof Us)return e._internalPath;if(typeof e=="string")return J_(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}var SH=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(SH)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Us(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new T(m.INVALID_ARGUMENT,a+t+c)}function tR(t,e){return t.some(n=>n.isEqual(e))}var Wd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(sh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},R_=class extends Wd{data(){return super.data()}};function sh(t,e){return typeof e=="string"?J_(t,e):e instanceof Us?e._internalPath:e._delegate._internalPath}function AH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qa=class{},Kd=class extends Qa{};function nR(t,e,...n){let r=[];e instanceof Qa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof x_).length,a=s.filter(c=>c instanceof Qd).length;if(o>1||o>0&&a>0)throw new T(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Qd=class t extends Kd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return sR(e._query,n),new gi(e.firestore,e.converter,Dv(e._query,n))}_parse(e){let n=Q_(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new T(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){JS(d,l);let f=[];for(let g of d)f.push(YS(c,s,g));h={arrayValue:{values:f}}}else h=YS(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||JS(d,l),h=bH(a,o,d,l==="in"||l==="not-in");return Te.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function rR(t,e,n){let r=e,i=sh("where",t);return Qd._create(i,r,n)}var x_=class t extends Qa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)sR(o,c),o=Dv(o,c)}(e._query,n),new gi(e.firestore,e.converter,Dv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var M_=class t extends Kd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new T(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new T(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new di(s,o)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new yr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function iR(t,e="asc"){let n=e,r=sh("orderBy",t);return M_._create(r,n)}function YS(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new T(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&n.indexOf("/")!==-1)throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(de.fromString(n));if(!R.isDocumentKey(r))throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CS(t,new R(r))}if(n instanceof Xe)return CS(t,n._key);throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function JS(t,e){if(!Array.isArray(t)||t.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var N_=class{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ka(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=F_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){let n=gr(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=de.fromString(e);oe(SA(r));let i=new Ed(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function RH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ai=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yd=class extends Wd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ss(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ss=class extends Yd{data(e={}){return super.data(e)}},P_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ai(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ss(this._firestore,this._userDataWriter,r.key,r,new ai(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ss(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ai(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ss(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ai(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:xH(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function xH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function oR(t){t=Mn(t,Xe);let e=Mn(t.firestore,mi);return _H(K_(e),t._key).then(n=>MH(e,t,n))}var Jd=class extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}};function aR(t){t=Mn(t,gi);let e=Mn(t.firestore,mi),n=K_(e),r=new Jd(e);return AH(t._query),wH(n,t._query).then(i=>new P_(e,r,t,i))}function cR(t,e,n){t=Mn(t,Xe);let r=Mn(t.firestore,mi),i=RH(t.converter,e,n);return lR(r,[TH(Q_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function uR(t,e,n,...r){t=Mn(t,Xe);let i=Mn(t.firestore,mi),s=Q_(i),o;return o=typeof(e=Re(e))=="string"||e instanceof Us?CH(s,"updateDoc",t._key,e,n,r):DH(s,"updateDoc",t._key,e),lR(i,[o.toMutation(t._key,fr.exists(!0))])}function lR(t,e){return function(r,i){let s=new Ut;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return aH(yield vH(r),i,s)})),s.promise}(K_(t),e)}function MH(t,e,n){let r=n.docs.get(e._key),i=new Jd(t);return new Yd(t,i,e._key,r,new ai(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){js=i})(or),sr(new Dt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new mi(new iv(r.getProvider("auth-internal")),new cv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),be(ES,"4.4.0",e),be(ES,"4.4.0","esm2017")})();var tc=class{constructor(e){return e}},dR="firestore",Z_=class{constructor(){return ea(dR)}};var X_=new M("angularfire2.firestore-instances");function NH(t,e){let n=ml(dR,t,e);return n&&new tc(n)}function PH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tc(r)}}var OH={provide:Z_,deps:[[new ze,X_]]},kH={provide:tc,useFactory:NH,deps:[[new ze,X_],Dn]},FH=(()=>{class t{constructor(){be("angularfire",Kr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=It({type:t});static \u0275inj=wt({providers:[kH,OH]})}return t})();function G7(t,...e){return{ngModule:FH,providers:[{provide:X_,useFactory:PH(t),multi:!0,deps:[J,ke,ps,Qr,[new ze,ua],[new ze,fs],...e]}]}}var W7=qe(KA,!0);var K7=qe(QA,!0);var Q7=qe(oR,!0);var Y7=qe(aR,!0);var J7=qe(YA,!0);var Z7=qe(iR,!0);var X7=qe(nR,!0);var eQ=qe(cR,!0);var tQ=qe(uR,!0);var nQ=qe(rR,!0);export{D as a,ue as b,LH as c,VH as d,p as e,ve as f,Q as g,je as h,Oe as i,_h as j,kn as k,he as l,x as m,Ri as n,DR as o,H as p,zs as q,Mi as r,jR as s,Ln as t,BR as u,hn as v,$R as w,Ni as x,qR as y,Th as z,GR as A,WR as B,Ch as C,vc as D,fe as E,KR as F,AI as G,b as H,A as I,wt as J,M as K,S as L,w as M,HI as N,It as O,_u as P,lo as Q,V3 as R,U3 as S,j3 as T,B3 as U,dp as V,hp as W,$3 as X,ze as Y,Nr as Z,Fr as _,MM as $,$M as aa,ke as ba,Ft as ca,H3 as da,_p as ea,Kt as fa,LN as ga,yo as ha,ro as ia,Mu as ja,z3 as ka,q3 as la,Gt as ma,G3 as na,ht as oa,KT as pa,Nt as qa,J as ra,mO as sa,Up as ta,RO as ua,xO as va,Hf as wa,K3 as xa,Q3 as ya,Y3 as za,oD as Aa,aD as Ba,$p as Ca,J3 as Da,Ji as Ea,zp as Fa,Z3 as Ga,X3 as Ha,e6 as Ia,t6 as Ja,Ck as Ka,lD as La,n6 as Ma,hD as Na,r6 as Oa,i6 as Pa,Qn as Qa,s6 as Ra,Zi as Sa,Fe as Ta,x6 as Ua,M6 as Va,s1 as Wa,N6 as Xa,$6 as Ya,BD as Za,o5 as _a,B1 as $a,a5 as ab,yF as bb,En as cb,A5 as db,R5 as eb,x5 as fb,$C as gb,HC as hb,pt as ib,Re as jb,Dt as kb,sr as lb,Xo as mb,or as nb,ds as ob,be as pb,Kr as qb,ml as rb,ea as sb,fs as tb,ps as ub,qe as vb,Dn as wb,Qr as xb,m8 as yb,y8 as zb,qb as Ab,ca as Bb,ua as Cb,lK as Db,dK as Eb,hK as Fb,tc as Gb,G7 as Hb,W7 as Ib,K7 as Jb,Q7 as Kb,Y7 as Lb,J7 as Mb,Z7 as Nb,X7 as Ob,eQ as Pb,tQ as Qb,nQ as Rb};
