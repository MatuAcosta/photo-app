import{a as Te}from"./chunk-DPQPFFPR.js";import{a as ke,b as _,c as Fe,d as Me,e as Oe,f as Le,g as L,h as Re,i as Pe,j as D}from"./chunk-NPEXDCMJ.js";import{b as Ne,d as _e,g as De}from"./chunk-JGAUUDJJ.js";import{b as nt,d as v}from"./chunk-YC7R3RJJ.js";import{$ as f,Aa as i,Ba as s,Ca as x,Cb as Ie,Da as T,Db as Ce,Eb as Ae,Fa as h,Ga as N,Hb as Se,J as H,Ja as l,K as G,M as u,Mb as Ee,N as d,Na as g,O as B,Oa as Z,Pa as Q,R as C,S as A,T as z,U as K,Ua as ee,Wa as te,Y as b,_a as oe,a as F,ab as ne,b as M,ba as q,bb as re,ca as J,d as ot,db as ie,e as c,eb as se,gb as ae,jb as O,kb as le,lb as ce,mb as ue,na as S,ob as pe,pb as w,qa as X,qb as me,ra as W,rb as de,sb as fe,tb as he,ua as Y,ub as ge,vb as be,wa as E,wb as xe,xa as k,xb as we,yb as ve,zb as ye}from"./chunk-VR3BEUJN.js";var Ue=(t,e)=>c(void 0,null,function*(){let r=u(ke),n=!1;return r.userAuth$.subscribe(a=>{n=!!a}).unsubscribe(),n});var $e=[{path:"home",title:"PicTopic",loadComponent(){return import("./chunk-FQIG3CKJ.js").then(t=>t.HomeComponent)}},{path:"sign-up",title:"PicTopic",loadComponent(){return import("./chunk-EEVRA7PL.js").then(t=>t.AuthComponent)}},{path:"sign-in",title:"PicTopic",loadComponent(){return import("./chunk-EEVRA7PL.js").then(t=>t.AuthComponent)}},{path:"",redirectTo:"home",pathMatch:"full"},{path:"upload",title:"PicTopic",loadComponent(){return import("./chunk-NROVZHNL.js").then(t=>t.UploadComponent)},canActivate:[Ue]}];var He="functions";var R=class{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||n.get().then(o=>this.appCheck=o,()=>{})}getAuthToken(){return c(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return c(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return c(this,null,function*(){if(this.appCheck){let r=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return r.error?null:r.token}return null})}getContext(e){return c(this,null,function*(){let r=yield this.getAuthToken(),n=yield this.getMessagingToken(),o=yield this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:o}})}};var P="us-central1";var U=class{constructor(e,r,n,o,a=P,I){this.app=e,this.fetchImpl=I,this.emulatorOrigin=null,this.contextProvider=new R(r,n,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{let m=new URL(a);this.customDomain=m.origin,this.region=P}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){let r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}};function rt(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}var je="@firebase/functions",Ve="0.11.0";var it="auth-internal",st="app-check-internal",at="messaging-internal";function lt(t,e){let r=(n,{instanceIdentifier:o})=>{let a=n.getProvider("app").getImmediate(),I=n.getProvider(it),m=n.getProvider(at),tt=n.getProvider(st);return new U(a,I,m,tt,o,t)};ce(new le(He,r,"PUBLIC").setMultipleInstances(!0)),w(je,Ve,e),w(je,Ve,"esm2017")}function Ge(t=pe(),e=P){let n=ue(O(t),He).getImmediate({identifier:e}),o=ae("functions");return o&&Be(n,...o),n}function Be(t,e,r){rt(O(t),e,r)}lt(fetch.bind(self));var y=class{constructor(e){return e}},ze="functions",$=class{constructor(){return fe(ze)}};var V=new G("angularfire2.functions-instances");function ct(t,e){let r=de(ze,t,e);return r&&new y(r)}function ut(t){return(e,r)=>{let n=e.runOutsideAngular(()=>t(r));return new y(n)}}var pt={provide:$,deps:[[new b,V]]},mt={provide:y,useFactory:ct,deps:[[new b,V],xe]},dt=(()=>{class t{constructor(){w("angularfire",me.full,"fn")}static \u0275fac=function(n){return new(n||t)};static \u0275mod=B({type:t});static \u0275inj=H({providers:[mt,pt]})}return t})();function Ke(t,...e){return{ngModule:dt,providers:[{provide:V,useFactory:ut(t),multi:!0,deps:[W,q,ge,we,[new b,Ie],[new b,he],...e]}]}}var qe=be(Ge,!0);var ft={logged:!1},Je=Re(ft,L(Pe,t=>M(F({},t),{logged:!0})),L(D,t=>M(F({},t),{logged:!1})));var p={projectId:"photo-app-cbdeb",appId:"1:563996376380:web:64782452c5e52634d87239",storageBucket:"photo-app-cbdeb.appspot.com",apiKey:"AIzaSyALy3ifVcCWtUbAqAS766EqjIu7D7qEBHk",authDomain:"photo-app-cbdeb.firebaseapp.com",messagingSenderId:"563996376380",measurementId:"G-DFX574X7K9"};var Xe={providers:[se($e),ne(),f(ve(()=>ye({projectId:p.projectId,appId:p.appId,storageBucket:p.storageBucket,apiKey:p.apiKey,authDomain:p.authDomain,messagingSenderId:p.messagingSenderId,measurementId:p.measurementId}))),f(Ce(()=>Ae())),f(Se(()=>Ee())),f(Ne(()=>_e())),f(Ke(()=>qe())),Te(),Le({auth:Je})]};var We=ot(nt());function ht(t,e){t&1&&(i(0,"p",10),l(1,"Want to upload your photo?"),s(),i(2,"button",11)(3,"a",12),l(4," Sign Up "),s()(),i(5,"button",13)(6,"a",14),l(7," Sign In "),s()())}function gt(t,e){if(t&1){let r=T();i(0,"button",15)(1,"a",16),l(2," Upload "),s()(),i(3,"button",17),h("click",function(){C(r);let o=N();return A(o.logout())}),i(4,"a",18),l(5," Logout "),s()()}}var Ye=(()=>{let e=class e{constructor(){this.store=u(_)}ngOnInit(){}logout(){this.toastify("Logout success"),this.store.dispatch(D())}toastify(n,o){return(0,We.default)({text:n,duration:3e3,close:!0,gravity:"top",position:"center",stopOnFocus:!0,style:{background:o?`linear-gradient(to right,${v.error[0]},${v.error[1]})`:`linear-gradient(to right, ${v.success[0]}, ${v.success[1]})`},onClick:function(){}}).showToast()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=d({type:e,selectors:[["app-header"]],inputs:{logged:"logged"},standalone:!0,features:[g],decls:15,vars:1,consts:[[1,"flex","items-center","justify-between","flex-wrap","bg-gradient-to-r","from-emerald-950","from-20%","to-slate-950","to-90%","p-4","lg:h-20"],[1,"flex","items-center","flex-shrink-0","text-emerald","mr-6"],["routerLink",""],[1,"font-sans","italic","bg-gradient-to-r","from-emerald-100","from-10%","to-slate-300","to-90%","bg-clip-text","text-transparent","text-6xl","font-bold"],[1,"block","lg:hidden"],[1,"flex","items-center","px-3","py-2","border","rounded","text-emerald-500","border-emerald-500","hover:text-white","hover:border-white"],["viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"fill-current","h-3","w-3"],["d","M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"],[1,"w-full","block","flex-grow","lg:flex","lg:items-center","lg:w-80"],[1,"text-md","lg:flex","lg:flex-grow","justify-end"],[1,"mt-3","mr-3","self-center","text-slate-200"],[1,"hover:bg-emerald-900","border-2","hover:border-emerald-400","bg-gradient-to-r","from-slate-900","from-20%","to-slate-950","to-90%","w-32","md:mt-3","lg:mr-3","rounded-xl","px-6","py-1","flex","items-center","justify-center"],["routerLink","sign-up",1,"block","text-center","lg:inline-block","lg:mt-0","text-white"],[1,"w-32","hover:bg-emerald-900","border-2","hover:border-emerald-400","bg-gradient-to-r","from-slate-900","from-20%","to-slate-950","to-90%","lg:mr-3","md:mt-3","rounded-xl","px-6","py-1","flex","items-center","justify-center"],["routerLink","sign-in",1,"block","text-center","lg:inline-block","lg:mt-0","text-white"],[1,"w-32","hover:bg-emerald-900","border-2","hover:border-emerald-400","bg-gradient-to-r","from-slate-900","from-20%","to-slate-950","to-90%","lg:mr-3","mt-3","rounded-xl","px-6","py-1","flex","items-center","justify-center"],["routerLink","/upload",1,"block","text-center","lg:inline-block","lg:mt-0","text-white"],[1,"w-32","hover:bg-emerald-900","border-2","hover:border-emerald-400","bg-gradient-to-r","from-slate-900","from-20%","to-slate-950","to-90%","lg:mr-3","mt-3","rounded-xl","px-6","py-1","flex","items-center","justify-center",3,"click"],["routerLink","/home",1,"block","text-center","lg:inline-block","lg:mt-0","text-white"]],template:function(o,a){o&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h1",3),l(4,"PicTopic"),s()()(),i(5,"div",4)(6,"button",5),z(),i(7,"svg",6)(8,"title"),l(9,"Menu"),s(),x(10,"path",7),s()()(),K(),i(11,"div",8)(12,"div",9),E(13,ht,8,0)(14,gt,6,0),s()()()),o&2&&(S(13),k(13,a.logged?14:13))},dependencies:[ie],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:red;width:100%}"]});let t=e;return t})();var bt=Oe("auth"),Ze=Me(bt,t=>t.logged);var Qe=(()=>{let e=class e{constructor(){this.closeModal=new X}close(){this.closeModal.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=d({type:e,selectors:[["app-instructions-modal"]],outputs:{closeModal:"closeModal"},standalone:!0,features:[g],decls:12,vars:0,consts:[[1,"w-2/3","h-auto","z-50","fixed","left-48","top-1/3","p-8","rounded-xl","border-emerald-500","border-2","shadow-xl","bg-gradient-to-r","from-emerald-950","from-20%","to-slate-950","to-90%","animate-show"],[1,"mt-2","mb-4"],[1,"text-4xl","text-slate-200","font-bold"],[1,"text-slate-200","text-lg","my-5"],[1,"mt-2"],[1,"flex","items-center","justify-center","mt-10"],[1,"bg-slate-900","w-48","px-5","py-3","rounded-2xl","text-slate-200","border-emerald-500","border-2","hover:bg-emerald-950",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"section",1)(2,"h2",2),l(3,"Welcome!"),s()(),i(4,"section",3)(5,"p"),l(6," Pictopic is a platform that unveils a new topic every day, inviting users to share their favorite images related to that specific theme. Each user has the opportunity to upload one image per day, which will be automatically removed the following day. "),s(),i(7,"p",4),l(8," Registration is required for uploading content. However, users can freely engage with the community by liking and appreciating the curated content without the need for registration. "),s()(),i(9,"section",5)(10,"button",6),h("click",function(){return a.close()}),l(11," Done! "),s()()())}});let t=e;return t})();function xt(t,e){if(t&1){let r=T();i(0,"app-instructions-modal",2),h("closeModal",function(o){C(r);let a=N();return A(a.closeModal(o))}),s()}}var et=(()=>{let e=class e{constructor(){this.title="photo-app",this.store=u(_),this.dateService=u(De),this.platformId=u(J),this.authLogged$=this.store.pipe(Fe(Ze)),this.showModal=!1,this.platformId==="browser"&&localStorage.getItem("instructions")===null&&(localStorage.setItem("instructions","false"),this.showModal=!0),this.platformId==="browser"&&localStorage.getItem("instructions")==="false"&&(this.showModal=!0)}ngOnInit(){return c(this,null,function*(){this.platformId==="browser"&&localStorage.getItem("date")!==this.dateService.todayDate.join("-")&&(localStorage.removeItem("usernameLikes"),localStorage.setItem("date",this.dateService.todayDate.join("-")))})}closeModal(n){this.platformId==="browser"&&localStorage.setItem("instructions","true"),this.showModal=!1}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=d({type:e,selectors:[["app-root"]],standalone:!0,features:[g],decls:5,vars:4,consts:[[3,"logged"],[1,"container","mx-auto","flex","flex-col","items-center","h-screen"],[3,"closeModal"]],template:function(o,a){o&1&&(x(0,"app-header",0),Z(1,"async"),i(2,"main",1),E(3,xt,1,0,"app-instructions-modal"),x(4,"router-outlet"),s()),o&2&&(Y("logged",Q(1,2,a.authLogged$)),S(3),k(3,a.showModal?3:-1))},dependencies:[Qe,te,ee,re,Ye]});let t=e;return t})();oe(et,Xe).catch(t=>console.error(t));
